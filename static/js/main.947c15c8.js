/*! For license information please see main.947c15c8.js.LICENSE.txt */
!function(){var e={3936:function(e,t,n){var r=n(294).Protocol,i=n(2363).Node,o=n(18).NodeProxy;e.exports=i,e.exports.relay=function(e,t){var n=new r(t);return new Promise((function(t){n.once("handshake",(function(r){var i=new o(e,n,{publicKey:r.publicKey,secretKey:r.secretKey});t(i)})).heartbeat()}))}},4154:function(e,t,n){var r=n(2122).default,i=n(2479),o=i.fixed32,a=i.fixed64,s=i.uint32,u=i.buffer,l=i.array,c=n(182).ipv4Address,h=n(4587).alloc,f=r(r({},u),{},{decode:function(e){var t=u.decode(e);return null===t?h(0):t}}),d=o,p=a,g=o,y=u,A=s,v=l(f),b=o,_={preencode:function(e,t){y.preencode(e,t.id),c.preencode(e,t)},encode:function(e,t){y.encode(e,t.id),c.encode(e,t)},decode:function(e){return r({id:y.decode(e)},c.decode(e))}},m=l(c),k={preencode:function(e,t){d.preencode(e,t.publicKey),m.preencode(e,t.relayAddresses)},encode:function(e,t){d.encode(e,t.publicKey),m.encode(e,t.relayAddresses)},decode:function(e){return{publicKey:d.decode(e),relayAddresses:m.decode(e)}}},I=l(k),w={preencode:function(e,t){b.preencode(e,t.token),_.preencode(e,t.from),_.preencode(e,t.to),I.preencode(e,t.peers)},encode:function(e,t){b.encode(e,t.token),_.encode(e,t.from),_.encode(e,t.to),I.encode(e,t.peers)},decode:function(e){return{token:b.decode(e),from:_.decode(e),to:_.decode(e),peers:I.decode(e)}}};e.exports={buffer:f,publicKey:d,secretKey:p,topic:g,peerId:y,id:A,batch:v,token:b,node:_,relayAddresses:m,peer:k,peers:I,announcers:w}},6338:function(e,t,n){var r=n(348),i=n(4587);e.exports={keyPair:function(e){var t=i.alloc(r.crypto_sign_PUBLICKEYBYTES),n=i.alloc(r.crypto_sign_SECRETKEYBYTES);return e?r.crypto_sign_seed_keypair(t,n,e):r.crypto_sign_keypair(t,n),{publicKey:t,secretKey:n}},hash:function(e){var t=i.allocUnsafe(32);return r.crypto_generichash(t,e),t}}},7222:function(e,t,n){var r=n(9728).default,i=n(6690).default,o=n(9607).noisePayload,a=n(2479).encode,s=n(6978).nextId,u=r((function e(t,n,r){"use strict";i(this,e),this._node=t,this._protocol=n,this._serverAlias=r,this._deny=l.bind(this),this._requests=new Map,this._onDeny=h.bind(this),this._onAccept=f.bind(this)}));function l(e,t){var n=this,r=s();return this._protocol.incoming.send({id:r,serverAlias:this._serverAlias,remotePublicKey:e,payload:a(o,t)}),new Promise((function(e){n._requests.set(r,c.bind(n,e,r))}))}function c(e,t,n){this._requests.delete(t),e(n)}function h(e){var t=this._requests.get(e.id);t&&t(!0)}function f(e){var t=this._requests.get(e.id);t&&t(!1)}e.exports={FirewallProxy:u}},5114:function(e,t,n){var r=n(7061).default,i=n(7156).default,o=n(9728).default,a=n(6690).default,s=n(9607).noisePayload,u=n(2479).decode,l=n(8451),c=o((function e(t,n,r){"use strict";a(this,e),this._node=t,this._protocol=n,this._deny=r,this._onIncoming=h.bind(this)}));function h(e){return f.apply(this,arguments)}function f(){return(f=i(r().mark((function e(t){var n,i;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=u(s,t.payload),i=!0,e.prev=2,e.next=5,this._deny(t.remotePublicKey,n);case 5:i=e.sent,e.next=11;break;case 8:e.prev=8,e.t0=e.catch(2),l(e.t0);case 11:i?this._protocol.deny.send({id:t.id}):this._protocol.accept.send({id:t.id});case 12:case"end":return e.stop()}}),e,this,[[2,8]])})))).apply(this,arguments)}e.exports={Firewall:c}},4146:function(e,t,n){var r=n(2122).default,i=n(6690).default,o=n(9728).default,a=n(9607).noisePayload,s=n(2479),u=s.encode,l=s.decode,c=function(){"use strict";function e(t,n,r,o,a,s,u,l){i(this,e),this._node=t,this._protocol=n,this._id=r,this._remoteStreamAlias=o,this._serverAlias=a,this._isInitiator=s,this._keyPair=u,this._remotePublicKey=l,this._remoteId=null,this._holepunchSecret=null,this._onNoiseReply=null}return o(e,[{key:"send",value:function(e){var t=this;return this._protocol.noiseSend.send({isInitiator:this._isInitiator,id:this._id,remoteStreamAlias:this._remoteStreamAlias,payload:u(a,e)}),new Promise((function(e,n){t._onNoiseReply=h.bind(t,e,n)}))}},{key:"recv",value:function(e){var t=this;return this._protocol.noiseReceive.send({isInitiator:this._isInitiator,id:this._id,serverAlias:this._serverAlias,payload:e}),new Promise((function(e,n){t._onNoiseReply=f.bind(t,e,n)}))}},{key:"final",value:function(){return{id:this._id,isInitiator:this._isInitiator,publicKey:this._keyPair.publicKey,remoteId:this._remoteId,remotePublicKey:this._remotePublicKey,holepunchSecret:this._holepunchSecret}}}]),e}();function h(e,t,n){this._onNoiseReply=null,n.remotePublicKey&&(this._remotePublicKey=n.remotePublicKey),n.complete&&(this._remoteId=n.remoteId,this._holepunchSecret=n.holepunchSecret),e(n.payload)}function f(e,t,n){this._onNoiseReply=null,n.remotePublicKey&&(this._remotePublicKey=n.remotePublicKey),n.complete&&(this._remoteId=n.remoteId,this._holepunchSecret=n.holepunchSecret),0===n.payload.length?(this._node._handshakes.delete(this._id),t(new Error("Handshake denied"))):e(r({id:n.id},l(a,n.payload)))}e.exports={HandshakeProxy:c}},7:function(e,t,n){var r=n(6690).default,i=n(9728).default,o=n(4587),a=n(5598),s=n(7463),u=n(274).NS,l=n(1244),c=n(348),h=n(2479).decode,f=n(9607).noisePayload,d=n(8451),p=u.PEER_HANDSHAKE,g=function(){"use strict";function e(t,n,i,o,s,u,c){r(this,e),this._node=t,this._protocol=n,this._firewall=i,this._id=o,this.isInitiator=s,this.keyPair=u,this.remotePublicKey=c,this.remoteId=null,this.holepunchSecret=null,this.complete=!1,this._handshake=new a("IK",s,u,{curve:l}),this._handshake.initialise(p,c),this._onComplete=y.bind(this),this._onNoise=A.bind(this),this._onNoiseSend=v.bind(this),this._onNoiseReceive=b.bind(this)}return i(e,[{key:"hash",get:function(){return this._handshake.hash}},{key:"tx",get:function(){return this._handshake.tx}},{key:"rx",get:function(){return this._handshake.rx}}]),e}();function y(){this.complete=!0;var e=this._handshake.hash;this.remoteId=s.id(e,!0),this.holepunchSecret=o.allocUnsafe(32),c.crypto_generichash(this.holepunchSecret,u.PEER_HOLEPUNCH,e)}function A(e){if(this._handshake.complete)this._onComplete();else if(this.remotePublicKey=this._handshake.rs,this._firewall){var t=h(f,e),n=!0;try{n=this._firewall._deny(this.remotePublicKey,t)}catch(r){d(r)}if(n)return this._node._handshakes.delete(this._id),this._protocol.noiseReply.send({id:this._id,payload:null,remotePublicKey:this.remotePublicKey})}this._protocol.noiseReply.send({id:this._id,payload:e,isInitiator:this.isInitiator,complete:this.complete,remoteId:this.remoteId,holepunchSecret:this.holepunchSecret,remotePublicKey:this.remotePublicKey})}function v(e){this._onNoise(this._handshake.send(e.payload))}function b(e){this._onNoise(this._handshake.recv(e.payload))}e.exports={Handshake:g}},6978:function(e,t,n){n(3744).default;e.exports={nextId:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Math.pow(2,32),r=e;return function(){var i=r;return(r+=t)>=n&&(r=e),i}}(1)}},2409:function(e,t,n){var r=n(2122).default,i=n(2479),o=i.fixed32,a=i.fixed64,s=i.none,u=i.string,l=n(182).ipv4Address,c=n(4154),h=c.buffer,f=c.publicKey,d=c.secretKey,p=c.id,g=c.batch,y=c.topic,A=c.peerId,v=c.token,b=c.relayAddresses,_={preencode:function(e,t){e.end++,f.preencode(e,t.publicKey),t.custodial&&d.preencode(e,t.secretKey)},encode:function(e,t){var n=e.start++,r=0;f.encode(e,t.publicKey),t.custodial&&(r|=1,d.encode(e,t.secretKey)),e.buffer[n]=r},decode:function(e){var t=0!==(1&e.buffer[e.start++]);return{custodial:t,publicKey:f.decode(e),secretKey:t?d.decode(e):null}}},m=s,k=s,I={preencode:function(e,t){e.end++,p.preencode(e,t.alias),f.preencode(e,t.publicKey),t.custodial&&d.preencode(e,t.secretKey),f.preencode(e,t.remotePublicKey)},encode:function(e,t){var n=e.start++,r=0;p.encode(e,t.alias),f.encode(e,t.publicKey),t.custodial&&(r|=1,d.encode(e,t.secretKey)),e.buffer[n]=r,f.encode(e,t.remotePublicKey)},decode:function(e){var t=0!==(1&e.buffer[e.start++]);return{custodial:t,alias:p.decode(e),publicKey:f.decode(e),secretKey:t?d.decode(e):null,remotePublicKey:f.decode(e)}}},w={preencode:function(e,t){e.end++,p.preencode(e,t.alias),p.preencode(e,t.serverAlias),f.preencode(e,t.remotePublicKey),t.custodial?a.preencode(e,t.handshakeHash):p.preencode(e,t.handshakeId)},encode:function(e,t){var n=e.start++,r=0;p.encode(e,t.alias),p.encode(e,t.serverAlias),f.encode(e,t.remotePublicKey),t.custodial?(r|=1,a.encode(e,t.handshakeHash)):p.encode(e,t.handshakeId),e.buffer[n]=r},decode:function(e){var t=0!==(1&e.buffer[e.start++]);return{custodial:t,alias:p.decode(e),serverAlias:p.decode(e),remotePublicKey:f.decode(e),handshakeHash:t?a.decode(e):null,handshakeId:t?null:p.decode(e)}}},E={preencode:function(e,t){p.preencode(e,t.alias),p.preencode(e,t.remoteAlias)},encode:function(e,t){p.encode(e,t.alias),p.encode(e,t.remoteAlias)},decode:function(e){return{alias:p.decode(e),remoteAlias:p.decode(e)}}},x={preencode:function(e,t){p.preencode(e,t.id),p.preencode(e,t.serverAlias),f.preencode(e,t.remotePublicKey),h.preencode(e,t.payload)},encode:function(e,t){p.encode(e,t.id),p.encode(e,t.serverAlias),f.encode(e,t.remotePublicKey),h.encode(e,t.payload)},decode:function(e){return{id:p.decode(e),serverAlias:p.decode(e),remotePublicKey:f.decode(e),payload:h.decode(e)}}},C={preencode:function(e,t){p.preencode(e,t.id)},encode:function(e,t){p.encode(e,t.id)},decode:function(e){return{id:p.decode(e)}}},S=C,B={preencode:function(e,t){e.end++,t.paired?p.preencode(e,t.alias):p.preencode(e,t.remoteAlias),t.error&&u.preencode(e,t.error)},encode:function(e,t){var n=e.start++,r=0;t.paired?(r|=1,p.encode(e,t.alias)):p.encode(e,t.remoteAlias),t.error&&(r|=2,u.encode(e,t.error)),e.buffer[n]=r},decode:function(e){var t=e.buffer[e.start++],n=0!==(1&t);return{paired:n,alias:n?p.decode(e):null,remoteAlias:n?null:p.decode(e),error:0===(2&t)?null:u.decode(e)}}},Q={preencode:function(e,t){e.end++,p.preencode(e,t.server),f.preencode(e,t.publicKey),t.custodial&&d.preencode(e,t.secretKey)},encode:function(e,t){var n=e.start++,r=0;p.encode(e,t.alias),f.encode(e,t.publicKey),t.custodial&&(r|=1,d.encode(e,t.secretKey)),e.buffer[n]=r},decode:function(e){var t=0!==(1&e.buffer[e.start++]);return{custodial:t,alias:p.decode(e),publicKey:f.decode(e),secretKey:t?d.decode(e):null}}},L={preencode:function(e,t){p.preencode(e,t.alias),p.preencode(e,t.remoteAlias),l.preencode(e,t)},encode:function(e,t){p.encode(e,t.alias),p.encode(e,t.remoteAlias),l.encode(e,t)},decode:function(e){return r({alias:p.decode(e),remoteAlias:p.decode(e)},l.decode(e))}},D={preencode:function(e,t){p.preencode(e,t.alias)},encode:function(e,t){p.encode(e,t.alias)},decode:function(e){return{alias:p.decode(e)}}},M=D,P={preencode:function(e,t){e.end++,p.preencode(e,t.alias),p.preencode(e,t.remoteAlias),t.custodial?a.preencode(e,t.handshakeHash):p.preencode(e,t.handshakeId)},encode:function(e,t){var n=e.start++,r=0;p.encode(e,t.alias),p.encode(e,t.remoteAlias),t.custodial?(r|=1,a.encode(e,t.handshakeHash)):p.encode(e,t.handshakeId),e.buffer[n]=r},decode:function(e){var t=0!==(1&e.buffer[e.start++]);return{custodial:t,alias:p.decode(e),remoteAlias:p.decode(e),handshakeHash:t?a.decode(e):null,handshakeId:t?null:p.decode(e)}}},U={preencode:function(e,t){p.preencode(e,t.alias)},encode:function(e,t){p.encode(e,t.alias)},decode:function(e){return{alias:p.decode(e)}}},N={preencode:function(e,t){p.preencode(e,t.alias),g.preencode(e,t.data)},encode:function(e,t){p.encode(e,t.alias),g.encode(e,t.data)},decode:function(e){return{alias:p.decode(e),data:g.decode(e)}}},T={preencode:function(e,t){p.preencode(e,t.id),h.preencode(e,t.data)},encode:function(e,t){p.encode(e,t.id),h.encode(e,t.data)},decode:function(e){return{id:p.decode(e),data:h.decode(e)}}},O={preencode:function(e,t){p.preencode(e,t.id)},encode:function(e,t){p.encode(e,t.id)},decode:function(e){return{id:p.decode(e)}}},K={preencode:function(e,t){p.preencode(e,t.id),y.preencode(e,t.topic)},encode:function(e,t){p.encode(e,t.id),y.encode(e,t.topic)},decode:function(e){return{id:p.decode(e),topic:y.decode(e)}}},R={preencode:function(e,t){e.end++,p.preencode(e,t.id),y.preencode(e,t.topic),f.preencode(e,t.publicKey),t.custodial&&d.preencode(e,t.secretKey)},encode:function(e,t){var n=e.start++,r=0;p.encode(e,t.id),y.encode(e,t.topic),f.encode(e,t.publicKey),t.custodial&&(r|=1,d.encode(e,t.secretKey)),e.buffer[n]=r},decode:function(e){var t=0!==(1&e.buffer[e.start++]);return{custodial:t,id:p.decode(e),topic:y.decode(e),publicKey:f.decode(e),secretKey:t?d.decode(e):null}}},F=R,Y={preencode:function(e,t){p.preencode(e,t.id),p.preencode(e,t.signee),v.preencode(e,t.token),A.preencode(e,t.peerId),b.preencode(e,t.relayAddresses)},encode:function(e,t){p.encode(e,t.id),p.encode(e,t.signee),v.encode(e,t.token),A.encode(e,t.peerId),b.encode(e,t.relayAddresses)},decode:function(e){return{id:p.decode(e),signee:p.decode(e),token:v.decode(e),peerId:A.decode(e),relayAddresses:b.decode(e)}}},z=Y,H={preencode:function(e,t){p.preencode(e,t.id),h.preencode(e,t.signature)},encode:function(e,t){p.encode(e,t.id),h.encode(e,t.signature)},decode:function(e){return{id:p.decode(e),signature:h.decode(e)}}},j={preencode:function(e,t){e.end++,p.preencode(e,t.id),t.isInitiator&&p.preencode(e,t.remoteStreamAlias),h.preencode(e,t.payload)},encode:function(e,t){var n=e.start++,r=0;p.encode(e,t.id),t.isInitiator&&(r|=1,p.encode(e,t.remoteStreamAlias)),h.encode(e,t.payload),e.buffer[n]=r},decode:function(e){var t=0!==(1&e.buffer[e.start++]);return{isInitiator:t,id:p.decode(e),remoteStreamAlias:t?p.decode(e):null,payload:h.decode(e)}}},q={preencode:function(e,t){e.end++,p.preencode(e,t.id),t.isInitiator||p.preencode(e,t.serverAlias),h.preencode(e,t.payload)},encode:function(e,t){var n=e.start++,r=0;p.encode(e,t.id),t.isInitiator?r|=1:p.encode(e,t.serverAlias),h.encode(e,t.payload),e.buffer[n]=r},decode:function(e){var t=0!==(1&e.buffer[e.start++]);return{isInitiator:t,id:p.decode(e),serverAlias:t?null:p.decode(e),payload:h.decode(e)}}},G={preencode:function(e,t){e.end++,p.preencode(e,t.id),h.preencode(e,t.payload),t.isInitiator||t.complete||f.preencode(e,t.remotePublicKey),t.complete&&(o.preencode(e,t.remoteId),o.preencode(e,t.holepunchSecret))},encode:function(e,t){var n=e.start++,r=0;p.encode(e,t.id),h.encode(e,t.payload),t.isInitiator&&(r|=1),t.isInitiator||t.complete||f.encode(e,t.remotePublicKey),t.complete&&(r|=2,o.encode(e,t.remoteId),o.encode(e,t.holepunchSecret)),e.buffer[n]=r},decode:function(e){var t=e.buffer[e.start++],n=0!==(1&t),r=0!==(2&t);return{isInitiator:n,complete:r,id:p.decode(e),payload:h.decode(e),remotePublicKey:n||r?null:f.decode(e),remoteId:r?o.decode(e):null,holepunchSecret:r?o.decode(e):null}}};e.exports={handshake:_,ping:m,pong:k,connect:I,connection:w,connected:E,incoming:x,deny:C,accept:S,destroy:B,listen:Q,listening:L,close:D,closed:M,open:P,end:U,data:N,result:T,finished:O,lookup:K,announce:R,unannounce:F,signAnnounce:Y,signUnannounce:z,signature:H,noiseSend:j,noiseReceive:q,noiseReply:G}},18:function(e,t,n){var r=n(4704).default,i=n(9728).default,o=n(6690).default,a=n(2479).encode,s=n(4146).HandshakeProxy,u=n(2123).ServerProxy,l=n(8759).SigneeProxy,c=n(9928).StreamProxy,h=n(4154).announcers,f=n(6978).nextId,d=i((function e(t,n,r){"use strict";o(this,e),this._dht=t,this._protocol=n,this._defaultKeyPair=r,this._servers=new Map,this._queries=new Map,this._connecting=new Map,this._connections=new Map,this._handshakes=new Map,this._signatures=new Map,this._onStreamClose=p.bind(this),this._protocol._stream.once("close",this._onStreamClose),this._onConnect=g.bind(this),this._onConnected=y.bind(this),this._onDeny=A.bind(this),this._onAccept=v.bind(this),this._onListen=b.bind(this),this._onDestroy=_.bind(this),this._onEnd=m.bind(this),this._onData=k.bind(this),this._onQuery=I.bind(this),this._onLookup=w.bind(this),this._onAnnounce=E.bind(this),this._onUnannounce=x.bind(this),this._onClose=C.bind(this),this._onSignature=S.bind(this),this._onNoiseReply=B.bind(this),this._protocol.on("connect",this._onConnect).on("connected",this._onConnected).on("deny",this._onDeny).on("accept",this._onAccept).on("listen",this._onListen).on("destroy",this._onDestroy).on("end",this._onEnd).on("data",this._onData).on("lookup",this._onLookup).on("announce",this._onAnnounce).on("unannounce",this._onUnannounce).on("close",this._onClose).on("signature",this._onSignature).on("noiseReply",this._onNoiseReply)}));function p(){this._protocol.off("connect",this._onConnect).off("connected",this._onConnected).off("deny",this._onDeny).off("accept",this._onAccept).off("listen",this._onListen).off("destroy",this._onDestroy).off("end",this._onEnd).off("data",this._onData).off("lookup",this._onLookup).off("announce",this._onAnnounce).off("unannounce",this._onUnannounce).off("close",this._onClose).off("signature",this._onSignature).off("noiseReply",this._onNoiseReply)}function g(e){var t=this,n=e.alias,r=f(),i=null!==e.secretKey,o=this._dht.connect(e.remotePublicKey,{keyPair:{publicKey:e.publicKey,secretKey:e.secretKey},createHandshake:i?null:Q.bind(this,n),createSecretStream:i?null:L.bind(this,r,n)});this._connections.set(n,o);var a=!1,s=function(e){t._protocol.destroy.send({paired:a,alias:r,remoteAlias:n,error:e.message})},u=function(){a=!0,t._protocol.open.send({custodial:i,alias:r,remoteAlias:n,handshakeHash:o.handshakeHash,handshakeId:o.handshakeId})},l=function(){t._protocol.end.send({alias:r})},c=function(e){t._protocol.data.send({alias:r,data:[e]})};o.once("error",s).once("close",(function(){o.off("error",s).off("open",u).off("end",l).off("data",c),t._connections.delete(n)})).once("open",u).once("end",l).on("data",c)}function y(e){var t=this,n=this._connecting.get(e.remoteAlias);if(n){this._connecting.delete(e.remoteAlias),this._connections.set(e.alias,n);n.once("close",(function(){t._connections.delete(e.alias)}))}}function A(e){var t,n=r(this._servers.values());try{for(n.s();!(t=n.n()).done;){var i=t.value;if(i._firewall._requests.get(e.id))return i._firewall._onDeny(e)}}catch(o){n.e(o)}finally{n.f()}}function v(e){var t,n=r(this._servers.values());try{for(n.s();!(t=n.n()).done;){var i=t.value;if(i._firewall._requests.get(e.id))return i._firewall._onAccept(e)}}catch(o){n.e(o)}finally{n.f()}}function b(e){var t=e.alias,n=f(),r=new u(this,this._protocol,n,t,e);this._servers.set(t,r)}function _(e){var t=this._connections.get(e.alias);t&&t.destroy(e.error&&new Error(e.error))}function m(e){var t=this._connections.get(e.alias);t&&t.end()}function k(e){var t=this._connections.get(e.alias);if(t){var n,i=r(e.data);try{for(i.s();!(n=i.n()).done;){var o=n.value;t.write(o)}}catch(a){i.e(a)}finally{i.f()}}}function I(e,t,n){var r=this;this._queries.set(e.id,t);var i=function(){},o=function(t){r._protocol.result.send({id:e.id,data:a(n,t)})};t.once("error",i).once("close",(function(){t.off("error",i).off("data",o),r._queries.delete(e.id),r._protocol.finished.send(e)})).on("data",o)}function w(e){this._onQuery(e,this._dht.lookup(e.topic),h)}function E(e){var t=null!==e.secretKey,n=new l(this,this._protocol,e.topic,e.id);this._onQuery(e,this._dht.announce(e.topic,{publicKey:e.publicKey,secretKey:e.secretKey},[],{signAnnounce:t?null:n._signAnnounce,signUnannounce:t?null:n._signUnannounce}),h)}function x(e){var t=null!==e.secretKey,n=new l(this,this._protocol,e.topic,e.id);this._onQuery(e,this._dht.lookupAndUnannounce(e.topic,{publicKey:e.publicKey,secretKey:e.secretKey},{signAnnounce:t?null:n._signAnnounce,signUnannounce:t?null:n._signUnannounce}),h)}function C(e){var t=this._servers.get(e.alias);t&&t._onClose(e)}function S(e){var t=this._signatures.get(e.id);t&&t.resolve(e.signature)}function B(e){var t=this._handshakes.get(e.id);t&&t._onNoiseReply(e)}function Q(e,t,n){var r=!!n,i=f(),o=new s(this,this._protocol,i,e,null,r,t,n);return this._handshakes.set(i,o),o}function L(e,t,n,r,i){return new c(this._protocol,e,t,n,r,i)}e.exports={NodeProxy:d}},2363:function(e,t,n){var r=n(4704).default,i=n(2122).default,o=n(7061).default,a=n(7156).default,s=n(6690).default,u=n(9728).default,l=n(6115).default,c=n(1655).default,h=n(6389).default,f=n(7465),d=n(7463),p=n(7).Handshake,g=n(294).Protocol,y=n(8508).Query,A=n(2332).Server,v=n(8505).Signee,b=n(4864).Stream,_=n(4154).announcers,m=n(6338).keyPair,k=n(6978).nextId,I=function(e){"use strict";c(n,e);var t=h(n);function n(e){var r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return s(this,n),(r=t.call(this))._protocol=new g(e),r._custodial=!1!==i.custodial,r.defaultKeyPair=i.keyPair||m(),r._opening=new Map,r._servers=new Map,r._queries=new Map,r._connecting=new Map,r._connections=new Map,r._handshakes=new Map,r._signees=new Map,r._destroyed=!1,r._onStreamClose=w.bind(l(r)),r._protocol._stream.once("close",r._onStreamClose),r._onListening=S.bind(l(r)),r._onClosed=B.bind(l(r)),r._onConnection=E.bind(l(r)),r._onIncoming=x.bind(l(r)),r._onDestroy=C.bind(l(r)),r._onOpen=Q.bind(l(r)),r._onEnd=L.bind(l(r)),r._onData=D.bind(l(r)),r._onResult=M.bind(l(r)),r._onFinished=P.bind(l(r)),r._onSignAnnounce=U.bind(l(r)),r._onSignUnannounce=N.bind(l(r)),r._onNoiseSend=T.bind(l(r)),r._onNoiseReceive=O.bind(l(r)),r._protocol.on("listening",r._onListening).on("closed",r._onClosed).on("connection",r._onConnection).on("incoming",r._onIncoming).on("destroy",r._onDestroy).on("open",r._onOpen).on("end",r._onEnd).on("data",r._onData).on("result",r._onResult).on("finished",r._onFinished).on("signAnnounce",r._onSignAnnounce).on("signUnannounce",r._onSignUnannounce).on("noiseSend",r._onNoiseSend).on("noiseReceive",r._onNoiseReceive).alive().handshake.send({custodial:r._custodial,publicKey:r.defaultKeyPair.publicKey,secretKey:r.defaultKeyPair.secretKey}),r.ready=function(){var e=a(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._protocol.ready();case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),r}return u(n,[{key:"destroyed",get:function(){return null!==this._destroyed}},{key:"connect",value:function(e){var t=this,n=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).keyPair,r=void 0===n?this.defaultKeyPair:n,i=k(),o=new b(this,this._protocol,i,null,!0,r,e);this._connecting.set(i,o);var a=function(){o.off("open",s),t._connecting.delete(o._alias),t._connections.delete(o._remoteAlias)},s=function(){t._connecting.delete(o._alias),t._connections.set(o._remoteAlias,o)};if(o.once("close",a).once("open",s),this._protocol.connect.send({custodial:this._custodial,alias:i,publicKey:r.publicKey,secretKey:r.secretKey,remotePublicKey:e}),this._custodial)return o;var u=new d(!0,null,{publicKey:r.publicKey,remotePublicKey:e,autoStart:!1});return u.once("close",a),o.noiseStream=u,u}},{key:"createServer",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;"function"===typeof t&&(n=t,t={}),t=i(i({},t),{},{custodial:this._custodial});var r=k(),o=new A(this,this._protocol,r,t);this._opening.set(r,o);var a=function(){e._opening.delete(o._alias),e._servers.set(o._remoteAlias,o)};return o.once("close",(function(){o.off("listening",a),e._opening.delete(o._alias),e._servers.delete(o._remoteAlias),e._signees.delete(o._alias)})).once("listening",a),n&&o.on("connection",n),o}},{key:"lookup",value:function(e){var t=this,n=new y(this._protocol,e,_);this._queries.set(n.id,n);return n.once("close",(function(){t._queries.delete(n.id)})),this._protocol.lookup.send({id:n.id,topic:e}),n}},{key:"announce",value:function(e,t){var n=this,r=new y(this._protocol,e,_);this._queries.set(r.id,r),this._signees.set(r.id,new v(this._protocol,e,t));return r.once("close",(function(){n._queries.delete(r.id),n._signees.delete(r.id)})),this._protocol.announce.send({custodial:this._custodial,id:r.id,topic:e,publicKey:t.publicKey,secretKey:t.secretKey}),r}},{key:"unannounce",value:function(e,t){var n=this,r=new y(this._protocol,e,_);this._queries.set(r.id,r),this._signees.set(r.id,new v(this._protocol,e,t));return r.once("close",(function(){n._queries.delete(r.id),n._signees.delete(r.id)})),this._protocol.unannounce.send({custodial:this._custodial,id:r.id,topic:e,publicKey:t.publicKey,secretKey:t.secretKey}),r.resume().finished()}},{key:"destroy",value:function(){var e=a(o().mark((function e(){var t,n,i,a,s=arguments;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!0===(s.length>0&&void 0!==s[0]?s[0]:{}).force){e.next=7;break}t=[],n=r(this._servers.values());try{for(n.s();!(i=n.n()).done;)a=i.value,t.push(a.close())}catch(o){n.e(o)}finally{n.f()}return e.next=7,Promise.allSettled(t);case 7:if(!this._destroyed){e.next=9;break}return e.abrupt("return");case 9:this._destroyed=!0,this._protocol._stream.destroy();case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}],[{key:"keyPair",value:function(e){return m(e)}}]),n}(f);function w(){this._protocol.off("listening",this._onListening).off("closed",this._onClosed).off("connection",this._onConnection).off("incoming",this._onIncoming).off("destroy",this._onDestroy).off("open",this._onOpen).off("end",this._onEnd).off("data",this._onData).off("result",this._onResult).off("finished",this._onFinished).off("signAnnounce",this._onSignAnnounce).off("signUnannounce",this._onSignUnannounce).off("noiseSend",this._onNoiseSend).off("noiseReceive",this._onNoiseReceive)}function E(e){var t=this._servers.get(e.serverAlias);t&&t._onConnection(e)}function x(e){var t=this._servers.get(e.serverAlias);t&&t._firewall._onIncoming(e)}function C(e){var t;(t=e.paired?this._connections.get(e.alias):this._connecting.get(e.remoteAlias))&&t._onDestroy(e)}function S(e){var t=this._opening.get(e.remoteAlias);t&&t._onListening(e)}function B(e){var t=this._servers.get(e.alias);t&&t._onClosed(e)}function Q(e){var t=this._connecting.get(e.remoteAlias);t&&t._onOpen(e)}function L(e){var t=this._connections.get(e.alias);t&&t.push(null)}function D(e){var t=this._connections.get(e.alias);if(t){null!==t._timeout&&t._timeout.refresh();var n,i=r(e.data);try{for(i.s();!(n=i.n()).done;){var o=n.value;(null===t._keepAlive||o.length>0)&&t.push(o)}}catch(a){i.e(a)}finally{i.f()}}}function M(e){var t=this._queries.get(e.id);t&&t._onResult(e)}function P(e){var t=this._queries.get(e.id);t&&t._onFinished(e)}function U(e){var t=this._signees.get(e.signee);t&&t._onSignAnnounce(e)}function N(e){var t=this._signees.get(e.signee);t&&t._onSignUnannounce(e)}function T(e){if(e.isInitiator){var t=this._connecting.get(e.remoteStreamAlias);if(t){var n=new p(this,this._protocol,null,e.id,!0,t._keyPair,t.remotePublicKey);this._handshakes.set(e.id,n),n._onNoiseSend(e)}}else{var r=this._handshakes.get(e.id);r&&r._onNoiseSend(e)}}function O(e){if(e.isInitiator){var t=this._handshakes.get(e.id);t&&t._onNoiseReceive(e)}else{var n=this._servers.get(e.serverAlias);if(n){var r=new p(this,this._protocol,n._firewall,e.id,e.isInitiator,n._keyPair,null);this._handshakes.set(e.id,r),r._onNoiseReceive(e)}}}e.exports={Node:I}},294:function(e,t,n){var r=n(7061).default,i=n(7156).default,o=n(6690).default,a=n(9728).default,s=n(6115).default,u=n(1655).default,l=n(6389).default,c=n(7465),h=n(3661),f=n(2409),d=function(e){"use strict";u(n,e);var t=l(n);function n(e){var a;o(this,n),a=t.call(this);var u=h.from(e);a._stream=u.stream.setMaxListeners(0),a._heartbeat=null,a._failsafe=null,a._onStreamClose=p.bind(s(a)),a._stream.once("close",a._onStreamClose);var l=new Promise((function(e,t){var n=function(){a._stream.off("error",r),e()},r=function(e){a._stream.off("open",n),t(e)};a._stream.once("open",n).once("error",r)}));a.ready=function(){var e=i(r().mark((function e(){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l;case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();var c=u.createChannel({protocol:"@hyperswarm/dht-relay"});return a.handshake=c.addMessage({encoding:f.handshake,onmessage:a.emit.bind(s(a),"handshake")}),a.ping=c.addMessage({encoding:f.ping,onmessage:function(){a.pong.send(),a.alive()}}),a.pong=c.addMessage({encoding:f.pong,onmessage:function(){a.alive()}}),a.connect=c.addMessage({encoding:f.connect,onmessage:a.emit.bind(s(a),"connect")}),a.connection=c.addMessage({encoding:f.connection,onmessage:a.emit.bind(s(a),"connection")}),a.connected=c.addMessage({encoding:f.connected,onmessage:a.emit.bind(s(a),"connected")}),a.incoming=c.addMessage({encoding:f.incoming,onmessage:a.emit.bind(s(a),"incoming")}),a.deny=c.addMessage({encoding:f.deny,onmessage:a.emit.bind(s(a),"deny")}),a.accept=c.addMessage({encoding:f.accept,onmessage:a.emit.bind(s(a),"accept")}),a.destroy=c.addMessage({encoding:f.destroy,onmessage:a.emit.bind(s(a),"destroy")}),a.listen=c.addMessage({encoding:f.listen,onmessage:a.emit.bind(s(a),"listen")}),a.listening=c.addMessage({encoding:f.listening,onmessage:a.emit.bind(s(a),"listening")}),a.close=c.addMessage({encoding:f.close,onmessage:a.emit.bind(s(a),"close")}),a.closed=c.addMessage({encoding:f.closed,onmessage:a.emit.bind(s(a),"closed")}),a.open=c.addMessage({encoding:f.open,onmessage:a.emit.bind(s(a),"open")}),a.end=c.addMessage({encoding:f.end,onmessage:a.emit.bind(s(a),"end")}),a.data=c.addMessage({encoding:f.data,onmessage:a.emit.bind(s(a),"data")}),a.result=c.addMessage({encoding:f.result,onmessage:a.emit.bind(s(a),"result")}),a.finished=c.addMessage({encoding:f.finished,onmessage:a.emit.bind(s(a),"finished")}),a.lookup=c.addMessage({encoding:f.lookup,onmessage:a.emit.bind(s(a),"lookup")}),a.announce=c.addMessage({encoding:f.announce,onmessage:a.emit.bind(s(a),"announce")}),a.unannounce=c.addMessage({encoding:f.unannounce,onmessage:a.emit.bind(s(a),"unannounce")}),a.signAnnounce=c.addMessage({encoding:f.signAnnounce,onmessage:a.emit.bind(s(a),"signAnnounce")}),a.signUnannounce=c.addMessage({encoding:f.signUnannounce,onmessage:a.emit.bind(s(a),"signUnannounce")}),a.signature=c.addMessage({encoding:f.signature,onmessage:a.emit.bind(s(a),"signature")}),a.noiseSend=c.addMessage({encoding:f.noiseSend,onmessage:a.emit.bind(s(a),"noiseSend")}),a.noiseReceive=c.addMessage({encoding:f.noiseReceive,onmessage:a.emit.bind(s(a),"noiseReceive")}),a.noiseReply=c.addMessage({encoding:f.noiseReply,onmessage:a.emit.bind(s(a),"noiseReply")}),c.open(),a}return a(n,[{key:"heartbeat",value:function(){var e=this;return this._heartbeat||(this._heartbeat=setInterval((function(){return e.ping.send()}),15e3)),this}},{key:"alive",value:function(){var e=this;return this._failsafe&&clearTimeout(this._failsafe),this._failsafe=setTimeout((function(){return e._stream.destroy()}),45e3),this}}]),n}(c);function p(){clearInterval(this._heartbeat),this._failsafe&&clearTimeout(this._failsafe)}e.exports={Protocol:d}},8508:function(e,t,n){var r=n(7061).default,i=n(7156).default,o=n(9728).default,a=n(6690).default,s=n(6115).default,u=n(1655).default,l=n(6389).default,c=n(1843).Readable,h=n(6978).nextId,f=function(e){"use strict";u(n,e);var t=l(n);function n(e,o,u){var l;a(this,n),(l=t.call(this,{map:d(u)}))._protocol=e,l.target=o,l.id=h(),l._onStreamClose=p.bind(s(l)),l._protocol._stream.once("close",l._onStreamClose),l._onResult=g.bind(s(l)),l._onFinished=y.bind(s(l));var c=new Promise((function(e,t){var n=function(){l.off("error",r),e()},r=function(e){l.off("close",n),t(e)};l.once("close",n).once("error",r)}));return l.finished=function(){var e=i(r().mark((function e(){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c;case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),l}return o(n)}(c);function d(e){return function(t){return e.decode({start:0,end:t.byteLength,buffer:t})}}function p(){this.destroy()}function g(e){this.push(e.data)}function y(){this.push(null)}e.exports={Query:f}},2123:function(e,t,n){var r=n(9728).default,i=n(6690).default,o=n(7222).FirewallProxy,a=n(4146).HandshakeProxy,s=n(8759).SigneeProxy,u=n(9928).StreamProxy,l=n(6338),c=n(6978).nextId,h=r((function e(t,n,r,a,u){"use strict";i(this,e),this._node=t,this._protocol=n,this._alias=r,this._remoteAlias=a,this._keyPair=u,this._custodial=null!==u.secretKey,this._firewall=new o(t,n,r),this._signee=new s(t,n,l.hash(u.publicKey),a),this._server=t._dht.createServer({firewall:this._custodial?this._firewall._deny:null,createHandshake:this._custodial?null:A.bind(this),createSecretStream:this._custodial?null:v.bind(this)}),this._onStreamClose=f.bind(this),this._protocol._stream.once("close",this._onStreamClose),this._onServerClose=d.bind(this),this._onServerListening=p.bind(this),this._onServerConnection=g.bind(this),this._server.once("close",this._onServerClose).once("listening",this._onServerListening).on("connection",this._onServerConnection).listen({publicKey:u.publicKey,secretKey:u.secretKey},{signAnnounce:this._custodial?null:this._signee._signAnnounce,signUnannounce:this._custodial?null:this._signee._signUnannounce}),this._onClose=y.bind(this)}));function f(){this._server.close()}function d(){this._protocol.closed.send({alias:this._alias}),this._server.off("listening",this._onServerListening).off("connection",this._onServerConnection),this._node._servers.delete(this._remoteAlias)}function p(){var e=this._server.address();this._protocol.listening.send({alias:this._alias,remoteAlias:this._remoteAlias,host:e.host,port:e.port})}function g(e){var t=this,n=c();this._node._connecting.set(n,e);var r=function(e){t._protocol.destroy.send({alias:n,error:e.message})},i=function(){t._protocol.end.send({alias:n})},o=function(e){t._protocol.data.send({alias:n,data:[e]})};e.once("error",r).once("close",(function(){e.off("error",r).off("end",i).off("data",o),t._node._connecting.delete(n,e)})).once("end",i).on("data",o),this._protocol.connection.send({custodial:this._custodial,alias:n,serverAlias:this._alias,remotePublicKey:e.remotePublicKey,handshakeHash:e.handshakeHash,handshakeId:e.handshakeId})}function y(){this._server.close()}function A(e,t){var n=!!t,r=c(),i=new a(this._node,this._protocol,r,null,this._alias,n,e,t);return this._node._handshakes.set(r,i),i}function v(e,t,n){return new u(this._protocol,null,null,e,t,n)}e.exports={ServerProxy:h}},2332:function(e,t,n){var r=n(7061).default,i=n(7156).default,o=n(6690).default,a=n(9728).default,s=n(6115).default,u=n(1655).default,l=n(6389).default,c=n(7465),h=n(7463),f=n(5114).Firewall,d=n(8505).Signee,p=n(4864).Stream,g=n(6338),y=n(6978).nextId,A=function(e){"use strict";u(n,e);var t=l(n);function n(e,a,u){var l,c=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return o(this,n),(l=t.call(this))._node=e,l._protocol=a,l._alias=u,l._custodial=!1!==c.custodial,l._firewall=new f(e,a,c.firewall||k),l._remoteAlias=null,l._keyPair=null,l._address=null,l._listening=null,l._closing=null,l._closed=!1,l._onStreamClose=v.bind(s(l)),l._protocol._stream.once("close",l._onStreamClose),l._onClosed=b.bind(s(l)),l._onListening=_.bind(s(l)),l._onConnection=m.bind(s(l)),l.ready=function(){var e=i(r().mark((function e(){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._protocol.ready();case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),l}return a(n,[{key:"closed",get:function(){return null!==this._closing}},{key:"publicKey",get:function(){return this._keyPair&&this._keyPair.publicKey}},{key:"listen",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this._node.defaultKeyPair;return this._listening||(this._keyPair=t,this._node._signees.set(this._alias,new d(this._protocol,g.hash(t.publicKey),t)),this._protocol.listen.send({custodial:this._custodial,alias:this._alias,publicKey:t.publicKey,secretKey:t.secretKey}),this._listening=new Promise((function(t){e.once("listening",(function(){return t()}))}))),this._listening}},{key:"address",value:function(){return this._address}},{key:"close",value:function(){var e=i(r().mark((function e(){var t=this;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._closing){e.next=2;break}return e.abrupt("return",this._closing);case 2:if(!this._listening){e.next=7;break}return e.next=5,this._listening;case 5:e.next=9;break;case 7:return this._closing=Promise.resolve(),e.abrupt("return",this._closing);case 9:return this._protocol.close.send({alias:this._alias}),this._closing=new Promise((function(e){t.once("close",(function(){return e()}))})),e.abrupt("return",this._closing);case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(c);function v(){this._closed||this._onClosed()}function b(){this._closed=!0,this._closing=Promise.resolve(),this.emit("close")}function _(e){this._remoteAlias=e.alias,this._address={publicKey:this.publicKey,host:e.host,port:e.port},this.emit("listening")}function m(e){var t=this,n=e.alias,r=y(),i=new p(this._node,this._protocol,r,n,!1,{publicKey:e.publicKey},e.remotePublicKey,e.handshakeHash);this._node._connections.set(n,i);if(i.once("close",(function(){t._node._connections.delete(n)})),this._protocol.connected.send({alias:r,remoteAlias:n}),!this._custodial){var o=this._node._handshakes.get(e.handshakeId);this._node._handshakes.delete(e.handshakeId);var a=new h(!1,i,{publicKey:i.publicKey,remotePublicKey:i.remotePublicKey,handshake:{publicKey:i.publicKey,remotePublicKey:i.remotePublicKey,hash:o.hash,tx:o.tx,rx:o.rx}});i.noiseStream=a}this.emit("connection",i.noiseStream)}function k(){return!1}e.exports={Server:A}},8759:function(e,t,n){var r=n(9728).default,i=n(6690).default,o=n(6978).nextId,a=r((function e(t,n,r,o){"use strict";i(this,e),this._node=t,this._protocol=n,this._target=r,this._signee=o,this._signAnnounce=s.bind(this),this._signUnannounce=u.bind(this)}));function s(e,t,n,r){var i=this,a=r.peer,s=o();return this._protocol.signAnnounce.send({id:s,signee:this._signee,token:t,peerId:n,relayAddresses:a}),new Promise((function(e){i._node._signatures.set(s,{resolve:e})}))}function u(e,t,n,r){var i=this,a=r.peer,s=o();return this._protocol.signUnannounce.send({id:s,signee:this._signee,token:t,peerId:n,relayAddresses:a}),new Promise((function(e){i._node._signatures.set(s,{resolve:e})}))}e.exports={SigneeProxy:a}},8505:function(e,t,n){var r=n(9728).default,i=n(6690).default,o=n(4587),a=n(348),s=n(274).NS,u=n(2479).encode,l=n(4154).peer,c=r((function e(t,n,r){"use strict";i(this,e),this._protocol=t,this._target=n,this._keyPair=r,this._onSignAnnounce=h.bind(this),this._onSignUnannounce=f.bind(this)}));function h(e){var t=d(this._keyPair.publicKey,this._target,e.token,e.peerId,e.relayAddresses,s.ANNOUNCE),n=o.allocUnsafe(64);a.crypto_sign_detached(n,t,this._keyPair.secretKey),this._protocol.signature.send({id:e.id,signature:n})}function f(e){var t=d(this._keyPair.publicKey,this._target,e.token,e.peerId,e.relayAddresses,s.UNANNOUNCE),n=o.allocUnsafe(64);a.crypto_sign_detached(n,t,this._keyPair.secretKey),this._protocol.signature.send({id:e.id,signature:n})}function d(e,t,n,r,i,s){var c=o.allocUnsafe(64),h=c.subarray(32);return c.set(s),a.crypto_generichash_batch(h,[t,r,n,u(l,{publicKey:e,relayAddresses:i})]),c}e.exports={Signee:c}},9928:function(e,t,n){var r=n(6690).default,i=n(9728).default,o=n(6115).default,a=n(1655).default,s=n(6389).default,u=function(e){"use strict";a(n,e);var t=s(n);function n(e,i,a,s,u){var l,c=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};return r(this,n),(l=t.call(this))._protocol=e,l._alias=i,l._remoteAlias=a,l._opening=null,l._draining=null,l._ended=2,l.noiseStream=o(l),l.isInitiator=s,l.publicKey=c.publicKey,l.remotePublicKey=c.remotePublicKey,l.handshakeId=null,l.rawStream=null,!1!==c.autoStart&&l.start(u,c),l.resume().pause(),l}return i(n,[{key:"start",value:function(e,t){var n=this;this.rawStream=e,t.handshake&&(this.publicKey=t.handshake.publicKey,this.remotePublicKey=t.handshake.remotePublicKey,this.handshakeId=t.handshake.id);var r=function(e){n.destroy(e)},i=function(){n._ended--,n.push(null)},o=function(e){n.push(e)},a=function(){n._continueWrite()};this.rawStream.once("error",r).once("close",(function(){n.rawStream.off("error",r).off("end",i).off("data",o).off("drain",a),0!==n._ended&&n.destroy()})).once("end",i).on("data",o).on("drain",a),t.data&&this.push(t.data),t.ended&&this.push(null),this._continueOpen()}},{key:"_open",value:function(e){this.rawStream?e(null):this._opening=e}},{key:"_continueOpen",value:function(e){var t=this._opening;t?(this._opening=null,e?t(e):this._open(t)):e&&this.destroy(e)}},{key:"_read",value:function(e){this.rawStream.resume(),e(null)}},{key:"_write",value:function(e,t){this.rawStream.write(e,t)?t(null):this._draining=t}},{key:"_continueWrite",value:function(e){var t=this._draining;t&&(this._draining=null,t(e))}},{key:"_final",value:function(e){this._ended--,this.rawStream.end(),e(null)}},{key:"_predestroy",value:function(){var e=new Error("Stream was destroyed");this._continueOpen(e),this._continueWrite(e),this.rawStream&&this.rawStream.destroy(this._readableState.error||this._writableState.error)}}]),n}(n(1843).Duplex);e.exports={StreamProxy:u}},4864:function(e,t,n){var r=n(6690).default,i=n(9728).default,o=n(6115).default,a=n(1655).default,s=n(6389).default,u=n(1843).Duplex,l=n(4587),c=n(7228),h=function(e){"use strict";a(n,e);var t=s(n);function n(e,i,a,s,u,l,c,h){var y;return r(this,n),(y=t.call(this,{mapWritable:g}))._node=e,y._protocol=i,y._alias=a,y._remoteAlias=s,y._keyPair=l,y._opening=null,y._openedDone=null,y._timeout=null,y._timeoutMs=0,y._keepAlive=null,y._keepAliveMs=0,y.opened=new Promise((function(e){y._openedDone=e})),y.noiseStream=o(y),y.rawStream=o(y),y.isInitiator=u,y.remotePublicKey=c||null,y.handshakeHash=h||null,y._onStreamClose=f.bind(o(y)),y._protocol._stream.once("close",y._onStreamClose),y._onOpen=d.bind(o(y)),y._onDestroy=p.bind(o(y)),y.resume().pause(),y}return i(n,[{key:"publicKey",get:function(){return this._keyPair.publicKey}},{key:"alloc",value:function(e){return l.allocUnsafe(e)}},{key:"setTimeout",value:function(e){e||(e=0),this._clearTimeout(),this._timeoutMs=e,e&&(this._timeout=c.once(e,this._destroyTimeout,this),this._timeout.unref())}},{key:"setKeepAlive",value:function(e){e||(e=0),this._keepAliveMs=e,e&&(this._keepAlive=c.on(e,this._sendKeepAlive,this),this._keepAlive.unref())}},{key:"_open",value:function(e){null===this._remoteAlias?this._opening=e:(this._resolveOpened(!0),e(null))}},{key:"_continueOpen",value:function(e){var t=this._opening;t?(this._opening=null,e?t(e):this._open(t)):e&&this.destroy(e)}},{key:"_resolveOpened",value:function(e){var t=this._openedDone;t&&(this._openedDone=null,t(e),e&&this.emit("connect"))}},{key:"_writev",value:function(e,t){null!==this._keepAlive&&this._keepAlive.refresh(),this._protocol.data.send({alias:this._alias,data:e}),t(null)}},{key:"_final",value:function(e){this._clearKeepAlive(),this._protocol.end.send({alias:this._alias}),e(null)}},{key:"_predestroy",value:function(){var e=null!==this._remoteAlias;e&&this._protocol.destroy.send({paired:e,alias:this._alias});var t=new Error("Stream was destroyed");this._continueOpen(t)}},{key:"_destroy",value:function(e){this._clearKeepAlive(),this._clearTimeout(),this._resolveOpened(!1),e(null)}},{key:"_destroyTimeout",value:function(){this.destroy(new Error("Stream timed out"))}},{key:"_clearTimeout",value:function(){null!==this._timeout&&(this._timeout.destroy(),this._timeout=null,this._timeoutMs=0)}},{key:"_clearKeepAlive",value:function(){null!==this._keepAlive&&(this._keepAlive.destroy(),this._keepAlive=null,this._keepAliveMs=0)}},{key:"_sendKeepAlive",value:function(){this.write(this.alloc(0))}}]),n}(u);function f(){this.destroy()}function d(e){if(this._remoteAlias=e.alias,e.handshakeHash)this.handshakeHash=e.handshakeHash;else{var t=this._node._handshakes.get(e.handshakeId);this._node._handshakes.delete(e.handshakeId),this.handshakeHash=t.hash,this.noiseStream.start(this,{publicKey:this.publicKey,remotePublicKey:this.remotePublicKey,handshake:{publicKey:this.publicKey,remotePublicKey:this.remotePublicKey,hash:t.hash,tx:t.tx,rx:t.rx}})}this._continueOpen()}function p(e){this.noiseStream.destroy(e.error&&new Error(e.error))}function g(e){return"string"===typeof e?l.from(e):e}e.exports={Stream:h}},8345:function(e,t,n){var r=n(6690).default,i=n(9728).default,o=n(6115).default,a=n(1655).default,s=n(6389).default,u=n(1843).Duplex,l=n(4587),c=function(e){"use strict";a(n,e);var t=s(n);function n(e,i){var a;return r(this,n),(a=t.call(this))._socket=i,a._socket.binaryType="arraybuffer",a._opening=null,a._onError=h.bind(o(a)),a._onClose=f.bind(o(a)),a._onOpen=d.bind(o(a)),a._onMessage=p.bind(o(a)),a._socket.addEventListener("error",a._onError),a._socket.addEventListener("close",a._onClose),a._socket.addEventListener("open",a._onOpen),a._socket.addEventListener("message",a._onMessage),a}return i(n,[{key:"_open",value:function(e){this._socket.readyState>1?e(new Error("Socket is closed")):this._socket.readyState<1?this._opening=e:e(null)}},{key:"_continueOpen",value:function(e){e&&this.destroy(e);var t=this._opening;t&&(this._opening=null,this._open(t))}},{key:"_write",value:function(e,t){this._socket.send(e),t(null)}},{key:"_predestroy",value:function(){this._continueOpen(new Error("Socket was destroyed"))}},{key:"_destroy",value:function(e){this._socket.close(),e(null)}}]),n}(u);function h(e){this.destroy(e)}function f(){this._socket.removeEventListener("error",this._onError),this._socket.removeEventListener("close",this._onClose),this._socket.removeEventListener("open",this._onOpen),this._socket.removeEventListener("message",this._onMessage),this.destroy()}function d(){this._continueOpen()}function p(e){this.push(l.from(e.data))}e.exports=c},348:function(e,t,n){e.exports=n(1712)},4636:function(e,t,n){e.exports=n(8345)},8390:function(e,t,n){var r=n(6690).default,i=n(9728).default,o=n(4688),a=o.hash,s=o.createKeyPair;e.exports=function(){"use strict";function e(){throw r(this,e),new Error("@hyperswarm/dht is not supported in browsers")}return i(e,null,[{key:"keyPair",value:function(e){return s(e)}},{key:"hash",value:function(e){return a(e)}}]),e}()},274:function(e,t,n){var r=n(7424).default,i=n(5852),o=t.COMMANDS={PEER_HANDSHAKE:0,PEER_HOLEPUNCH:1,FIND_PEER:2,LOOKUP:3,ANNOUNCE:4,UNANNOUNCE:5,MUTABLE_PUT:6,MUTABLE_GET:7,IMMUTABLE_PUT:8,IMMUTABLE_GET:9};t.BOOTSTRAP_NODES=[{host:"node1.hyperdht.org",port:49737},{host:"node2.hyperdht.org",port:49737},{host:"node3.hyperdht.org",port:49737}],t.FIREWALL={UNKNOWN:0,OPEN:1,CONSISTENT:2,RANDOM:3},t.ERROR={NONE:0,ABORTED:1,VERSION_MISMATCH:2,SEQ_REUSED:16,SEQ_TOO_LOW:17};var a=r(i.namespace("hyperswarm/dht",[o.ANNOUNCE,o.UNANNOUNCE,o.MUTABLE_PUT,o.PEER_HANDSHAKE,o.PEER_HOLEPUNCH]),5),s=a[0],u=a[1],l=a[2],c=a[3],h=a[4];t.NS={ANNOUNCE:s,UNANNOUNCE:u,MUTABLE_PUT:l,PEER_HANDSHAKE:c,PEER_HOLEPUNCH:h}},4688:function(e,t,n){var r=n(2635),i=n(4587);e.exports={hash:function(e){var t=i.allocUnsafe(32);return r.crypto_generichash(t,e),t},createKeyPair:function(e){var t=i.alloc(32),n=i.alloc(64);return e?r.crypto_sign_seed_keypair(t,n,e):r.crypto_sign_keypair(t,n),{publicKey:t,secretKey:n}}}},9607:function(e,t,n){var r=n(2122).default,i=n(2479),o=n(182),a=r(r({},o.ipv4Address),{},{decode:function(e){var t=o.ipv4Address.decode(e);return{host:t.host,port:t.port}}}),s=i.array(a),u=r(r({},o.ipv6Address),{},{decode:function(e){var t=o.ipv6Address.decode(e);return{host:t.host,port:t.port}}}),l=i.array(u);t.handshake={preencode:function(e,t){e.end+=2+(t.peerAddress?6:0)+(t.relayAddress?6:0),i.buffer.preencode(e,t.noise)},encode:function(e,t){var n=(t.peerAddress?1:0)|(t.relayAddress?2:0);i.uint.encode(e,n),i.uint.encode(e,t.mode),i.buffer.encode(e,t.noise),t.peerAddress&&a.encode(e,t.peerAddress),t.relayAddress&&a.encode(e,t.relayAddress)},decode:function(e){var t=i.uint.decode(e);return{mode:i.uint.decode(e),noise:i.buffer.decode(e),peerAddress:1&t?a.decode(e):null,relayAddress:2&t?a.decode(e):null}}};var c={preencode:function(e,t){e.end+=12},encode:function(e,t){a.encode(e,t.relayAddress),a.encode(e,t.peerAddress)},decode:function(e){return{relayAddress:a.decode(e),peerAddress:a.decode(e)}}},h=i.array(c),f=function(e,t){i.uint.preencode(e,t.id),h.preencode(e,t.relays)},d=function(e,t){i.uint.encode(e,t.id),h.encode(e,t.relays)},p=function(e){return{id:i.uint.decode(e),relays:h.decode(e)}},g=function(e,t){e.end+=2,i.uint.preencode(e,t.id),i.uint.preencode(e,t.seq)},y=function(e,t){i.uint.encode(e,1),i.uint.encode(e,t.reusableSocket?1:0),i.uint.encode(e,t.id),i.uint.encode(e,t.seq)},A=function(e){return{version:i.uint.decode(e),reusableSocket:0!==(1&i.uint.decode(e)),id:i.uint.decode(e),seq:i.uint.decode(e)}},v=function(e,t){i.uint.preencode(e,1)},b=function(e,t){i.uint.encode(e,1)},_=function(e){return{version:i.uint.decode(e)}};t.noisePayload={preencode:function(e,t){e.end+=4,t.holepunch&&f(e,t.holepunch),t.addresses4&&t.addresses4.length&&s.preencode(e,t.addresses4),t.addresses6&&t.addresses6.length&&l.preencode(e,t.addresses6),t.udx&&g(e,t.udx),t.secretStream&&v(e,t.secretStream)},encode:function(e,t){var n=0;t.holepunch&&(n|=1),t.addresses4&&t.addresses4.length&&(n|=2),t.addresses6&&t.addresses6.length&&(n|=4),t.udx&&(n|=8),t.secretStream&&(n|=16),i.uint.encode(e,1),i.uint.encode(e,n),i.uint.encode(e,t.error),i.uint.encode(e,t.firewall),t.holepunch&&d(e,t.holepunch),t.addresses4&&t.addresses4.length&&s.encode(e,t.addresses4),t.addresses6&&t.addresses6.length&&l.encode(e,t.addresses6),t.udx&&y(e,t.udx),t.secretStream&&b(e,t.secretStream)},decode:function(e){var t=i.uint.decode(e);if(1!==t)return{version:t,error:0,firewall:0,holepunch:null,addresses4:[],addresses6:[],udx:null,secretStream:null};var n=i.uint.decode(e);return{version:t,error:i.uint.decode(e),firewall:i.uint.decode(e),holepunch:0!==(1&n)?p(e):null,addresses4:0!==(2&n)?s.decode(e):[],addresses6:0!==(4&n)?l.decode(e):[],udx:0!==(8&n)?A(e):null,secretStream:0!==(16&n)?_(e):null}}},t.holepunch={preencode:function(e,t){e.end+=2,i.uint.preencode(e,t.id),i.buffer.preencode(e,t.payload),t.peerAddress&&a.preencode(e,t.peerAddress)},encode:function(e,t){var n=t.peerAddress?1:0;i.uint.encode(e,n),i.uint.encode(e,t.mode),i.uint.encode(e,t.id),i.buffer.encode(e,t.payload),t.peerAddress&&a.encode(e,t.peerAddress)},decode:function(e){var t=i.uint.decode(e);return{mode:i.uint.decode(e),id:i.uint.decode(e),payload:i.buffer.decode(e),peerAddress:1&t?a.decode(e):null}}},t.holepunchPayload={preencode:function(e,t){e.end+=4,t.addresses&&s.preencode(e,t.addresses),t.remoteAddress&&(e.end+=6),t.token&&(e.end+=32),t.remoteToken&&(e.end+=32)},encode:function(e,t){var n=(t.connected?1:0)|(t.punching?2:0)|(t.addresses?4:0)|(t.remoteAddress?8:0)|(t.token?16:0)|(t.remoteToken?32:0);i.uint.encode(e,n),i.uint.encode(e,t.error),i.uint.encode(e,t.firewall),i.uint.encode(e,t.round),t.addresses&&s.encode(e,t.addresses),t.remoteAddress&&a.encode(e,t.remoteAddress),t.token&&i.fixed32.encode(e,t.token),t.remoteToken&&i.fixed32.encode(e,t.remoteToken)},decode:function(e){var t=i.uint.decode(e);return{error:i.uint.decode(e),firewall:i.uint.decode(e),round:i.uint.decode(e),connected:0!==(1&t),punching:0!==(2&t),addresses:0!==(4&t)?s.decode(e):null,remoteAddress:0!==(8&t)?a.decode(e):null,token:0!==(16&t)?i.fixed32.decode(e):null,remoteToken:0!==(32&t)?i.fixed32.decode(e):null}}};var m=t.peer={preencode:function(e,t){e.end+=32,s.preencode(e,t.relayAddresses)},encode:function(e,t){i.fixed32.encode(e,t.publicKey),s.encode(e,t.relayAddresses)},decode:function(e){return{publicKey:i.fixed32.decode(e),relayAddresses:s.decode(e)}}};t.peers=i.array(m),t.announce={preencode:function(e,t){e.end++,t.peer&&m.preencode(e,t.peer),t.refresh&&(e.end+=32),t.signature&&(e.end+=64)},encode:function(e,t){var n=(t.peer?1:0)|(t.refresh?2:0)|(t.signature?4:0);i.uint.encode(e,n),t.peer&&m.encode(e,t.peer),t.refresh&&i.fixed32.encode(e,t.refresh),t.signature&&i.fixed64.encode(e,t.signature)},decode:function(e){var t=i.uint.decode(e);return{peer:0!==(1&t)?m.decode(e):null,refresh:0!==(2&t)?i.fixed32.decode(e):null,signature:0!==(4&t)?i.fixed64.decode(e):null}}},t.mutableSignable={preencode:function(e,t){i.uint.preencode(e,t.seq),i.buffer.preencode(e,t.value)},encode:function(e,t){i.uint.encode(e,t.seq),i.buffer.encode(e,t.value)},decode:function(e){return{seq:i.uint.decode(e),value:i.buffer.decode(e)}}},t.mutablePutRequest={preencode:function(e,t){i.fixed32.preencode(e,t.publicKey),i.uint.preencode(e,t.seq),i.buffer.preencode(e,t.value),i.fixed64.preencode(e,t.signature)},encode:function(e,t){i.fixed32.encode(e,t.publicKey),i.uint.encode(e,t.seq),i.buffer.encode(e,t.value),i.fixed64.encode(e,t.signature)},decode:function(e){return{publicKey:i.fixed32.decode(e),seq:i.uint.decode(e),value:i.buffer.decode(e),signature:i.fixed64.decode(e)}}},t.mutableGetResponse={preencode:function(e,t){i.uint.preencode(e,t.seq),i.buffer.preencode(e,t.value),i.fixed64.preencode(e,t.signature)},encode:function(e,t){i.uint.encode(e,t.seq),i.buffer.encode(e,t.value),i.fixed64.encode(e,t.signature)},decode:function(e){return{seq:i.uint.decode(e),value:i.buffer.decode(e),signature:i.fixed64.decode(e)}}}},7463:function(e,t,n){var r=n(6690).default,i=n(9728).default,o=n(6115).default,a=n(1655).default,s=n(6389).default,u=n(7424).default,l=n(7243),c=l.Pull,h=l.Push,f=l.HEADERBYTES,d=l.KEYBYTES,p=l.ABYTES,g=n(2635),y=n(5852),A=n(1843),v=A.Duplex,b=A.getStreamError,_=n(4587),m=n(7228),k=n(725),I=n(7451),w=f+32,E=u(y.namespace("hyperswarm/secret-stream",2),2),x=E[0],C=E[1];function S(e,t){t[0]=255&e,t[1]=e>>>8&255,t[2]=e>>>16&255}function B(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:_.allocUnsafe(32);return g.crypto_generichash(n,t?x:C,e),n}function Q(e){return"string"===typeof e?_.from(e):e}function L(){this.destroy(new Error("Stream timed out"))}function D(){var e=this.alloc(0);this.write(e)}e.exports=function(e){"use strict";a(n,e);var t=s(n);function n(e,i){var a,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(r(this,n),a=t.call(this,{mapWritable:Q}),"boolean"!==typeof e)throw new Error("isInitiator should be a boolean");a.noiseStream=o(a),a.isInitiator=e,a.rawStream=null,a.publicKey=s.publicKey||null,a.remotePublicKey=s.remotePublicKey||null,a.handshakeHash=null,a.userData=null;var u=null;return a.opened=new Promise((function(e){u=e})),a._rawStream=null,a._handshake=null,a._handshakePattern=s.pattern||null,a._handshakeDone=null,a._state=0,a._len=0,a._tmp=1,a._message=null,a._openedDone=u,a._startDone=null,a._drainDone=null,a._outgoingPlain=null,a._outgoingWrapped=null,a._utp=null,a._setup=!0,a._ended=2,a._encrypt=null,a._decrypt=null,a._timeout=null,a._timeoutMs=0,a._keepAlive=null,a._keepAliveMs=0,!1!==s.autoStart&&a.start(i,s),a.resume(),a.pause(),a}return i(n,[{key:"setTimeout",value:function(e){e||(e=0),this._clearTimeout(),this._timeoutMs=e,e&&null!==this.rawStream&&(this._timeout=m.once(e,L,this),this._timeout.unref())}},{key:"setKeepAlive",value:function(e){e||(e=0),this._keepAliveMs=e,e&&null!==this.rawStream&&(this._keepAlive=m.on(e,D,this),this._keepAlive.unref())}},{key:"start",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e?(this.rawStream=e,this._rawStream=e,"function"===typeof this.rawStream.setContentSize&&(this._utp=e)):(this.rawStream=new k(this),this._rawStream=this.rawStream.reverse),this.rawStream.on("error",this._onrawerror.bind(this)),this.rawStream.on("close",this._onrawclose.bind(this)),this._startHandshake(t.handshake,t.keyPair||null),this._continueOpen(null),this.destroying||(t.data&&this._onrawdata(t.data),t.ended&&this._onrawend(),this._keepAliveMs>0&&null===this._keepAlive&&this.setKeepAlive(this._keepAliveMs),this._timeoutMs>0&&null===this._timeout&&this.setTimeout(this._timeoutMs))}},{key:"_continueOpen",value:function(e){if(e&&this.destroy(e),null!==this._startDone){var t=this._startDone;this._startDone=null,this._open(t)}}},{key:"_onkeypairpromise",value:function(e){var t=this,n=this._continueOpen.bind(this);e.then((function(e){t._onkeypair(e),n(null)}),n)}},{key:"_onkeypair",value:function(e){var t=this._handshakePattern||"XX",n=this.remotePublicKey;this._handshake=new I(this.isInitiator,e,n,t),this.publicKey=this._handshake.keyPair.publicKey}},{key:"_startHandshake",value:function(e,t){if(e){var n=e.tx,r=e.rx,i=e.hash,o=e.publicKey,a=e.remotePublicKey;this._setupSecretStream(n,r,i,o,a)}else t||(t=I.keyPair()),"function"===typeof t.then?this._onkeypairpromise(t):this._onkeypair(t)}},{key:"_onrawerror",value:function(e){this.destroy(e)}},{key:"_onrawclose",value:function(){0!==this._ended&&this.destroy()}},{key:"_onrawdata",value:function(e){var t=0;null!==this._timeout&&this._timeout.refresh();do{switch(this._state){case 0:for(;16777216!==this._tmp&&t<e.length;){var n=e[t++];this._len+=this._tmp*n,this._tmp*=256}if(16777216===this._tmp){this._tmp=0,this._state=1;var r=e.length-t;r<this._len&&null!==this._utp&&this._utp.setContentSize(this._len-r)}break;case 1:var i=this._len-this._tmp,o=i+t;if(null===this._message&&o<=e.length){this._message=e.subarray(t,o),t+=i,this._incoming();break}var a=e.length-t;null===this._message&&(this._message=_.allocUnsafe(this._len)),_.copy(e,this._message,this._tmp,t),this._tmp+=a,o<=e.length?(t+=i,this._incoming()):t+=a}}while(t<e.length&&!this.destroying)}},{key:"_onrawend",value:function(){this._ended--,this.push(null)}},{key:"_onrawdrain",value:function(){var e=this._drainDone;null!==e&&(this._drainDone=null,e())}},{key:"_read",value:function(e){this.rawStream.resume(),e(null)}},{key:"_incoming",value:function(){var e=this._message;if(this._state=0,this._len=0,this._tmp=1,this._message=null,!0!==this._setup)if(e.length<p)this.destroy(new Error("Invalid message received"));else{var t=e.subarray(1,e.byteLength-p+1);try{this._decrypt.next(e,t)}catch(o){return void this.destroy(o)}0===t.byteLength&&0!==this._keepAliveMs||!1===this.push(t)&&this.rawStream.pause()}else if(this._handshake)this._onhandshakert(this._handshake.recv(e));else{if(e.byteLength!==w)return void this.destroy(new Error("Invalid header message received"));var n=e.subarray(0,32),r=B(this.handshakeHash,!this.isInitiator),i=e.subarray(32);if(!_.equals(r,n))return void this.destroy(new Error("Invalid header received"));this._decrypt.init(i),this._setup=!1}}},{key:"_onhandshakert",value:function(e){if(null!==this._handshakeDone&&(null===e||(e.data&&this._rawStream.write(e.data),e.tx))){var t=this._handshakeDone,n=this._handshake.keyPair.publicKey;if(this._handshakeDone=null,this._handshake=null,null===e)return t(new Error("Noise handshake failed"));this._setupSecretStream(e.tx,e.rx,e.hash,n,e.remotePublicKey),this._resolveOpened(!0),t(null)}}},{key:"_setupSecretStream",value:function(e,t,n,r,i){var o=_.allocUnsafe(3+w);S(w,o),this._encrypt=new h(e.subarray(0,d),void 0,o.subarray(35)),this._decrypt=new c(t.subarray(0,d)),this.publicKey=r,this.remotePublicKey=i,this.handshakeHash=n;var a=o.subarray(3,35);B(n,this.isInitiator,a),this.emit("handshake"),this.rawStream!==this._rawStream&&this.rawStream.emit("handshake"),this.destroying||this._rawStream.write(o)}},{key:"_open",value:function(e){if(null===this._rawStream||null===this._handshake&&null===this._encrypt)this._startDone=e;else{if(this._rawStream.on("data",this._onrawdata.bind(this)),this._rawStream.on("end",this._onrawend.bind(this)),this._rawStream.on("drain",this._onrawdrain.bind(this)),null!==this._encrypt)return this._resolveOpened(!0),e(null);this._handshakeDone=e,this.isInitiator&&this._onhandshakert(this._handshake.send())}}},{key:"_predestroy",value:function(){if(this.rawStream){var e=b(this);this.rawStream.destroy(e)}if(null!==this._startDone){var t=this._startDone;this._startDone=null,t(new Error("Stream destroyed"))}if(null!==this._handshakeDone){var n=this._handshakeDone;this._handshakeDone=null,n(new Error("Stream destroyed"))}if(null!==this._drainDone){var r=this._drainDone;this._drainDone=null,r(new Error("Stream destroyed"))}}},{key:"_write",value:function(e,t){var n=this._outgoingWrapped;e!==this._outgoingPlain?(n=_.allocUnsafe(e.byteLength+3+p)).set(e,4):this._outgoingWrapped=this._outgoingPlain=null,S(n.byteLength-3,n),this._encrypt.next(n.subarray(4,4+e.byteLength),n.subarray(3)),null!==this._keepAlive&&this._keepAlive.refresh(),!1===this._rawStream.write(n)?this._drainDone=t:t(null)}},{key:"_final",value:function(e){this._clearKeepAlive(),this._ended--,this._rawStream.end(),e(null)}},{key:"_resolveOpened",value:function(e){if(null!==this._openedDone){var t=this._openedDone;this._openedDone=null,t(e),e&&this.emit("connect")}}},{key:"_clearTimeout",value:function(){null!==this._timeout&&(this._timeout.destroy(),this._timeout=null,this._timeoutMs=0)}},{key:"_clearKeepAlive",value:function(){null!==this._keepAlive&&(this._keepAlive.destroy(),this._keepAlive=null,this._keepAliveMs=0)}},{key:"_destroy",value:function(e){this._clearKeepAlive(),this._clearTimeout(),this._resolveOpened(!1),e(null)}},{key:"alloc",value:function(e){var t=_.allocUnsafe(e+3+p);return this._outgoingWrapped=t,this._outgoingPlain=t.subarray(4,t.byteLength-p+1),this._outgoingPlain}}],[{key:"keyPair",value:function(e){return I.keyPair(e)}},{key:"id",value:function(e,t,n){return B(e,t,n)}}]),n}(v)},725:function(e,t,n){var r=n(6115).default,i=n(6690).default,o=n(9728).default,a=n(1655).default,s=n(6389).default,u=n(1843).Duplex,l=function(e){"use strict";a(n,e);var t=s(n);function n(e){var r;return i(this,n),(r=t.call(this))._stream=e,r._ondrain=null,r}return o(n,[{key:"_write",value:function(e,t){!1===this._stream.push(e)?this._stream._ondrain=t:t(null)}},{key:"_final",value:function(e){this._stream.push(null),e(null)}},{key:"_read",value:function(e){var t=this._ondrain;this._ondrain=null,t&&t(),e(null)}}]),n}(u);e.exports=function(e){"use strict";a(n,e);var t=s(n);function n(e){var o;return i(this,n),(o=t.call(this)).noiseStream=e,o._ondrain=null,o.reverse=new l(r(o)),o}return o(n,[{key:"publicKey",get:function(){return this.noiseStream.publicKey}},{key:"remotePublicKey",get:function(){return this.noiseStream.remotePublicKey}},{key:"handshakeHash",get:function(){return this.noiseStream.handshakeHash}},{key:"_read",value:function(e){var t=this._ondrain;this._ondrain=null,t&&t(),e(null)}},{key:"_write",value:function(e,t){!1===this.reverse.push(e)?this.reverse._ondrain=t:t(null)}},{key:"_final",value:function(e){this.reverse.push(null),e(null)}}]),n}(u)},7451:function(e,t,n){var r=n(6690).default,i=n(9728).default,o=n(2635),a=n(1244),s=n(5598),u=n(4587),l=u.alloc(0);e.exports=function(){"use strict";function e(t,n,i,o){r(this,e),this.isInitiator=t,this.keyPair=n,this.noise=new s(o,t,n,{curve:a}),this.noise.initialise(l,i),this.destroyed=!1}return i(e,[{key:"recv",value:function(e){try{return this.noise.recv(e),this.noise.complete?this._return(null):this.send()}catch(t){return this.destroy(),null}}},{key:"send",value:function(){try{var e=this.noise.send(),t=u.allocUnsafe(e.byteLength+3);return n=e.byteLength,(r=t)[0]=255&n,r[1]=n>>>8&255,r[2]=n>>>16&255,t.set(e,3),this._return(t)}catch(i){return this.destroy(),null}var n,r}},{key:"destroy",value:function(){this.destroyed||(this.destroyed=!0)}},{key:"_return",value:function(e){var t=this.noise.complete?u.toBuffer(this.noise.tx):null,n=this.noise.complete?u.toBuffer(this.noise.rx):null,r=this.noise.complete?u.toBuffer(this.noise.hash):null;return{data:e,remotePublicKey:this.noise.complete?u.toBuffer(this.noise.rs):null,hash:r,tx:t,rx:n}}}],[{key:"keyPair",value:function(e){var t=u.alloc(32),n=u.alloc(64);return e?o.crypto_sign_seed_keypair(t,n,e):o.crypto_sign_keypair(t,n),{publicKey:t,secretKey:n}}}]),e}()},4587:function(e,t,n){var r=n(5600),i=n(3200),o=n(1599),a=n(9605),s=n(83),u=255===new Uint8Array(Uint16Array.of(255).buffer)[0];function l(e){switch(e){case"ascii":return r;case"base64":return i;case"hex":return o;case"utf8":case"utf-8":case void 0:return a;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return s;default:throw new Error("Unknown encoding: ".concat(e))}}function c(e){return e instanceof Uint8Array}function h(e,t,n){return"string"===typeof e?function(e,t){var n=l(t),r=new Uint8Array(n.byteLength(e));return n.write(r,e,0,r.byteLength),r}(e,t):Array.isArray(e)?function(e){var t=new Uint8Array(e.length);return t.set(e),t}(e):ArrayBuffer.isView(e)?function(e){var t=new Uint8Array(e.byteLength);return t.set(e),t}(e):function(e,t,n){return new Uint8Array(e,t,n)}(e,t,n)}function f(e,t,n,r,i){if(0===e.byteLength)return-1;if("string"===typeof n?(r=n,n=0):void 0===n?n=i?0:e.length-1:n<0&&(n+=e.byteLength),n>=e.byteLength){if(i)return-1;n=e.byteLength-1}else if(n<0){if(!i)return-1;n=0}if("string"===typeof t)t=h(t,r);else if("number"===typeof t)return t&=255,i?e.indexOf(t,n):e.lastIndexOf(t,n);if(0===t.byteLength)return-1;if(i)for(var o=-1,a=n;a<e.byteLength;a++)if(e[a]===t[-1===o?0:a-o]){if(-1===o&&(o=a),a-o+1===t.byteLength)return o}else-1!==o&&(a-=a-o),o=-1;else{n+t.byteLength>e.byteLength&&(n=e.byteLength-t.byteLength);for(var s=n;s>=0;s--){for(var u=!0,l=0;l<t.byteLength;l++)if(e[s+l]!==t[l]){u=!1;break}if(u)return s}}return-1}function d(e,t,n,r){return f(e,t,n,r,!0)}function p(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}e.exports=t={isBuffer:c,isEncoding:function(e){try{return l(e),!0}catch(t){return!1}},alloc:function(e,n,r){var i=new Uint8Array(e);return void 0!==n&&t.fill(i,n,0,i.byteLength,r),i},allocUnsafe:function(e){return new Uint8Array(e)},allocUnsafeSlow:function(e){return new Uint8Array(e)},byteLength:function(e,t){return l(t).byteLength(e)},compare:function(e,t){if(e===t)return 0;var n=Math.min(e.byteLength,t.byteLength);e=new DataView(e.buffer,e.byteOffset,e.byteLength),t=new DataView(t.buffer,t.byteOffset,t.byteLength);for(var r=0,i=n-n%4;r<i;r+=4){if(e.getUint32(r,u)!==t.getUint32(r,u))break}for(;r<n;r++){var o=e.getUint8(r),a=t.getUint8(r);if(o<a)return-1;if(o>a)return 1}return e.byteLength>t.byteLength?1:e.byteLength<t.byteLength?-1:0},concat:function(e,t){void 0===t&&(t=e.reduce((function(e,t){return e+t.byteLength}),0));var n=new Uint8Array(t);return e.reduce((function(e,t){return n.set(t,e),e+t.byteLength}),0),n},copy:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:e.byteLength;if(i>0&&i<r)return 0;if(i===r)return 0;if(0===e.byteLength||0===t.byteLength)return 0;if(n<0)throw new RangeError("targetStart is out of range");if(r<0||r>=e.byteLength)throw new RangeError("sourceStart is out of range");if(i<0)throw new RangeError("sourceEnd is out of range");n>=t.byteLength&&(n=t.byteLength),i>e.byteLength&&(i=e.byteLength),t.byteLength-n<i-r&&(i=t.length-n+r);var o=i-r;return e===t?t.copyWithin(n,r,i):t.set(e.subarray(r,i),n),o},equals:function(e,t){if(e===t)return!0;if(e.byteLength!==t.byteLength)return!1;var n=e.byteLength;e=new DataView(e.buffer,e.byteOffset,e.byteLength),t=new DataView(t.buffer,t.byteOffset,t.byteLength);for(var r=0,i=n-n%4;r<i;r+=4)if(e.getUint32(r,u)!==t.getUint32(r,u))return!1;for(;r<n;r++)if(e.getUint8(r)!==t.getUint8(r))return!1;return!0},fill:function(e,t,n,r,i){if("string"===typeof t?"string"===typeof n?(i=n,n=0,r=e.byteLength):"string"===typeof r&&(i=r,r=e.byteLength):"number"===typeof t?t&=255:"boolean"===typeof t&&(t=+t),n<0||e.byteLength<n||e.byteLength<r)throw new RangeError("Out of range index");if(void 0===n&&(n=0),void 0===r&&(r=e.byteLength),r<=n)return e;if(t||(t=0),"number"===typeof t)for(var o=n;o<r;++o)e[o]=t;else for(var a=(t=c(t)?t:h(t,i)).byteLength,s=0;s<r-n;++s)e[s+n]=t[s%a];return e},from:h,includes:function(e,t,n,r){return-1!==d(e,t,n,r)},indexOf:d,lastIndexOf:function(e,t,n,r){return f(e,t,n,r,!1)},swap16:function(e){var t=e.byteLength;if(t%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var n=0;n<t;n+=2)p(e,n,n+1);return e},swap32:function(e){var t=e.byteLength;if(t%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var n=0;n<t;n+=4)p(e,n,n+3),p(e,n+1,n+2);return e},swap64:function(e){var t=e.byteLength;if(t%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var n=0;n<t;n+=8)p(e,n,n+7),p(e,n+1,n+6),p(e,n+2,n+5),p(e,n+3,n+4);return e},toBuffer:function(e){return e},toString:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.byteLength,i=e.byteLength;return n>=i||r<=n?"":(n<0&&(n=0),r>i&&(r=i),(0!==n||r<i)&&(e=e.subarray(n,r)),l(t).toString(e))},write:function(e,t,n,r,i){return void 0===n?i="utf8":void 0===r&&"string"===typeof n?(i=n,n=void 0):void 0===i&&"string"===typeof r&&(i=r,r=void 0),l(i).write(e,t,n,r)},writeDoubleLE:function(e,t,n){return void 0===n&&(n=0),new DataView(e.buffer,e.byteOffset,e.byteLength).setFloat64(n,t,!0),n+8},writeFloatLE:function(e,t,n){return void 0===n&&(n=0),new DataView(e.buffer,e.byteOffset,e.byteLength).setFloat32(n,t,!0),n+4},writeUInt32LE:function(e,t,n){return void 0===n&&(n=0),new DataView(e.buffer,e.byteOffset,e.byteLength).setUint32(n,t,!0),n+4},writeInt32LE:function(e,t,n){return void 0===n&&(n=0),new DataView(e.buffer,e.byteOffset,e.byteLength).setInt32(n,t,!0),n+4},readDoubleLE:function(e,t){return void 0===t&&(t=0),new DataView(e.buffer,e.byteOffset,e.byteLength).getFloat64(t,!0)},readFloatLE:function(e,t){return void 0===t&&(t=0),new DataView(e.buffer,e.byteOffset,e.byteLength).getFloat32(t,!0)},readUInt32LE:function(e,t){return void 0===t&&(t=0),new DataView(e.buffer,e.byteOffset,e.byteLength).getUint32(t,!0)},readInt32LE:function(e,t){return void 0===t&&(t=0),new DataView(e.buffer,e.byteOffset,e.byteLength).getInt32(t,!0)}}},5600:function(e){function t(e){return e.length}e.exports={byteLength:t,toString:function(e){for(var t=e.byteLength,n="",r=0;r<t;r++)n+=String.fromCharCode(e[r]);return n},write:function(e,n){for(var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:t(n),o=Math.min(i,e.byteLength-r),a=0;a<o;a++)e[r+a]=n.charCodeAt(a);return o}}},3200:function(e){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",n=new Uint8Array(256),r=0;r<t.length;r++)n[t.charCodeAt(r)]=r;function i(e){var t=e.length;return 61===e.charCodeAt(t-1)&&t--,t>1&&61===e.charCodeAt(t-1)&&t--,3*t>>>2}n[45]=62,n[95]=63,e.exports={byteLength:i,toString:function(e){for(var n=e.byteLength,r="",i=0;i<n;i+=3)r+=t[e[i]>>2]+t[(3&e[i])<<4|e[i+1]>>4]+t[(15&e[i+1])<<2|e[i+2]>>6]+t[63&e[i+2]];return n%3===2?r=r.substring(0,r.length-1)+"=":n%3===1&&(r=r.substring(0,r.length-2)+"=="),r},write:function(e,t){for(var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:i(t),a=Math.min(o,e.byteLength-r),s=0,u=0;u<a;s+=4){var l=n[t.charCodeAt(s)],c=n[t.charCodeAt(s+1)],h=n[t.charCodeAt(s+2)],f=n[t.charCodeAt(s+3)];e[u++]=l<<2|c>>4,e[u++]=(15&c)<<4|h>>2,e[u++]=(3&h)<<6|63&f}return a}}},1599:function(e){function t(e){return e.length>>>1}function n(e){return e>=48&&e<=57?e-48:e>=65&&e<=70?e-65+10:e>=97&&e<=102?e-97+10:void 0}e.exports={byteLength:t,toString:function(e){var t=e.byteLength;e=new DataView(e.buffer,e.byteOffset,t);for(var n="",r=0,i=t-t%4;r<i;r+=4)n+=e.getUint32(r).toString(16).padStart(8,"0");for(;r<t;r++)n+=e.getUint8(r).toString(16).padStart(2,"0");return n},write:function(e,r){for(var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:t(r),a=Math.min(o,e.byteLength-i),s=0;s<a;s++){var u=n(r.charCodeAt(2*s)),l=n(r.charCodeAt(2*s+1));if(void 0===u||void 0===l)return e.subarray(0,s);e[i+s]=u<<4|l}return a}}},83:function(e){function t(e){return 2*e.length}e.exports={byteLength:t,toString:function(e){for(var t=e.byteLength,n="",r=0;r<t-1;r+=2)n+=String.fromCharCode(e[r]+256*e[r+1]);return n},write:function(e,n){for(var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:t(n),o=Math.min(i,e.byteLength-r),a=o,s=0;s<n.length&&!((a-=2)<0);++s){var u=n.charCodeAt(s),l=u>>8,c=u%256;e[r+2*s]=c,e[r+2*s+1]=l}return o}}},9605:function(e){function t(e){for(var t=0,n=0,r=e.length;n<r;n++){var i=e.charCodeAt(n);if(i>=55296&&i<=56319&&n+1<r){var o=e.charCodeAt(n+1);if(o>=56320&&o<=57343){t+=4,n++;continue}}t+=i<=127?1:i<=2047?2:3}return t}var n,r;if("undefined"!==typeof TextDecoder){var i=new TextDecoder;n=function(e){return i.decode(e)}}else n=function(e){for(var t=e.byteLength,n="",r=0;r<t;){var i=e[r];if(i<=127)n+=String.fromCharCode(i),r++;else{var o=0,a=0;if(i<=223?(o=1,a=31&i):i<=239?(o=2,a=15&i):i<=244&&(o=3,a=7&i),t-r-o>0)for(var s=0;s<o;)a=a<<6|63&(i=e[r+s+1]),s+=1;else a=65533,o=t-r;n+=String.fromCodePoint(a),r+=o+1}}return n};if("undefined"!==typeof TextEncoder){var o=new TextEncoder;r=function(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:t(n),a=Math.min(i,e.byteLength-r);return o.encodeInto(n,e.subarray(r,r+a)),a}}else r=function(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:t(n),o=Math.min(i,e.byteLength-r);e=e.subarray(r,r+o);for(var a=0,s=0;a<n.length;){var u=n.codePointAt(a);if(u<=127)e[s++]=u,a++;else{var l=0,c=0;for(u<=2047?(l=6,c=192):u<=65535?(l=12,c=224):u<=2097151&&(l=18,c=240),e[s++]=c|u>>l,l-=6;l>=0;)e[s++]=128|u>>l&63,l-=6;a+=u>=65536?2:1}}return o};e.exports={byteLength:t,toString:n,write:r}},1493:function(e,t,n){var r=n(6690).default,i=n(9728).default,o=new Uint16Array(8);function a(e,t){for(;t>0;){var n=4095&e;o[--t]=n,e=(e-n)/4096}return o}e.exports=function(){"use strict";function e(){r(this,e),this.tiny=new s,this.maxLength=4096,this.factor=1}return i(e,[{key:"set",value:function(e,t){if(void 0!==t)for(;e>=this.maxLength;)if(this.maxLength*=4096,this.factor++,!this.tiny.isEmptyish()){var n=new s;n.set(0,this.tiny),this.tiny=n}for(var r=a(e,this.factor),i=this.factor-1,o=this.tiny,u=0;u<i;u++){var l=o.get(r[u]);if(void 0===l){if(void 0===t)return;o=o.set(r[u],new s)}else o=l}return o.set(r[i],t)}},{key:"get",value:function(e){if(!(e>=this.maxLength)){for(var t=a(e,this.factor),n=this.factor-1,r=this.tiny,i=0;i<n;i++)if(void 0===(r=r.get(t[i])))return;return r.get(t[n])}}}]),e}();var s=function(){"use strict";function e(){r(this,e),this.s=0,this.b=new Array(1),this.f=new Uint16Array(1)}return i(e,[{key:"isEmptyish",value:function(){return 1===this.b.length&&void 0===this.b[0]}},{key:"get",value:function(e){if(12===this.s)return this.b[e];var t=e>>>this.s,n=e&this.b.length-1;return this.f[n]===t?this.b[n]:void 0}},{key:"set",value:function(e,t){for(;12!==this.s;){var n=e>>>this.s,r=e&this.b.length-1;if(void 0===this.b[r]||n===this.f[r])return this.b[r]=t,this.f[r]=n,t;this.grow()}return this.b[e]=t,t}},{key:"grow",value:function(){var e=this.s,t=this.b,n=this.f;this.s+=4,this.b=new Array(this.b.length<<4),this.f=12===this.s?null:new Uint8Array(this.b.length);for(var r=this.b.length-1,i=0;i<t.length;i++)if(void 0!==t[i]){var o=n[i]<<e|i,a=o>>>this.s,s=o&r;this.b[s]=t[i],12!==this.s&&(this.f[s]=a)}}}]),e}()},4779:function(e,t,n){var r,i,o=n(7061).default,a=n(7156).default,s=function(){for(var e=new Uint8Array(128),t=0;t<64;t++)e[t<26?t+65:t<52?t+71:t<62?t-4:4*t-205]=t;return function(t){for(var n=t.length,r=new Uint8Array(3*(n-("="==t[n-1])-("="==t[n-2]))/4|0),i=0,o=0;i<n;){var a=e[t.charCodeAt(i++)],s=e[t.charCodeAt(i++)],u=e[t.charCodeAt(i++)],l=e[t.charCodeAt(i++)];r[o++]=a<<2|s>>4,r[o++]=s<<4|u>>2,r[o++]=u<<6|l}return r}}(),u=(r={"wasm-binary:./blake2b.wat":function(e,t){t.exports=s("AGFzbQEAAAABEANgAn9/AGADf39/AGABfwADBQQAAQICBQUBAQroBwdNBQZtZW1vcnkCAAxibGFrZTJiX2luaXQAAA5ibGFrZTJiX3VwZGF0ZQABDWJsYWtlMmJfZmluYWwAAhBibGFrZTJiX2NvbXByZXNzAAMKvz8EwAIAIABCADcDACAAQgA3AwggAEIANwMQIABCADcDGCAAQgA3AyAgAEIANwMoIABCADcDMCAAQgA3AzggAEIANwNAIABCADcDSCAAQgA3A1AgAEIANwNYIABCADcDYCAAQgA3A2ggAEIANwNwIABCADcDeCAAQoiS853/zPmE6gBBACkDAIU3A4ABIABCu86qptjQ67O7f0EIKQMAhTcDiAEgAEKr8NP0r+68tzxBECkDAIU3A5ABIABC8e30+KWn/aelf0EYKQMAhTcDmAEgAELRhZrv+s+Uh9EAQSApAwCFNwOgASAAQp/Y+dnCkdqCm39BKCkDAIU3A6gBIABC6/qG2r+19sEfQTApAwCFNwOwASAAQvnC+JuRo7Pw2wBBOCkDAIU3A7gBIABCADcDwAEgAEIANwPIASAAQgA3A9ABC20BA38gAEHAAWohAyAAQcgBaiEEIAQpAwCnIQUCQANAIAEgAkYNASAFQYABRgRAIAMgAykDACAFrXw3AwBBACEFIAAQAwsgACAFaiABLQAAOgAAIAVBAWohBSABQQFqIQEMAAsLIAQgBa03AwALYQEDfyAAQcABaiEBIABByAFqIQIgASABKQMAIAIpAwB8NwMAIABCfzcD0AEgAikDAKchAwJAA0AgA0GAAUYNASAAIANqQQA6AAAgA0EBaiEDDAALCyACIAOtNwMAIAAQAwuqOwIgfgl/IABBgAFqISEgAEGIAWohIiAAQZABaiEjIABBmAFqISQgAEGgAWohJSAAQagBaiEmIABBsAFqIScgAEG4AWohKCAhKQMAIQEgIikDACECICMpAwAhAyAkKQMAIQQgJSkDACEFICYpAwAhBiAnKQMAIQcgKCkDACEIQoiS853/zPmE6gAhCUK7zqqm2NDrs7t/IQpCq/DT9K/uvLc8IQtC8e30+KWn/aelfyEMQtGFmu/6z5SH0QAhDUKf2PnZwpHagpt/IQ5C6/qG2r+19sEfIQ9C+cL4m5Gjs/DbACEQIAApAwAhESAAKQMIIRIgACkDECETIAApAxghFCAAKQMgIRUgACkDKCEWIAApAzAhFyAAKQM4IRggACkDQCEZIAApA0ghGiAAKQNQIRsgACkDWCEcIAApA2AhHSAAKQNoIR4gACkDcCEfIAApA3ghICANIAApA8ABhSENIA8gACkD0AGFIQ8gASAFIBF8fCEBIA0gAYVCIIohDSAJIA18IQkgBSAJhUIYiiEFIAEgBSASfHwhASANIAGFQhCKIQ0gCSANfCEJIAUgCYVCP4ohBSACIAYgE3x8IQIgDiAChUIgiiEOIAogDnwhCiAGIAqFQhiKIQYgAiAGIBR8fCECIA4gAoVCEIohDiAKIA58IQogBiAKhUI/iiEGIAMgByAVfHwhAyAPIAOFQiCKIQ8gCyAPfCELIAcgC4VCGIohByADIAcgFnx8IQMgDyADhUIQiiEPIAsgD3whCyAHIAuFQj+KIQcgBCAIIBd8fCEEIBAgBIVCIIohECAMIBB8IQwgCCAMhUIYiiEIIAQgCCAYfHwhBCAQIASFQhCKIRAgDCAQfCEMIAggDIVCP4ohCCABIAYgGXx8IQEgECABhUIgiiEQIAsgEHwhCyAGIAuFQhiKIQYgASAGIBp8fCEBIBAgAYVCEIohECALIBB8IQsgBiALhUI/iiEGIAIgByAbfHwhAiANIAKFQiCKIQ0gDCANfCEMIAcgDIVCGIohByACIAcgHHx8IQIgDSAChUIQiiENIAwgDXwhDCAHIAyFQj+KIQcgAyAIIB18fCEDIA4gA4VCIIohDiAJIA58IQkgCCAJhUIYiiEIIAMgCCAefHwhAyAOIAOFQhCKIQ4gCSAOfCEJIAggCYVCP4ohCCAEIAUgH3x8IQQgDyAEhUIgiiEPIAogD3whCiAFIAqFQhiKIQUgBCAFICB8fCEEIA8gBIVCEIohDyAKIA98IQogBSAKhUI/iiEFIAEgBSAffHwhASANIAGFQiCKIQ0gCSANfCEJIAUgCYVCGIohBSABIAUgG3x8IQEgDSABhUIQiiENIAkgDXwhCSAFIAmFQj+KIQUgAiAGIBV8fCECIA4gAoVCIIohDiAKIA58IQogBiAKhUIYiiEGIAIgBiAZfHwhAiAOIAKFQhCKIQ4gCiAOfCEKIAYgCoVCP4ohBiADIAcgGnx8IQMgDyADhUIgiiEPIAsgD3whCyAHIAuFQhiKIQcgAyAHICB8fCEDIA8gA4VCEIohDyALIA98IQsgByALhUI/iiEHIAQgCCAefHwhBCAQIASFQiCKIRAgDCAQfCEMIAggDIVCGIohCCAEIAggF3x8IQQgECAEhUIQiiEQIAwgEHwhDCAIIAyFQj+KIQggASAGIBJ8fCEBIBAgAYVCIIohECALIBB8IQsgBiALhUIYiiEGIAEgBiAdfHwhASAQIAGFQhCKIRAgCyAQfCELIAYgC4VCP4ohBiACIAcgEXx8IQIgDSAChUIgiiENIAwgDXwhDCAHIAyFQhiKIQcgAiAHIBN8fCECIA0gAoVCEIohDSAMIA18IQwgByAMhUI/iiEHIAMgCCAcfHwhAyAOIAOFQiCKIQ4gCSAOfCEJIAggCYVCGIohCCADIAggGHx8IQMgDiADhUIQiiEOIAkgDnwhCSAIIAmFQj+KIQggBCAFIBZ8fCEEIA8gBIVCIIohDyAKIA98IQogBSAKhUIYiiEFIAQgBSAUfHwhBCAPIASFQhCKIQ8gCiAPfCEKIAUgCoVCP4ohBSABIAUgHHx8IQEgDSABhUIgiiENIAkgDXwhCSAFIAmFQhiKIQUgASAFIBl8fCEBIA0gAYVCEIohDSAJIA18IQkgBSAJhUI/iiEFIAIgBiAdfHwhAiAOIAKFQiCKIQ4gCiAOfCEKIAYgCoVCGIohBiACIAYgEXx8IQIgDiAChUIQiiEOIAogDnwhCiAGIAqFQj+KIQYgAyAHIBZ8fCEDIA8gA4VCIIohDyALIA98IQsgByALhUIYiiEHIAMgByATfHwhAyAPIAOFQhCKIQ8gCyAPfCELIAcgC4VCP4ohByAEIAggIHx8IQQgECAEhUIgiiEQIAwgEHwhDCAIIAyFQhiKIQggBCAIIB58fCEEIBAgBIVCEIohECAMIBB8IQwgCCAMhUI/iiEIIAEgBiAbfHwhASAQIAGFQiCKIRAgCyAQfCELIAYgC4VCGIohBiABIAYgH3x8IQEgECABhUIQiiEQIAsgEHwhCyAGIAuFQj+KIQYgAiAHIBR8fCECIA0gAoVCIIohDSAMIA18IQwgByAMhUIYiiEHIAIgByAXfHwhAiANIAKFQhCKIQ0gDCANfCEMIAcgDIVCP4ohByADIAggGHx8IQMgDiADhUIgiiEOIAkgDnwhCSAIIAmFQhiKIQggAyAIIBJ8fCEDIA4gA4VCEIohDiAJIA58IQkgCCAJhUI/iiEIIAQgBSAafHwhBCAPIASFQiCKIQ8gCiAPfCEKIAUgCoVCGIohBSAEIAUgFXx8IQQgDyAEhUIQiiEPIAogD3whCiAFIAqFQj+KIQUgASAFIBh8fCEBIA0gAYVCIIohDSAJIA18IQkgBSAJhUIYiiEFIAEgBSAafHwhASANIAGFQhCKIQ0gCSANfCEJIAUgCYVCP4ohBSACIAYgFHx8IQIgDiAChUIgiiEOIAogDnwhCiAGIAqFQhiKIQYgAiAGIBJ8fCECIA4gAoVCEIohDiAKIA58IQogBiAKhUI/iiEGIAMgByAefHwhAyAPIAOFQiCKIQ8gCyAPfCELIAcgC4VCGIohByADIAcgHXx8IQMgDyADhUIQiiEPIAsgD3whCyAHIAuFQj+KIQcgBCAIIBx8fCEEIBAgBIVCIIohECAMIBB8IQwgCCAMhUIYiiEIIAQgCCAffHwhBCAQIASFQhCKIRAgDCAQfCEMIAggDIVCP4ohCCABIAYgE3x8IQEgECABhUIgiiEQIAsgEHwhCyAGIAuFQhiKIQYgASAGIBd8fCEBIBAgAYVCEIohECALIBB8IQsgBiALhUI/iiEGIAIgByAWfHwhAiANIAKFQiCKIQ0gDCANfCEMIAcgDIVCGIohByACIAcgG3x8IQIgDSAChUIQiiENIAwgDXwhDCAHIAyFQj+KIQcgAyAIIBV8fCEDIA4gA4VCIIohDiAJIA58IQkgCCAJhUIYiiEIIAMgCCARfHwhAyAOIAOFQhCKIQ4gCSAOfCEJIAggCYVCP4ohCCAEIAUgIHx8IQQgDyAEhUIgiiEPIAogD3whCiAFIAqFQhiKIQUgBCAFIBl8fCEEIA8gBIVCEIohDyAKIA98IQogBSAKhUI/iiEFIAEgBSAafHwhASANIAGFQiCKIQ0gCSANfCEJIAUgCYVCGIohBSABIAUgEXx8IQEgDSABhUIQiiENIAkgDXwhCSAFIAmFQj+KIQUgAiAGIBZ8fCECIA4gAoVCIIohDiAKIA58IQogBiAKhUIYiiEGIAIgBiAYfHwhAiAOIAKFQhCKIQ4gCiAOfCEKIAYgCoVCP4ohBiADIAcgE3x8IQMgDyADhUIgiiEPIAsgD3whCyAHIAuFQhiKIQcgAyAHIBV8fCEDIA8gA4VCEIohDyALIA98IQsgByALhUI/iiEHIAQgCCAbfHwhBCAQIASFQiCKIRAgDCAQfCEMIAggDIVCGIohCCAEIAggIHx8IQQgECAEhUIQiiEQIAwgEHwhDCAIIAyFQj+KIQggASAGIB98fCEBIBAgAYVCIIohECALIBB8IQsgBiALhUIYiiEGIAEgBiASfHwhASAQIAGFQhCKIRAgCyAQfCELIAYgC4VCP4ohBiACIAcgHHx8IQIgDSAChUIgiiENIAwgDXwhDCAHIAyFQhiKIQcgAiAHIB18fCECIA0gAoVCEIohDSAMIA18IQwgByAMhUI/iiEHIAMgCCAXfHwhAyAOIAOFQiCKIQ4gCSAOfCEJIAggCYVCGIohCCADIAggGXx8IQMgDiADhUIQiiEOIAkgDnwhCSAIIAmFQj+KIQggBCAFIBR8fCEEIA8gBIVCIIohDyAKIA98IQogBSAKhUIYiiEFIAQgBSAefHwhBCAPIASFQhCKIQ8gCiAPfCEKIAUgCoVCP4ohBSABIAUgE3x8IQEgDSABhUIgiiENIAkgDXwhCSAFIAmFQhiKIQUgASAFIB18fCEBIA0gAYVCEIohDSAJIA18IQkgBSAJhUI/iiEFIAIgBiAXfHwhAiAOIAKFQiCKIQ4gCiAOfCEKIAYgCoVCGIohBiACIAYgG3x8IQIgDiAChUIQiiEOIAogDnwhCiAGIAqFQj+KIQYgAyAHIBF8fCEDIA8gA4VCIIohDyALIA98IQsgByALhUIYiiEHIAMgByAcfHwhAyAPIAOFQhCKIQ8gCyAPfCELIAcgC4VCP4ohByAEIAggGXx8IQQgECAEhUIgiiEQIAwgEHwhDCAIIAyFQhiKIQggBCAIIBR8fCEEIBAgBIVCEIohECAMIBB8IQwgCCAMhUI/iiEIIAEgBiAVfHwhASAQIAGFQiCKIRAgCyAQfCELIAYgC4VCGIohBiABIAYgHnx8IQEgECABhUIQiiEQIAsgEHwhCyAGIAuFQj+KIQYgAiAHIBh8fCECIA0gAoVCIIohDSAMIA18IQwgByAMhUIYiiEHIAIgByAWfHwhAiANIAKFQhCKIQ0gDCANfCEMIAcgDIVCP4ohByADIAggIHx8IQMgDiADhUIgiiEOIAkgDnwhCSAIIAmFQhiKIQggAyAIIB98fCEDIA4gA4VCEIohDiAJIA58IQkgCCAJhUI/iiEIIAQgBSASfHwhBCAPIASFQiCKIQ8gCiAPfCEKIAUgCoVCGIohBSAEIAUgGnx8IQQgDyAEhUIQiiEPIAogD3whCiAFIAqFQj+KIQUgASAFIB18fCEBIA0gAYVCIIohDSAJIA18IQkgBSAJhUIYiiEFIAEgBSAWfHwhASANIAGFQhCKIQ0gCSANfCEJIAUgCYVCP4ohBSACIAYgEnx8IQIgDiAChUIgiiEOIAogDnwhCiAGIAqFQhiKIQYgAiAGICB8fCECIA4gAoVCEIohDiAKIA58IQogBiAKhUI/iiEGIAMgByAffHwhAyAPIAOFQiCKIQ8gCyAPfCELIAcgC4VCGIohByADIAcgHnx8IQMgDyADhUIQiiEPIAsgD3whCyAHIAuFQj+KIQcgBCAIIBV8fCEEIBAgBIVCIIohECAMIBB8IQwgCCAMhUIYiiEIIAQgCCAbfHwhBCAQIASFQhCKIRAgDCAQfCEMIAggDIVCP4ohCCABIAYgEXx8IQEgECABhUIgiiEQIAsgEHwhCyAGIAuFQhiKIQYgASAGIBh8fCEBIBAgAYVCEIohECALIBB8IQsgBiALhUI/iiEGIAIgByAXfHwhAiANIAKFQiCKIQ0gDCANfCEMIAcgDIVCGIohByACIAcgFHx8IQIgDSAChUIQiiENIAwgDXwhDCAHIAyFQj+KIQcgAyAIIBp8fCEDIA4gA4VCIIohDiAJIA58IQkgCCAJhUIYiiEIIAMgCCATfHwhAyAOIAOFQhCKIQ4gCSAOfCEJIAggCYVCP4ohCCAEIAUgGXx8IQQgDyAEhUIgiiEPIAogD3whCiAFIAqFQhiKIQUgBCAFIBx8fCEEIA8gBIVCEIohDyAKIA98IQogBSAKhUI/iiEFIAEgBSAefHwhASANIAGFQiCKIQ0gCSANfCEJIAUgCYVCGIohBSABIAUgHHx8IQEgDSABhUIQiiENIAkgDXwhCSAFIAmFQj+KIQUgAiAGIBh8fCECIA4gAoVCIIohDiAKIA58IQogBiAKhUIYiiEGIAIgBiAffHwhAiAOIAKFQhCKIQ4gCiAOfCEKIAYgCoVCP4ohBiADIAcgHXx8IQMgDyADhUIgiiEPIAsgD3whCyAHIAuFQhiKIQcgAyAHIBJ8fCEDIA8gA4VCEIohDyALIA98IQsgByALhUI/iiEHIAQgCCAUfHwhBCAQIASFQiCKIRAgDCAQfCEMIAggDIVCGIohCCAEIAggGnx8IQQgECAEhUIQiiEQIAwgEHwhDCAIIAyFQj+KIQggASAGIBZ8fCEBIBAgAYVCIIohECALIBB8IQsgBiALhUIYiiEGIAEgBiARfHwhASAQIAGFQhCKIRAgCyAQfCELIAYgC4VCP4ohBiACIAcgIHx8IQIgDSAChUIgiiENIAwgDXwhDCAHIAyFQhiKIQcgAiAHIBV8fCECIA0gAoVCEIohDSAMIA18IQwgByAMhUI/iiEHIAMgCCAZfHwhAyAOIAOFQiCKIQ4gCSAOfCEJIAggCYVCGIohCCADIAggF3x8IQMgDiADhUIQiiEOIAkgDnwhCSAIIAmFQj+KIQggBCAFIBN8fCEEIA8gBIVCIIohDyAKIA98IQogBSAKhUIYiiEFIAQgBSAbfHwhBCAPIASFQhCKIQ8gCiAPfCEKIAUgCoVCP4ohBSABIAUgF3x8IQEgDSABhUIgiiENIAkgDXwhCSAFIAmFQhiKIQUgASAFICB8fCEBIA0gAYVCEIohDSAJIA18IQkgBSAJhUI/iiEFIAIgBiAffHwhAiAOIAKFQiCKIQ4gCiAOfCEKIAYgCoVCGIohBiACIAYgGnx8IQIgDiAChUIQiiEOIAogDnwhCiAGIAqFQj+KIQYgAyAHIBx8fCEDIA8gA4VCIIohDyALIA98IQsgByALhUIYiiEHIAMgByAUfHwhAyAPIAOFQhCKIQ8gCyAPfCELIAcgC4VCP4ohByAEIAggEXx8IQQgECAEhUIgiiEQIAwgEHwhDCAIIAyFQhiKIQggBCAIIBl8fCEEIBAgBIVCEIohECAMIBB8IQwgCCAMhUI/iiEIIAEgBiAdfHwhASAQIAGFQiCKIRAgCyAQfCELIAYgC4VCGIohBiABIAYgE3x8IQEgECABhUIQiiEQIAsgEHwhCyAGIAuFQj+KIQYgAiAHIB58fCECIA0gAoVCIIohDSAMIA18IQwgByAMhUIYiiEHIAIgByAYfHwhAiANIAKFQhCKIQ0gDCANfCEMIAcgDIVCP4ohByADIAggEnx8IQMgDiADhUIgiiEOIAkgDnwhCSAIIAmFQhiKIQggAyAIIBV8fCEDIA4gA4VCEIohDiAJIA58IQkgCCAJhUI/iiEIIAQgBSAbfHwhBCAPIASFQiCKIQ8gCiAPfCEKIAUgCoVCGIohBSAEIAUgFnx8IQQgDyAEhUIQiiEPIAogD3whCiAFIAqFQj+KIQUgASAFIBt8fCEBIA0gAYVCIIohDSAJIA18IQkgBSAJhUIYiiEFIAEgBSATfHwhASANIAGFQhCKIQ0gCSANfCEJIAUgCYVCP4ohBSACIAYgGXx8IQIgDiAChUIgiiEOIAogDnwhCiAGIAqFQhiKIQYgAiAGIBV8fCECIA4gAoVCEIohDiAKIA58IQogBiAKhUI/iiEGIAMgByAYfHwhAyAPIAOFQiCKIQ8gCyAPfCELIAcgC4VCGIohByADIAcgF3x8IQMgDyADhUIQiiEPIAsgD3whCyAHIAuFQj+KIQcgBCAIIBJ8fCEEIBAgBIVCIIohECAMIBB8IQwgCCAMhUIYiiEIIAQgCCAWfHwhBCAQIASFQhCKIRAgDCAQfCEMIAggDIVCP4ohCCABIAYgIHx8IQEgECABhUIgiiEQIAsgEHwhCyAGIAuFQhiKIQYgASAGIBx8fCEBIBAgAYVCEIohECALIBB8IQsgBiALhUI/iiEGIAIgByAafHwhAiANIAKFQiCKIQ0gDCANfCEMIAcgDIVCGIohByACIAcgH3x8IQIgDSAChUIQiiENIAwgDXwhDCAHIAyFQj+KIQcgAyAIIBR8fCEDIA4gA4VCIIohDiAJIA58IQkgCCAJhUIYiiEIIAMgCCAdfHwhAyAOIAOFQhCKIQ4gCSAOfCEJIAggCYVCP4ohCCAEIAUgHnx8IQQgDyAEhUIgiiEPIAogD3whCiAFIAqFQhiKIQUgBCAFIBF8fCEEIA8gBIVCEIohDyAKIA98IQogBSAKhUI/iiEFIAEgBSARfHwhASANIAGFQiCKIQ0gCSANfCEJIAUgCYVCGIohBSABIAUgEnx8IQEgDSABhUIQiiENIAkgDXwhCSAFIAmFQj+KIQUgAiAGIBN8fCECIA4gAoVCIIohDiAKIA58IQogBiAKhUIYiiEGIAIgBiAUfHwhAiAOIAKFQhCKIQ4gCiAOfCEKIAYgCoVCP4ohBiADIAcgFXx8IQMgDyADhUIgiiEPIAsgD3whCyAHIAuFQhiKIQcgAyAHIBZ8fCEDIA8gA4VCEIohDyALIA98IQsgByALhUI/iiEHIAQgCCAXfHwhBCAQIASFQiCKIRAgDCAQfCEMIAggDIVCGIohCCAEIAggGHx8IQQgECAEhUIQiiEQIAwgEHwhDCAIIAyFQj+KIQggASAGIBl8fCEBIBAgAYVCIIohECALIBB8IQsgBiALhUIYiiEGIAEgBiAafHwhASAQIAGFQhCKIRAgCyAQfCELIAYgC4VCP4ohBiACIAcgG3x8IQIgDSAChUIgiiENIAwgDXwhDCAHIAyFQhiKIQcgAiAHIBx8fCECIA0gAoVCEIohDSAMIA18IQwgByAMhUI/iiEHIAMgCCAdfHwhAyAOIAOFQiCKIQ4gCSAOfCEJIAggCYVCGIohCCADIAggHnx8IQMgDiADhUIQiiEOIAkgDnwhCSAIIAmFQj+KIQggBCAFIB98fCEEIA8gBIVCIIohDyAKIA98IQogBSAKhUIYiiEFIAQgBSAgfHwhBCAPIASFQhCKIQ8gCiAPfCEKIAUgCoVCP4ohBSABIAUgH3x8IQEgDSABhUIgiiENIAkgDXwhCSAFIAmFQhiKIQUgASAFIBt8fCEBIA0gAYVCEIohDSAJIA18IQkgBSAJhUI/iiEFIAIgBiAVfHwhAiAOIAKFQiCKIQ4gCiAOfCEKIAYgCoVCGIohBiACIAYgGXx8IQIgDiAChUIQiiEOIAogDnwhCiAGIAqFQj+KIQYgAyAHIBp8fCEDIA8gA4VCIIohDyALIA98IQsgByALhUIYiiEHIAMgByAgfHwhAyAPIAOFQhCKIQ8gCyAPfCELIAcgC4VCP4ohByAEIAggHnx8IQQgECAEhUIgiiEQIAwgEHwhDCAIIAyFQhiKIQggBCAIIBd8fCEEIBAgBIVCEIohECAMIBB8IQwgCCAMhUI/iiEIIAEgBiASfHwhASAQIAGFQiCKIRAgCyAQfCELIAYgC4VCGIohBiABIAYgHXx8IQEgECABhUIQiiEQIAsgEHwhCyAGIAuFQj+KIQYgAiAHIBF8fCECIA0gAoVCIIohDSAMIA18IQwgByAMhUIYiiEHIAIgByATfHwhAiANIAKFQhCKIQ0gDCANfCEMIAcgDIVCP4ohByADIAggHHx8IQMgDiADhUIgiiEOIAkgDnwhCSAIIAmFQhiKIQggAyAIIBh8fCEDIA4gA4VCEIohDiAJIA58IQkgCCAJhUI/iiEIIAQgBSAWfHwhBCAPIASFQiCKIQ8gCiAPfCEKIAUgCoVCGIohBSAEIAUgFHx8IQQgDyAEhUIQiiEPIAogD3whCiAFIAqFQj+KIQUgISAhKQMAIAEgCYWFNwMAICIgIikDACACIAqFhTcDACAjICMpAwAgAyALhYU3AwAgJCAkKQMAIAQgDIWFNwMAICUgJSkDACAFIA2FhTcDACAmICYpAwAgBiAOhYU3AwAgJyAnKQMAIAcgD4WFNwMAICggKCkDACAIIBCFhTcDAAs=")}},function(){return i||(0,r[Object.keys(r)[0]])((i={exports:{}}).exports,i),i.exports})(),l=WebAssembly.compile(u);e.exports=function(){var e=a(o().mark((function e(t){var n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=WebAssembly,e.next=3,l;case 3:return e.t1=e.sent,e.t2=t,e.next=7,e.t0.instantiate.call(e.t0,e.t1,e.t2);case 7:return n=e.sent,e.abrupt("return",n.exports);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},1489:function(e,t,n){var r=n(3577),i=n(4587),o=null,a="undefined"!==typeof WebAssembly&&n(4779)().then((function(e){o=e})),s=64,u=[];e.exports=g;var l=e.exports.BYTES_MIN=16,c=e.exports.BYTES_MAX=64,h=(e.exports.BYTES=32,e.exports.KEYBYTES_MIN=16),f=e.exports.KEYBYTES_MAX=64,d=(e.exports.KEYBYTES=32,e.exports.SALTBYTES=16),p=e.exports.PERSONALBYTES=16;function g(e,t,n,i,a){if(!(this instanceof g))return new g(e,t,n,i,a);if(!o)throw new Error("WASM not loaded. Wait for Blake2b.ready(cb)");e||(e=32),!0!==a&&(r(e>=l,"digestLength must be at least "+l+", was given "+e),r(e<=c,"digestLength must be at most "+c+", was given "+e),null!=t&&(r(t instanceof Uint8Array,"key must be Uint8Array or Buffer"),r(t.length>=h,"key must be at least "+h+", was given "+t.length),r(t.length<=f,"key must be at least "+f+", was given "+t.length)),null!=n&&(r(n instanceof Uint8Array,"salt must be Uint8Array or Buffer"),r(n.length===d,"salt must be exactly "+d+", was given "+n.length)),null!=i&&(r(i instanceof Uint8Array,"personal must be Uint8Array or Buffer"),r(i.length===p,"personal must be exactly "+p+", was given "+i.length))),u.length||(u.push(s),s+=216),this.digestLength=e,this.finalized=!1,this.pointer=u.pop(),this._memory=new Uint8Array(o.memory.buffer),this._memory.fill(0,0,64),this._memory[0]=this.digestLength,this._memory[1]=t?t.length:0,this._memory[2]=1,this._memory[3]=1,n&&this._memory.set(n,32),i&&this._memory.set(i,48),this.pointer+216>this._memory.length&&this._realloc(this.pointer+216),o.blake2b_init(this.pointer,this.digestLength),t&&(this.update(t),this._memory.fill(0,s,s+t.length),this._memory[this.pointer+200]=128)}function y(){}g.prototype._realloc=function(e){o.memory.grow(Math.max(0,Math.ceil(Math.abs(e-this._memory.length)/65536))),this._memory=new Uint8Array(o.memory.buffer)},g.prototype.update=function(e){return r(!1===this.finalized,"Hash instance finalized"),r(e instanceof Uint8Array,"input must be Uint8Array or Buffer"),s+e.length>this._memory.length&&this._realloc(s+e.length),this._memory.set(e,s),o.blake2b_update(this.pointer,s,s+e.length),this},g.prototype.digest=function(e){if(r(!1===this.finalized,"Hash instance finalized"),this.finalized=!0,u.push(this.pointer),o.blake2b_final(this.pointer),!e||"binary"===e)return this._memory.slice(this.pointer+128,this.pointer+128+this.digestLength);if("string"===typeof e)return i.toString(this._memory,e,this.pointer+128,this.pointer+128+this.digestLength);r(e instanceof Uint8Array&&e.length>=this.digestLength,"input must be Uint8Array or Buffer");for(var t=0;t<this.digestLength;t++)e[t]=this._memory[this.pointer+128+t];return e},g.prototype.final=g.prototype.digest,g.WASM=o,g.SUPPORTED="undefined"!==typeof WebAssembly,g.ready=function(e){return e||(e=y),a?a.then((function(){return e()}),e):e(new Error("WebAssembly not supported"))},g.prototype.ready=g.ready,g.prototype.getPartialHash=function(){return this._memory.slice(this.pointer,this.pointer+216)},g.prototype.setPartialHash=function(e){this._memory.set(e,this.pointer)}},2917:function(e,t,n){var r=n(3577),i=n(1489);function o(e,t,n){var r=e[t]+e[n],i=e[t+1]+e[n+1];r>=4294967296&&i++,e[t]=r,e[t+1]=i}function a(e,t,n,r){var i=e[t]+n;n<0&&(i+=4294967296);var o=e[t+1]+r;i>=4294967296&&o++,e[t]=i,e[t+1]=o}function s(e,t){return e[t]^e[t+1]<<8^e[t+2]<<16^e[t+3]<<24}function u(e,t,n,r,i,s){var u=f[i],l=f[i+1],c=f[s],d=f[s+1];o(h,e,t),a(h,e,u,l);var p=h[r]^h[e],g=h[r+1]^h[e+1];h[r]=g,h[r+1]=p,o(h,n,r),p=h[t]^h[n],g=h[t+1]^h[n+1],h[t]=p>>>24^g<<8,h[t+1]=g>>>24^p<<8,o(h,e,t),a(h,e,c,d),p=h[r]^h[e],g=h[r+1]^h[e+1],h[r]=p>>>16^g<<16,h[r+1]=g>>>16^p<<16,o(h,n,r),p=h[t]^h[n],g=h[t+1]^h[n+1],h[t]=g>>>31^p<<1,h[t+1]=p>>>31^g<<1}var l=new Uint32Array([4089235720,1779033703,2227873595,3144134277,4271175723,1013904242,1595750129,2773480762,2917565137,1359893119,725511199,2600822924,4215389547,528734635,327033209,1541459225]),c=new Uint8Array([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3].map((function(e){return 2*e}))),h=new Uint32Array(32),f=new Uint32Array(32);function d(e,t){var n=0;for(n=0;n<16;n++)h[n]=e.h[n],h[n+16]=l[n];for(h[24]=h[24]^e.t,h[25]=h[25]^e.t/4294967296,t&&(h[28]=~h[28],h[29]=~h[29]),n=0;n<32;n++)f[n]=s(e.b,4*n);for(n=0;n<12;n++)u(0,8,16,24,c[16*n+0],c[16*n+1]),u(2,10,18,26,c[16*n+2],c[16*n+3]),u(4,12,20,28,c[16*n+4],c[16*n+5]),u(6,14,22,30,c[16*n+6],c[16*n+7]),u(0,10,20,30,c[16*n+8],c[16*n+9]),u(2,12,22,24,c[16*n+10],c[16*n+11]),u(4,14,16,26,c[16*n+12],c[16*n+13]),u(6,8,18,28,c[16*n+14],c[16*n+15]);for(n=0;n<16;n++)e.h[n]=e.h[n]^h[n]^h[n+16]}var p=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]);function g(e,t,n,r){p.fill(0),this.b=new Uint8Array(128),this.h=new Uint32Array(16),this.t=0,this.c=0,this.outlen=e,p[0]=e,t&&(p[1]=t.length),p[2]=1,p[3]=1,n&&p.set(n,32),r&&p.set(r,48);for(var i=0;i<16;i++)this.h[i]=l[i]^s(p,4*i);t&&(y(this,t),this.c=128)}function y(e,t){for(var n=0;n<t.length;n++)128===e.c&&(e.t+=e.c,d(e,!1),e.c=0),e.b[e.c++]=t[n]}function A(e){return e<16?"0"+e.toString(16):e.toString(16)}g.prototype.update=function(e){return r(e instanceof Uint8Array,"input must be Uint8Array or Buffer"),y(this,e),this},g.prototype.digest=function(e){var t=e&&"binary"!==e&&"hex"!==e?e:new Uint8Array(this.outlen);return r(t instanceof Uint8Array,'out must be "binary", "hex", Uint8Array, or Buffer'),r(t.length>=this.outlen,"out must have at least outlen bytes of space"),function(e,t){e.t+=e.c;for(;e.c<128;)e.b[e.c++]=0;d(e,!0);for(var n=0;n<e.outlen;n++)t[n]=e.h[n>>2]>>8*(3&n)}(this,t),"hex"===e?function(e){for(var t="",n=0;n<e.length;n++)t+=A(e[n]);return t}(t):t},g.prototype.final=g.prototype.digest,g.ready=function(e){i.ready((function(){e()}))};var v=g;e.exports=function(e,t,n,i,o){return!0!==o&&(r(e>=b,"outlen must be at least "+b+", was given "+e),r(e<=_,"outlen must be at most "+_+", was given "+e),null!=t&&(r(t instanceof Uint8Array,"key must be Uint8Array or Buffer"),r(t.length>=m,"key must be at least "+m+", was given "+t.length),r(t.length<=k,"key must be at most "+k+", was given "+t.length)),null!=n&&(r(n instanceof Uint8Array,"salt must be Uint8Array or Buffer"),r(n.length===I,"salt must be exactly "+I+", was given "+n.length)),null!=i&&(r(i instanceof Uint8Array,"personal must be Uint8Array or Buffer"),r(i.length===w,"personal must be exactly "+w+", was given "+i.length))),new v(e,t,n,i)},e.exports.ready=function(e){i.ready((function(){e()}))},e.exports.WASM_SUPPORTED=i.SUPPORTED,e.exports.WASM_LOADED=!1;var b=e.exports.BYTES_MIN=16,_=e.exports.BYTES_MAX=64,m=(e.exports.BYTES=32,e.exports.KEYBYTES_MIN=16),k=e.exports.KEYBYTES_MAX=64,I=(e.exports.KEYBYTES=32,e.exports.SALTBYTES=16),w=e.exports.PERSONALBYTES=16;i.ready((function(t){t||(e.exports.WASM_LOADED=!0,e.exports=i)}))},2326:function(e,t,n){var r=n(3577);e.exports=o;var i=[1634760805,857760878,2036477234,1797285236];function o(e,t,n){r(32===t.byteLength),r(8===e.byteLength||12===e.byteLength);var o=new Uint32Array(e.buffer,e.byteOffset,e.byteLength/4),a=new Uint32Array(t.buffer,t.byteOffset,t.byteLength/4);n||(n=0),r(n<Number.MAX_SAFE_INTEGER),this.finalized=!1,this.pos=0,this.state=new Uint32Array(16);for(var s=0;s<4;s++)this.state[s]=i[s];for(var u=0;u<8;u++)this.state[4+u]=a[u];return this.state[12]=4294967295&n,8===o.byteLength?(this.state[13]=(n&&0xffffffff00000000)>>32,this.state[14]=o[0],this.state[15]=o[1]):(this.state[13]=o[0],this.state[14]=o[1],this.state[15]=o[2]),this}function a(e){for(var t=new Uint32Array(16),n=16;n--;)t[n]=e[n];for(var r=0;r<20;r+=2)u(t,0,4,8,12),u(t,1,5,9,13),u(t,2,6,10,14),u(t,3,7,11,15),u(t,0,5,10,15),u(t,1,6,11,12),u(t,2,7,8,13),u(t,3,4,9,14);for(var i=0;i<16;i++)t[i]+=e[i];return new Uint8Array(t.buffer,t.byteOffset,t.byteLength)}function s(e,t){return e<<t|e>>>32-t}function u(e,t,n,r,i){e[t]+=e[n],e[i]^=e[t],e[i]=s(e[i],16),e[r]+=e[i],e[n]^=e[r],e[n]=s(e[n],12),e[t]+=e[n],e[i]^=e[t],e[i]=s(e[i],8),e[r]+=e[i],e[n]^=e[r],e[n]=s(e[n],7)}o.prototype.update=function(e,t){r(!this.finalized,"cipher finalized."),r(e.byteLength>=t.byteLength,"output cannot be shorter than input.");var n=t.length,i=this.pos%64;this.pos+=n;for(var o=0,s=a(this.state);i>0&&n>0;)e[o]=t[o++]^s[i],(i=i+1&63)||this.state[12]++,n--;for(;n>0;){if(s=a(this.state),n<64){for(var u=0;u<n;u++)e[o]=t[o++]^s[i++],i&=63;return}for(;i<64;)e[o]=t[o++]^s[i++];this.state[12]++,i=0,n-=64}},o.prototype.final=function(){this.state.fill(0),this.pos=0,this.finalized=!0}},1694:function(e,t){var n;!function(){"use strict";var r={}.hasOwnProperty;function i(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var o=typeof n;if("string"===o||"number"===o)e.push(n);else if(Array.isArray(n)){if(n.length){var a=i.apply(null,n);a&&e.push(a)}}else if("object"===o){if(n.toString!==Object.prototype.toString&&!n.toString.toString().includes("[native code]")){e.push(n.toString());continue}for(var s in n)r.call(n,s)&&n[s]&&e.push(s)}}}return e.join(" ")}e.exports?(i.default=i,e.exports=i):void 0===(n=function(){return i}.apply(t,[]))||(e.exports=n)}()},182:function(e,t,n){var r=n(2479),i=r.uint16,o=function(e,t){return{preencode:function(t,n){e.preencode(t,n.host),i.preencode(t,n.port)},encode:function(t,n){e.encode(t,n.host),i.encode(t,n.port)},decode:function(n){return{host:e.decode(n),family:t,port:i.decode(n)}}}},a={preencode:function(e){e.end+=4},encode:function(e,t){for(var n=e.start+4,r=0;r<t.length;){for(var i=0,o=void 0;r<t.length&&46!==(o=t.charCodeAt(r++));)i=10*i+(o-48);e.buffer[e.start++]=i}e.start=n},decode:function(e){if(e.end-e.start<4)throw new Error("Out of bounds");return e.buffer[e.start++]+"."+e.buffer[e.start++]+"."+e.buffer[e.start++]+"."+e.buffer[e.start++]}},s=o(a,4),u={preencode:function(e){e.end+=16},encode:function(e,t){for(var n=e.start+16,r=0,i=null;r<t.length;){for(var o=0,a=void 0;r<t.length&&58!==(a=t.charCodeAt(r++));)a>=48&&a<=57?o=16*o+(a-48):a>=65&&a<=70?o=16*o+(a-65+10):a>=97&&a<=102&&(o=16*o+(a-97+10));e.buffer[e.start++]=o>>>8,e.buffer[e.start++]=o,r<t.length&&58===t.charCodeAt(r)&&(r++,i=e.start)}if(null!==i){var s=n-e.start;e.buffer.copyWithin(i+s,i).fill(0,i,i+s)}e.start=n},decode:function(e){if(e.end-e.start<16)throw new Error("Out of bounds");return(256*e.buffer[e.start++]+e.buffer[e.start++]).toString(16)+":"+(256*e.buffer[e.start++]+e.buffer[e.start++]).toString(16)+":"+(256*e.buffer[e.start++]+e.buffer[e.start++]).toString(16)+":"+(256*e.buffer[e.start++]+e.buffer[e.start++]).toString(16)+":"+(256*e.buffer[e.start++]+e.buffer[e.start++]).toString(16)+":"+(256*e.buffer[e.start++]+e.buffer[e.start++]).toString(16)+":"+(256*e.buffer[e.start++]+e.buffer[e.start++]).toString(16)+":"+(256*e.buffer[e.start++]+e.buffer[e.start++]).toString(16)}},l=o(u,6),c={preencode:function(e,t){var n=t.includes(":")?6:4;r.uint8.preencode(e,n),4===n?a.preencode(e):u.preencode(e)},encode:function(e,t){var n=t.includes(":")?6:4;r.uint8.encode(e,n),4===n?a.encode(e,t):u.encode(e,t)},decode:function(e){return 4===r.uint8.decode(e)?a.decode(e):u.decode(e)}},h={preencode:function(e,t){c.preencode(e,t.host),i.preencode(e,t.port)},encode:function(e,t){c.encode(e,t.host),i.encode(e,t.port)},decode:function(e){var t=r.uint8.decode(e);return{host:4===t?a.decode(e):u.decode(e),family:t,port:i.decode(e)}}};e.exports={port:i,ipv4:a,ipv4Address:s,ipv6:u,ipv6Address:l,ip:c,ipAddress:h}},8453:function(e,t){var n=t.LE=255===new Uint8Array(new Uint16Array([255]).buffer)[0];t.BE=!n},2479:function(e,t,n){var r=n(2122).default,i=n(4587),o=n(8453).BE;t.state=function(){return{start:arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,end:arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,buffer:arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,cache:null}};var a=t.raw=n(7785),s=t.uint={preencode:function(e,t){e.end+=t<=252?1:t<=65535?3:t<=4294967295?5:9},encode:function(e,t){t<=252?u.encode(e,t):t<=65535?(e.buffer[e.start++]=253,l.encode(e,t)):t<=4294967295?(e.buffer[e.start++]=254,h.encode(e,t)):(e.buffer[e.start++]=255,g.encode(e,t))},decode:function(e){var t=u.decode(e);return t<=252?t:253===t?l.decode(e):254===t?h.decode(e):g.decode(e)}},u=t.uint8={preencode:function(e,t){e.end+=1},encode:function(e,t){e.buffer[e.start++]=t},decode:function(e){if(e.start>=e.end)throw new Error("Out of bounds");return e.buffer[e.start++]}},l=t.uint16={preencode:function(e,t){e.end+=2},encode:function(e,t){e.buffer[e.start++]=t,e.buffer[e.start++]=t>>>8},decode:function(e){if(e.end-e.start<2)throw new Error("Out of bounds");return e.buffer[e.start++]+256*e.buffer[e.start++]}},c=t.uint24={preencode:function(e,t){e.end+=3},encode:function(e,t){e.buffer[e.start++]=t,e.buffer[e.start++]=t>>>8,e.buffer[e.start++]=t>>>16},decode:function(e){if(e.end-e.start<3)throw new Error("Out of bounds");return e.buffer[e.start++]+256*e.buffer[e.start++]+65536*e.buffer[e.start++]}},h=t.uint32={preencode:function(e,t){e.end+=4},encode:function(e,t){e.buffer[e.start++]=t,e.buffer[e.start++]=t>>>8,e.buffer[e.start++]=t>>>16,e.buffer[e.start++]=t>>>24},decode:function(e){if(e.end-e.start<4)throw new Error("Out of bounds");return e.buffer[e.start++]+256*e.buffer[e.start++]+65536*e.buffer[e.start++]+16777216*e.buffer[e.start++]}},f=t.uint40={preencode:function(e,t){e.end+=5},encode:function(e,t){var n=Math.floor(t/256);u.encode(e,t),h.encode(e,n)},decode:function(e){if(e.end-e.start<5)throw new Error("Out of bounds");return u.decode(e)+256*h.decode(e)}},d=t.uint48={preencode:function(e,t){e.end+=6},encode:function(e,t){var n=Math.floor(t/65536);l.encode(e,t),h.encode(e,n)},decode:function(e){if(e.end-e.start<6)throw new Error("Out of bounds");return l.decode(e)+65536*h.decode(e)}},p=t.uint56={preencode:function(e,t){e.end+=7},encode:function(e,t){var n=Math.floor(t/16777216);c.encode(e,t),h.encode(e,n)},decode:function(e){if(e.end-e.start<7)throw new Error("Out of bounds");return c.decode(e)+16777216*h.decode(e)}},g=t.uint64={preencode:function(e,t){e.end+=8},encode:function(e,t){var n=Math.floor(t/4294967296);h.encode(e,t),h.encode(e,n)},decode:function(e){if(e.end-e.start<8)throw new Error("Out of bounds");return h.decode(e)+4294967296*h.decode(e)}};t.int=k(s),t.int8=k(u),t.int16=k(l),t.int24=k(c),t.int32=k(h),t.int40=k(f),t.int48=k(d),t.int56=k(p),t.int64=k(g),t.lexint=n(8344),t.float32={preencode:function(e,t){e.end+=4},encode:function(e,t){new DataView(e.buffer.buffer,e.start+e.buffer.byteOffset,4).setFloat32(0,t,!0),e.start+=4},decode:function(e){if(e.end-e.start<4)throw new Error("Out of bounds");var t=new DataView(e.buffer.buffer,e.start+e.buffer.byteOffset,4).getFloat32(0,!0);return e.start+=4,t}},t.float64={preencode:function(e,t){e.end+=8},encode:function(e,t){new DataView(e.buffer.buffer,e.start+e.buffer.byteOffset,8).setFloat64(0,t,!0),e.start+=8},decode:function(e){if(e.end-e.start<8)throw new Error("Out of bounds");var t=new DataView(e.buffer.buffer,e.start+e.buffer.byteOffset,8).getFloat64(0,!0);return e.start+=8,t}};var y=t.buffer={preencode:function(e,t){t?v.preencode(e,t):e.end++},encode:function(e,t){t?v.encode(e,t):e.buffer[e.start++]=0},decode:function(e){var t=s.decode(e);if(0===t)return null;if(e.end-e.start<t)throw new Error("Out of bounds");return e.buffer.subarray(e.start,e.start+=t)}};function A(e,t){var n=e.BYTES_PER_ELEMENT;return{preencode:function(e,t){s.preencode(e,t.length),e.end+=t.byteLength},encode:function(e,n){s.encode(e,n.length);var r=new Uint8Array(n.buffer,n.byteOffset,n.byteLength);o&&t&&t(r),e.buffer.set(r,e.start),e.start+=n.byteLength},decode:function(r){var i=s.decode(r),a=r.buffer.subarray(r.start,r.start+=i*n);if(a.byteLength!==i*n)throw new Error("Out of bounds");return a.byteOffset%n!==0&&(a=new Uint8Array(a)),o&&t&&t(a),new e(a.buffer,a.byteOffset,a.byteLength/n)}}}t.binary=r(r({},y),{},{preencode:function(e,t){"string"===typeof t?_.preencode(e,t):y.preencode(e,t)},encode:function(e,t){"string"===typeof t?_.encode(e,t):y.encode(e,t)}});var v=t.uint8array=A(Uint8Array);function b(e){return{preencode:function(t,n){var r=i.byteLength(n,e);s.preencode(t,r),t.end+=r},encode:function(t,n){var r=i.byteLength(n,e);s.encode(t,r),i.write(t.buffer,n,t.start,e),t.start+=r},decode:function(t){var n=s.decode(t);if(t.end-t.start<n)throw new Error("Out of bounds");return i.toString(t.buffer,e,t.start,t.start+=n)},fixed:function(t){return{preencode:function(e){e.end+=t},encode:function(n,r){i.write(n.buffer,r,n.start,t,e),n.start+=t},decode:function(n){if(n.end-n.start<t)throw new Error("Out of bounds");return i.toString(n.buffer,e,n.start,n.start+=t)}}}}}t.uint16array=A(Uint16Array,i.swap16),t.uint32array=A(Uint32Array,i.swap32),t.int8array=A(Int8Array),t.int16array=A(Int16Array,i.swap16),t.int32array=A(Int32Array,i.swap32),t.float32array=A(Float32Array,i.swap32),t.float64array=A(Float64Array,i.swap64);var _=t.string=t.utf8=b("utf-8");t.ascii=b("ascii"),t.hex=b("hex"),t.base64=b("base64"),t.ucs2=t.utf16le=b("utf16le"),t.bool={preencode:function(e,t){e.end++},encode:function(e,t){e.buffer[e.start++]=t?1:0},decode:function(e){if(e.start>=e.end)throw Error("Out of bounds");return 1===e.buffer[e.start++]}};var m=t.fixed=function(e){return{preencode:function(t,n){t.end+=e},encode:function(t,n){t.buffer.set(n,t.start),t.start+=e},decode:function(t){if(t.end-t.start<e)throw new Error("Out of bounds");return t.buffer.subarray(t.start,t.start+=e)}}};function k(e){return{preencode:function(t,n){e.preencode(t,I(n))},encode:function(t,n){e.encode(t,I(n))},decode:function(t){return 0===(n=e.decode(t))?n:0===(1&n)?n/2:-(n+1)/2;var n}}}function I(e){return e<0?2*-e-1:0===e?0:2*e}t.fixed32=m(32),t.fixed64=m(64),t.none={preencode:function(e,t){},encode:function(e,t){},decode:function(e){return null}},t.array=function(e){return{preencode:function(t,n){s.preencode(t,n.length);for(var r=0;r<n.length;r++)e.preencode(t,n[r])},encode:function(t,n){s.encode(t,n.length);for(var r=0;r<n.length;r++)e.encode(t,n[r])},decode:function(t){var n=s.decode(t);if(n>1048576)throw new Error("Array is too big");for(var r=new Array(n),i=0;i<n;i++)r[i]=e.decode(t);return r}}},t.json={preencode:function(e,t){_.preencode(e,JSON.stringify(t))},encode:function(e,t){_.encode(e,JSON.stringify(t))},decode:function(e){return JSON.parse(_.decode(e))}},t.ndjson={preencode:function(e,t){_.preencode(e,JSON.stringify(t)+"\n")},encode:function(e,t){_.encode(e,JSON.stringify(t)+"\n")},decode:function(e){return JSON.parse(_.decode(e))}},t.from=function(e){return"string"===typeof e?function(e){switch(e){case"ascii":return a.ascii;case"utf-8":case"utf8":return a.utf8;case"hex":return a.hex;case"base64":return a.base64;case"utf16-le":case"utf16le":case"ucs-2":case"ucs2":return a.ucs2;case"ndjson":return a.ndjson;case"json":return a.json;default:return a.binary}}(e):e.preencode?e:e.encodingLength?function(e){return{preencode:function(t,n){t.end+=e.encodingLength(n)},encode:function(t,n){e.encode(n,t.buffer,t.start),t.start+=e.encode.bytes},decode:function(t){var n=e.decode(t.buffer,t.start,t.end);return t.start+=e.decode.bytes,n}}}(e):function(e){var t=null,n=null;return{preencode:function(r,i){t=i,n=e.encode(i),r.end+=n.byteLength},encode:function(r,i){a.encode(r,i===t?n:e.encode(i)),t=n=null},decode:function(t){return e.decode(a.decode(t))}}}(e)},t.encode=function(e,n){var r=t.state();return e.preencode(r,n),r.buffer=i.allocUnsafe(r.end),e.encode(r,n),r.buffer},t.decode=function(e,n){return e.decode(t.state(0,n.byteLength,n))}},8344:function(e){e.exports={preencode:function e(t,n){if(n<251)t.end++;else if(n<256)t.end+=2;else if(n<65536)t.end+=3;else if(n<16777216)t.end+=4;else if(n<4294967296)t.end+=5;else{t.end++;var r=Math.floor(Math.log(n)/Math.log(2))-32;e(t,r),t.end+=6}},encode:function e(t,n){var r=251,i=n-r;if(n<r)t.buffer[t.start++]=n;else if(n<256)t.buffer[t.start++]=r,t.buffer[t.start++]=i;else if(n<65536)t.buffer[t.start++]=252,t.buffer[t.start++]=i>>8&255,t.buffer[t.start++]=255&i;else if(n<16777216)t.buffer[t.start++]=253,t.buffer[t.start++]=i>>16,t.buffer[t.start++]=i>>8&255,t.buffer[t.start++]=255&i;else if(n<4294967296)t.buffer[t.start++]=254,t.buffer[t.start++]=i>>24,t.buffer[t.start++]=i>>16&255,t.buffer[t.start++]=i>>8&255,t.buffer[t.start++]=255&i;else{var o=Math.floor(Math.log(i)/Math.log(2))-32;t.buffer[t.start++]=255,e(t,o);for(var a=i/Math.pow(2,o-11),s=5;s>=0;s--)t.buffer[t.start++]=a/Math.pow(2,8*s)&255}},decode:function e(t){var n=251;if(t.end-t.start<1)throw new Error("Out of bounds");var r=t.buffer[t.start++];if(r<n)return r;if(t.end-t.start<r-n+1)throw new Error("Out of bounds.");if(r<252)return t.buffer[t.start++]+n;if(r<253)return(t.buffer[t.start++]<<8)+t.buffer[t.start++]+n;if(r<254)return(t.buffer[t.start++]<<16)+(t.buffer[t.start++]<<8)+t.buffer[t.start++]+n;if(r<255)return 16777216*t.buffer[t.start++]+(t.buffer[t.start++]<<16)+(t.buffer[t.start++]<<8)+t.buffer[t.start++]+n;var i=e(t);if(t.end-t.start<6)throw new Error("Out of bounds");for(var o=0,a=5;a>=0;a--)o+=t.buffer[t.start++]*Math.pow(2,8*a);return o*Math.pow(2,i-11)+n}}},7785:function(e,t,n){var r=n(4704).default,i=n(2122).default,o=n(4587),a=n(8453).BE,s=(t=e.exports={preencode:function(e,t){e.end+=t.byteLength},encode:function(e,t){e.buffer.set(t,e.start),e.start+=t.byteLength},decode:function(e){var t=e.buffer.subarray(e.start,e.end);return e.start=e.end,t}}).buffer={preencode:function(e,t){t?l.preencode(e,t):e.end++},encode:function(e,t){t?l.encode(e,t):e.buffer[e.start++]=0},decode:function(e){var t=e.buffer.subarray(e.start);return 0===t.byteLength?null:(e.start=e.end,t)}};function u(e,t){var n=e.BYTES_PER_ELEMENT;return{preencode:function(e,t){e.end+=t.byteLength},encode:function(e,n){var r=new Uint8Array(n.buffer,n.byteOffset,n.byteLength);a&&t&&t(r),e.buffer.set(r,e.start),e.start+=n.byteLength},decode:function(r){var i=r.buffer.subarray(r.start);return i.byteOffset%n!==0&&(i=new Uint8Array(i)),a&&t&&t(i),r.start=r.end,new e(i.buffer,i.byteOffset,i.byteLength/n)}}}t.binary=i(i({},s),{},{preencode:function(e,t){"string"===typeof t?h.preencode(e,t):s.preencode(e,t)},encode:function(e,t){"string"===typeof t?h.encode(e,t):s.encode(e,t)}});var l=t.uint8array=u(Uint8Array);function c(e){return{preencode:function(t,n){t.end+=o.byteLength(n,e)},encode:function(t,n){t.start+=o.write(t.buffer,n,t.start,e)},decode:function(t){var n=o.toString(t.buffer,e,t.start);return t.start=t.end,n}}}t.uint16array=u(Uint16Array,o.swap16),t.uint32array=u(Uint32Array,o.swap32),t.int8array=u(Int8Array),t.int16array=u(Int16Array,o.swap16),t.int32array=u(Int32Array,o.swap32),t.float32array=u(Float32Array,o.swap32),t.float64array=u(Float64Array,o.swap64);var h=t.string=t.utf8=c("utf-8");t.ascii=c("ascii"),t.hex=c("hex"),t.base64=c("base64"),t.ucs2=t.utf16le=c("utf16le"),t.array=function(e){return{preencode:function(t,n){var i,o=r(n);try{for(o.s();!(i=o.n()).done;){var a=i.value;e.preencode(t,a)}}catch(s){o.e(s)}finally{o.f()}},encode:function(t,n){var i,o=r(n);try{for(o.s();!(i=o.n()).done;){var a=i.value;e.encode(t,a)}}catch(s){o.e(s)}finally{o.f()}},decode:function(t){for(var n=[];t.start<t.end;)n.push(e.decode(t));return n}}},t.json={preencode:function(e,t){h.preencode(e,JSON.stringify(t))},encode:function(e,t){h.encode(e,JSON.stringify(t))},decode:function(e){return JSON.parse(h.decode(e))}},t.ndjson={preencode:function(e,t){h.preencode(e,JSON.stringify(t)+"\n")},encode:function(e,t){h.encode(e,JSON.stringify(t)+"\n")},decode:function(e){return JSON.parse(h.decode(e))}}},5680:function(e,t,n){var r=n(3650);t.crc32=function(e){for(var t=-1,n=0,i=e.byteLength;i>=16;)t=r[15][e[n++]^255&t]^r[14][e[n++]^t>>>8&255]^r[13][e[n++]^t>>>16&255]^r[12][e[n++]^t>>>24]^r[11][e[n++]]^r[10][e[n++]]^r[9][e[n++]]^r[8][e[n++]]^r[7][e[n++]]^r[6][e[n++]]^r[5][e[n++]]^r[4][e[n++]]^r[3][e[n++]]^r[2][e[n++]]^r[1][e[n++]]^r[0][e[n++]],i-=16;for(;i-- >0;)t=t>>>8^r[0][255&t^e[n++]];return~t>>>0}},3650:function(e){for(var t=new Array(16),n=0;n<16;n++)t[n]=new Uint32Array(256);for(var r=0;r<=255;r++){for(var i=r,o=0;o<8;o++)i=i>>>1^3988292384*(1&i);t[0][r]=i}for(var a=0;a<=255;a++)for(var s=1;s<16;s++)t[s][a]=t[s-1][a]>>>8^t[0][255&t[s-1][a]];e.exports=t},7465:function(e){"use strict";var t,n="object"===typeof Reflect?Reflect:null,r=n&&"function"===typeof n.apply?n.apply:function(e,t,n){return Function.prototype.apply.call(e,t,n)};t=n&&"function"===typeof n.ownKeys?n.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var i=Number.isNaN||function(e){return e!==e};function o(){o.init.call(this)}e.exports=o,e.exports.once=function(e,t){return new Promise((function(n,r){function i(n){e.removeListener(t,o),r(n)}function o(){"function"===typeof e.removeListener&&e.removeListener("error",i),n([].slice.call(arguments))}g(e,t,o,{once:!0}),"error"!==t&&function(e,t,n){"function"===typeof e.on&&g(e,"error",t,n)}(e,i,{once:!0})}))},o.EventEmitter=o,o.prototype._events=void 0,o.prototype._eventsCount=0,o.prototype._maxListeners=void 0;var a=10;function s(e){if("function"!==typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function u(e){return void 0===e._maxListeners?o.defaultMaxListeners:e._maxListeners}function l(e,t,n,r){var i,o,a,l;if(s(n),void 0===(o=e._events)?(o=e._events=Object.create(null),e._eventsCount=0):(void 0!==o.newListener&&(e.emit("newListener",t,n.listener?n.listener:n),o=e._events),a=o[t]),void 0===a)a=o[t]=n,++e._eventsCount;else if("function"===typeof a?a=o[t]=r?[n,a]:[a,n]:r?a.unshift(n):a.push(n),(i=u(e))>0&&a.length>i&&!a.warned){a.warned=!0;var c=new Error("Possible EventEmitter memory leak detected. "+a.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");c.name="MaxListenersExceededWarning",c.emitter=e,c.type=t,c.count=a.length,l=c,console&&console.warn&&console.warn(l)}return e}function c(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function h(e,t,n){var r={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},i=c.bind(r);return i.listener=n,r.wrapFn=i,i}function f(e,t,n){var r=e._events;if(void 0===r)return[];var i=r[t];return void 0===i?[]:"function"===typeof i?n?[i.listener||i]:[i]:n?function(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}(i):p(i,i.length)}function d(e){var t=this._events;if(void 0!==t){var n=t[e];if("function"===typeof n)return 1;if(void 0!==n)return n.length}return 0}function p(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e[r];return n}function g(e,t,n,r){if("function"===typeof e.on)r.once?e.once(t,n):e.on(t,n);else{if("function"!==typeof e.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e);e.addEventListener(t,(function i(o){r.once&&e.removeEventListener(t,i),n(o)}))}}Object.defineProperty(o,"defaultMaxListeners",{enumerable:!0,get:function(){return a},set:function(e){if("number"!==typeof e||e<0||i(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");a=e}}),o.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},o.prototype.setMaxListeners=function(e){if("number"!==typeof e||e<0||i(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},o.prototype.getMaxListeners=function(){return u(this)},o.prototype.emit=function(e){for(var t=[],n=1;n<arguments.length;n++)t.push(arguments[n]);var i="error"===e,o=this._events;if(void 0!==o)i=i&&void 0===o.error;else if(!i)return!1;if(i){var a;if(t.length>0&&(a=t[0]),a instanceof Error)throw a;var s=new Error("Unhandled error."+(a?" ("+a.message+")":""));throw s.context=a,s}var u=o[e];if(void 0===u)return!1;if("function"===typeof u)r(u,this,t);else{var l=u.length,c=p(u,l);for(n=0;n<l;++n)r(c[n],this,t)}return!0},o.prototype.addListener=function(e,t){return l(this,e,t,!1)},o.prototype.on=o.prototype.addListener,o.prototype.prependListener=function(e,t){return l(this,e,t,!0)},o.prototype.once=function(e,t){return s(t),this.on(e,h(this,e,t)),this},o.prototype.prependOnceListener=function(e,t){return s(t),this.prependListener(e,h(this,e,t)),this},o.prototype.removeListener=function(e,t){var n,r,i,o,a;if(s(t),void 0===(r=this._events))return this;if(void 0===(n=r[e]))return this;if(n===t||n.listener===t)0===--this._eventsCount?this._events=Object.create(null):(delete r[e],r.removeListener&&this.emit("removeListener",e,n.listener||t));else if("function"!==typeof n){for(i=-1,o=n.length-1;o>=0;o--)if(n[o]===t||n[o].listener===t){a=n[o].listener,i=o;break}if(i<0)return this;0===i?n.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(n,i),1===n.length&&(r[e]=n[0]),void 0!==r.removeListener&&this.emit("removeListener",e,a||t)}return this},o.prototype.off=o.prototype.removeListener,o.prototype.removeAllListeners=function(e){var t,n,r;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[e]&&(0===--this._eventsCount?this._events=Object.create(null):delete n[e]),this;if(0===arguments.length){var i,o=Object.keys(n);for(r=0;r<o.length;++r)"removeListener"!==(i=o[r])&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"===typeof(t=n[e]))this.removeListener(e,t);else if(void 0!==t)for(r=t.length-1;r>=0;r--)this.removeListener(e,t[r]);return this},o.prototype.listeners=function(e){return f(this,e,!0)},o.prototype.rawListeners=function(e){return f(this,e,!1)},o.listenerCount=function(e,t){return"function"===typeof e.listenerCount?e.listenerCount(t):d.call(e,t)},o.prototype.listenerCount=d,o.prototype.eventNames=function(){return this._eventsCount>0?t(this._events):[]}},1167:function(e,t,n){var r=n(6690).default,i=n(9728).default;e.exports=function(){"use strict";function e(t){if(r(this,e),!(t>0)||0!==(t-1&t))throw new Error("Max size for a FixedFIFO should be a power of two");this.buffer=new Array(t),this.mask=t-1,this.top=0,this.btm=0,this.next=null}return i(e,[{key:"push",value:function(e){return void 0===this.buffer[this.top]&&(this.buffer[this.top]=e,this.top=this.top+1&this.mask,!0)}},{key:"shift",value:function(){var e=this.buffer[this.btm];if(void 0!==e)return this.buffer[this.btm]=void 0,this.btm=this.btm+1&this.mask,e}},{key:"peek",value:function(){return this.buffer[this.btm]}},{key:"isEmpty",value:function(){return void 0===this.buffer[this.btm]}}]),e}()},5125:function(e,t,n){var r=n(6690).default,i=n(9728).default,o=n(1167);e.exports=function(){"use strict";function e(t){r(this,e),this.hwm=t||16,this.head=new o(this.hwm),this.tail=this.head}return i(e,[{key:"push",value:function(e){if(!this.head.push(e)){var t=this.head;this.head=t.next=new o(2*this.head.buffer.length),this.head.push(e)}}},{key:"shift",value:function(){var e=this.tail.shift();if(void 0===e&&this.tail.next){var t=this.tail.next;return this.tail.next=null,this.tail=t,this.tail.shift()}return e}},{key:"peek",value:function(){return this.tail.peek()}},{key:"isEmpty",value:function(){return this.head.isEmpty()}}]),e}()},3141:function(e,t){function n(e){return e<31?1<<e:(1<<30)*(1<<e-30)}function r(e){return(e-(1&e))/2}function i(){this.index=0,this.offset=0,this.factor=0}t.fullRoots=function(e,t){if(1&e)throw new Error("You can only look up roots for depth(0) blocks");t||(t=[]),e/=2;for(var n=0,r=1;;){if(!e)return t;for(;2*r<=e;)r*=2;t.push(n+r-1),n+=2*r,e-=r,r=1}},t.depth=function(e){var t=0;for(e+=1;!(1&e);)t++,e=r(e);return t},t.sibling=function(e,n){n||(n=t.depth(e));var r=t.offset(e,n);return t.index(n,1&r?r-1:r+1)},t.parent=function(e,n){n||(n=t.depth(e));var i=t.offset(e,n);return t.index(n+1,r(i))},t.leftChild=function(e,n){return 1&e?(n||(n=t.depth(e)),t.index(n-1,2*t.offset(e,n))):-1},t.rightChild=function(e,n){return 1&e?(n||(n=t.depth(e)),t.index(n-1,1+2*t.offset(e,n))):-1},t.children=function(e,n){if(!(1&e))return null;n||(n=t.depth(e));var r=2*t.offset(e,n);return[t.index(n-1,r),t.index(n-1,r+1)]},t.leftSpan=function(e,r){return 1&e?(r||(r=t.depth(e)),t.offset(e,r)*n(r+1)):e},t.rightSpan=function(e,r){return 1&e?(r||(r=t.depth(e)),(t.offset(e,r)+1)*n(r+1)-2):e},t.count=function(e,r){return 1&e?(r||(r=t.depth(e)),n(r+1)-1):1},t.countLeaves=function(e){return(t.count(e)+1)/2},t.spans=function(e,r){if(!(1&e))return[e,e];r||(r=t.depth(e));var i=t.offset(e,r),o=n(r+1);return[i*o,(i+1)*o-2]},t.index=function(e,t){return(1+2*t)*n(e)-1},t.offset=function(e,r){return 1&e?(r||(r=t.depth(e)),((e+1)/n(r)-1)/2):e/2},t.iterator=function(e){var t=new i;return t.seek(e||0),t},i.prototype.seek=function(e){this.index=e,1&this.index?(this.offset=t.offset(e),this.factor=n(t.depth(e)+1)):(this.offset=e/2,this.factor=2)},i.prototype.isLeft=function(){return 0===(1&this.offset)},i.prototype.isRight=function(){return 1===(1&this.offset)},i.prototype.contains=function(e){return e>this.index?e<this.index+this.factor/2:!(e<this.index)||e>this.index-this.factor/2},i.prototype.prev=function(){return this.offset?(this.offset--,this.index-=this.factor,this.index):this.index},i.prototype.next=function(){return this.offset++,this.index+=this.factor,this.index},i.prototype.count=function(){return 1&this.index?this.factor-1:1},i.prototype.countLeaves=function(){return(this.count()+1)/2},i.prototype.sibling=function(){return this.isLeft()?this.next():this.prev()},i.prototype.parent=function(){return 1&this.offset?(this.index-=this.factor/2,this.offset=(this.offset-1)/2):(this.index+=this.factor/2,this.offset/=2),this.factor*=2,this.index},i.prototype.leftSpan=function(){return this.index=this.index-this.factor/2+1,this.offset=this.index/2,this.factor=2,this.index},i.prototype.rightSpan=function(){return this.index=this.index+this.factor/2-1,this.offset=this.index/2,this.factor=2,this.index},i.prototype.leftChild=function(){return 2===this.factor||(this.factor/=2,this.index-=this.factor/2,this.offset*=2),this.index},i.prototype.rightChild=function(){return 2===this.factor||(this.factor/=2,this.index+=this.factor/2,this.offset=2*this.offset+1),this.index},i.prototype.nextTree=function(){return this.index=this.index+this.factor/2+1,this.offset=this.index/2,this.factor=2,this.index},i.prototype.prevTree=function(){return this.offset?(this.index=this.index-this.factor/2-1,this.offset=this.index/2,this.factor=2):(this.index=0,this.factor=2),this.index},i.prototype.fullRoot=function(e){if(e<=this.index||(1&this.index)>0)return!1;for(;e>this.index+this.factor+this.factor/2;)this.index+=this.factor/2,this.factor*=2,this.offset/=2;return!0}},5852:function(e,t,n){var r=n(2635),i=n(2479),o=n(4587),a=o.from([0]),s=o.from([1]),u=o.from([2]),l=o.from("hypercore");t.keyPair=function(e){var t=o.allocUnsafe(r.crypto_sign_PUBLICKEYBYTES),n=o.allocUnsafe(r.crypto_sign_SECRETKEYBYTES);return e?r.crypto_sign_seed_keypair(t,n,e):r.crypto_sign_keypair(t,n),{publicKey:t,secretKey:n}},t.validateKeyPair=function(e){var t=o.allocUnsafe(r.crypto_sign_PUBLICKEYBYTES);return r.crypto_sign_ed25519_sk_to_pk(t,e.secretKey),o.equals(t,e.publicKey)},t.sign=function(e,t){var n=o.allocUnsafe(r.crypto_sign_BYTES);return r.crypto_sign_detached(n,e,t),n},t.verify=function(e,t,n){return r.crypto_sign_verify_detached(t,e,n)},t.data=function(e){var t=o.allocUnsafe(32);return r.crypto_generichash_batch(t,[a,i.encode(i.uint64,e.byteLength),e]),t},t.parent=function(e,t){if(e.index>t.index){var n=e;e=t,t=n}var a=o.allocUnsafe(32);return r.crypto_generichash_batch(a,[s,i.encode(i.uint64,e.size+t.size),e.hash,t.hash]),a},t.tree=function(e,t){var n=new Array(3*e.length+1),a=0;n[a++]=u;for(var s=0;s<e.length;s++){var l=e[s];n[a++]=l.hash,n[a++]=i.encode(i.uint64,l.index),n[a++]=i.encode(i.uint64,l.size)}return t||(t=o.allocUnsafe(32)),r.crypto_generichash_batch(t,n),t},t.randomBytes=function(e){var t=o.allocUnsafe(e);return r.randombytes_buf(t),t},t.discoveryKey=function(e){var t=o.allocUnsafe(32);return r.crypto_generichash(t,l,e),t},r.sodium_free?t.free=function(e){e.secure&&r.sodium_free(e)}:t.free=function(){},t.namespace=function(e,t){var n="number"===typeof t?function(e){for(var t=new Array(e),n=0;n<e;n++)t[n]=n;return t}(t):t,i=o.allocUnsafe(32*n.length),a=new Array(n.length),s=o.allocUnsafe(33);r.crypto_generichash(s.subarray(0,32),"string"===typeof e?o.from(e):e);for(var u=0;u<a.length;u++)a[u]=i.subarray(32*u,32*u+32),s[32]=n[u],r.crypto_generichash(a[u],s);return a}},1046:function(e,t,n){var r=n(7424).default,i=n(7061).default,o=n(4704).default,a=n(7156).default,s=n(2122).default,u=n(6690).default,l=n(9728).default,c=n(6115).default,h=n(1655).default,f=n(6389).default,d=n(7465).EventEmitter,p=n(3629),g=n(1185),y=n(5852),A=n(2479),v=n(4587),b=n(7579),_=n(7463),m=n(3661),k=n(7254),I=n(1584),w=n(7095),E=n(4190),x=n(8590),C=n(1663),S=n(1597),B=S.ReadStream,Q=S.WriteStream,L=n(5730),D=L.BAD_ARGUMENT,M=L.SESSION_CLOSED,P=L.SESSION_NOT_WRITABLE,U=L.SNAPSHOT_NOT_AVAILABLE,N=Symbol.for("hypercore.promises"),T=Symbol.for("nodejs.util.inspect.custom");function O(){}function K(e){return e&&v.toString(e,"hex")}function R(e){for(var t=this.core.tree.length,n=this.core.tree.fork,r=0;r<e.length;r++)this.encryption.encrypt(t+r,e[r],n)}function F(e,t){t.encryptionKey&&(e.encryption&&v.equals(e.encryption.key,t.encryptionKey)||(e.encryption=new E(t.encryptionKey,e.key)))}e.exports=function(e){"use strict";h(n,e);var t=f(n);function n(e,r,i){var o;if(u(this,n),o=t.call(this),g(e)?(i=e,e=null,r=null):g(r)&&(i=r,r=null),r&&"string"===typeof r&&(r=v.from(r,"hex")),i||(i={}),!i.crypto&&r&&32!==r.byteLength)throw D("Hypercore key should be 32 bytes");return e||(e=i.storage),o[N]=!0,o.storage=null,o.crypto=i.crypto||y,o.core=null,o.replicator=null,o.encryption=null,o.extensions=new Map,o.cache=!0===i.cache?new b({maxSize:65536,maxAge:0}):i.cache||null,o.valueEncoding=null,o.encodeBatch=null,o.activeRequests=[],o.id=null,o.key=r||null,o.keyPair=null,o.readable=!0,o.writable=!1,o.opened=!1,o.closed=!1,o.snapshotted=!!i.snapshot,o.sparse=!1!==i.sparse,o.sessions=i._sessions||[c(o)],o.auth=i.auth||null,o.autoClose=!!i.autoClose,o.onwait=i.onwait||null,o.wait=!1!==i.wait,o.timeout=i.timeout||0,o.closing=null,o.opening=o._openSession(r,e,i),o.opening.catch(O),o._preappend=R.bind(c(o)),o._snapshot=null,o._findingPeers=0,o}return l(n,[{key:T,value:function(e,t){var n="";if("number"===typeof t.indentationLvl)for(;n.length<t.indentationLvl;)n+=" ";for(var r="",i=Math.min(this.peers.length,5),o=0;o<i;o++){var a=this.peers[o];r+=n+"    Peer(\n",r+=n+"      remotePublicKey: "+t.stylize(K(a.remotePublicKey),"string")+"\n",r+=n+"      remoteLength: "+t.stylize(a.remoteLength,"number")+"\n",r+=n+"      remoteFork: "+t.stylize(a.remoteFork,"number")+"\n",r+=n+"      remoteCanUpgrade: "+t.stylize(a.remoteCanUpgrade,"boolean")+"\n",r+=n+"    )\n"}return this.peers.length>5&&(r+=n+"  ... and "+(this.peers.length-5)+" more\n"),r=r?"[\n"+r+n+"  ]":"[ "+t.stylize(0,"number")+" ]",this.constructor.name+"(\n"+n+"  key: "+t.stylize(K(this.key),"string")+"\n"+n+"  discoveryKey: "+t.stylize(K(this.discoveryKey),"string")+"\n"+n+"  opened: "+t.stylize(this.opened,"boolean")+"\n"+n+"  closed: "+t.stylize(this.closed,"boolean")+"\n"+n+"  snapshotted: "+t.stylize(this.snapshotted,"boolean")+"\n"+n+"  sparse: "+t.stylize(this.sparse,"boolean")+"\n"+n+"  writable: "+t.stylize(this.writable,"boolean")+"\n"+n+"  length: "+t.stylize(this.length,"number")+"\n"+n+"  fork: "+t.stylize(this.fork,"number")+"\n"+n+"  sessions: [ "+t.stylize(this.sessions.length,"number")+" ]\n"+n+"  activeRequests: [ "+t.stylize(this.activeRequests.length,"number")+" ]\n"+n+"  peers: "+r+"\n"+n+")"}},{key:"snapshot",value:function(e){return this.session(s(s({},e),{},{snapshot:!0}))}},{key:"session",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this.closing)throw M("Cannot make sessions on a closing core");var t=!1!==e.sparse&&this.sparse,r=!1!==e.wait&&this.wait,i=void 0===e.onwait?this.onwait:e.onwait,o=void 0===e.timeout?this.timeout:e.timeout,a=new(e.class||n)(this.storage,this.key,s(s({},e),{},{sparse:t,wait:r,onwait:i,timeout:o,_opening:this.opening,_sessions:this.sessions}));return a._passCapabilities(this),!1!==e.cache&&(a.cache=!0!==e.cache&&e.cache?e.cache:this.cache),F(a,e),this.sessions.push(a),a}},{key:"_passCapabilities",value:function(e){this.auth||(this.auth=e.auth),this.crypto=e.crypto,this.id=e.id,this.key=e.key,this.core=e.core,this.replicator=e.replicator,this.encryption=e.encryption,this.writable=!(!this.auth||!this.auth.sign),this.autoClose=e.autoClose,this.snapshotted&&this.core&&!this._snapshot&&this._updateSnapshot()}},{key:"_openFromExisting",value:function(){var e=a(i().mark((function e(t,n){var r,a,s,u;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.opening;case 2:r=this.sessions,a=o(r);try{for(a.s();!(s=a.n()).done;)(u=s.value).sessions=t.sessions,u.sessions.push(u),u._passCapabilities(t)}catch(i){a.e(i)}finally{a.f()}this.storage=t.storage,this.replicator.findingPeers+=this._findingPeers,F(this,n);case 8:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_openSession",value:function(){var e=a(i().mark((function e(t,n,r){var o,a,u,l;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=!r._opening){e.next=4;break}return e.next=4,r._opening;case 4:if(!r.preload){e.next=11;break}return e.t0=s,e.t1=s({},r),e.next=9,r.preload();case 9:e.t2=e.sent,r=(0,e.t0)(e.t1,e.t2);case 11:if(a=t&&r.keyPair?s(s({},r.keyPair),{},{publicKey:t}):t?{publicKey:t,secretKey:null}:r.keyPair,this.key&&a&&(a.publicKey=this.key),r.auth?this.auth=r.auth:r.sign?this.auth=w.createAuth(this.crypto,a,r):a&&a.secretKey&&(this.auth=w.createAuth(this.crypto,a)),!o){e.next=18;break}return e.next=17,this._openCapabilities(a,n,r);case 17:for(u=0;u<this.sessions.length;u++)(l=this.sessions[u])!==this&&l._passCapabilities(this);case 18:if(this.auth||(this.auth=this.core.defaultAuth),this.writable=!!this.auth.sign,r.valueEncoding&&(this.valueEncoding=A.from(r.valueEncoding)),r.encodeBatch&&(this.encodeBatch=r.encodeBatch),this.sparse||this.download({start:0,end:-1}),!r._preready){e.next=26;break}return e.next=26,r._preready(this);case 26:this.opened=!0,this.emit("ready");case 28:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"_openCapabilities",value:function(){var e=a(i().mark((function e(t,o,a){var s,u,l,c,h;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!a.from){e.next=2;break}return e.abrupt("return",this._openFromExisting(a.from,a));case 2:return this.storage=n.defaultStorage(a.storage||o),e.next=5,w.open(this.storage,{force:a.force,createIfMissing:a.createIfMissing,overwrite:a.overwrite,keyPair:t,crypto:this.crypto,legacy:a.legacy,auth:a.auth,onupdate:this._oncoreupdate.bind(this),onconflict:this._oncoreconflict.bind(this)});case 5:if(this.core=e.sent,!a.userData){e.next=15;break}s=0,u=Object.entries(a.userData);case 8:if(!(s<u.length)){e.next=15;break}return l=r(u[s],2),c=l[0],h=l[1],e.next=12,this.core.userData(c,h);case 12:s++,e.next=8;break;case 15:this.key=this.core.header.signer.publicKey,this.keyPair=this.core.header.signer,this.id=k.encode(this.key),this.replicator=new I(this.core,this.key,{eagerUpdate:!0,allowFork:!1!==a.allowFork,onpeerupdate:this._onpeerupdate.bind(this),onupload:this._onupload.bind(this)}),this.replicator.findingPeers+=this._findingPeers,!this.encryption&&a.encryptionKey&&(this.encryption=new E(a.encryptionKey,this.key));case 21:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"_getSnapshot",value:function(){return this.sparse?{length:this.core.tree.length,byteLength:this.core.tree.byteLength,fork:this.core.tree.fork,compatLength:this.core.tree.length}:{length:this.core.header.contiguousLength,byteLength:0,fork:this.core.tree.fork,compatLength:this.core.header.contiguousLength}}},{key:"_updateSnapshot",value:function(){var e=this._snapshot,t=this._snapshot=this._getSnapshot();return!e||(e.length!==t.length||e.fork!==t.fork)}},{key:"close",value:function(e){return this.closing||(this.closing=this._close(e||null)),this.closing}},{key:"_close",value:function(){var e=a(i().mark((function e(t){var n,r,a,s,u,l,c;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!1!==this.opened){e.next=3;break}return e.next=3,this.opening;case 3:if(-1!==(n=this.sessions.indexOf(this))){e.next=6;break}return e.abrupt("return");case 6:this.sessions.splice(n,1),this.readable=!1,this.writable=!1,this.closed=!0,this.opened=!1,r=[],a=o(this.extensions.values());try{for(a.s();!(s=a.n()).done;)(u=s.value).session===this&&r.push(u)}catch(t){a.e(t)}finally{a.f()}for(l=0,c=r;l<c.length;l++)c[l].destroy();if(null!==this.replicator&&(this.replicator.findingPeers-=this._findingPeers,this.replicator.clearRequests(this.activeRequests,t)),this._findingPeers=0,!this.sessions.length){e.next=23;break}if(1!==this.sessions.length||!this.autoClose){e.next=21;break}return e.next=21,this.sessions[0].close(t);case 21:return this.emit("close",!1),e.abrupt("return");case 23:return null!==this.replicator&&this.replicator.destroy(),e.next=26,this.core.close();case 26:this.emit("close",!0);case 27:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"replicate",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(m.isProtomux(e))return this._attachToMuxer(e,t);var r=n.createProtocolStream(e,t),i=r.noiseStream.userData,o=!!t.session;return this._attachToMuxer(i,o),r}},{key:"_attachToMuxer",value:function(e,t){return this.opened?this._attachToMuxerOpened(e,t):this.opening.then(this._attachToMuxerOpened.bind(this,e,t),e.destroy.bind(e)),e}},{key:"_attachToMuxerOpened",value:function(e,t){var n=t?this.session():null;this.replicator.attachTo(e,n)}},{key:"discoveryKey",get:function(){return null===this.replicator?null:this.replicator.discoveryKey}},{key:"length",get:function(){return this._snapshot?this._snapshot.length:null===this.core?0:this.sparse?this.core.tree.length:this.contiguousLength}},{key:"indexedLength",get:function(){return this.length}},{key:"byteLength",get:function(){return this._snapshot?this._snapshot.byteLength:null===this.core?0:this.sparse?this.core.tree.byteLength-this.core.tree.length*this.padding:this.contiguousByteLength}},{key:"contiguousLength",get:function(){return null===this.core?0:this.core.header.contiguousLength}},{key:"contiguousByteLength",get:function(){return 0}},{key:"fork",get:function(){return null===this.core?0:this.core.tree.fork}},{key:"peers",get:function(){return null===this.replicator?[]:this.replicator.peers}},{key:"encryptionKey",get:function(){return this.encryption&&this.encryption.key}},{key:"padding",get:function(){return null===this.encryption?0:this.encryption.padding}},{key:"ready",value:function(){return this.opening}},{key:"_onupload",value:function(e,t,n){for(var r=t.byteLength-this.padding,i=0;i<this.sessions.length;i++)this.sessions[i].emit("upload",e,r,n)}},{key:"_oncoreconflict",value:function(){var e=a(i().mark((function e(t,n){var r,a,s,u,l,c,h;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.replicator.onconflict(n);case 2:r=o(this.sessions);try{for(r.s();!(a=r.n()).done;)a.value.emit("conflict",t.upgrade.length,t.fork,t)}catch(s){r.e(s)}finally{r.f()}s=new Error("Two conflicting signatures exist for length "+t.upgrade.length),u=[],l=o(this.sessions);try{for(l.s();!(c=l.n()).done;)h=c.value,u.push(h.close(s))}catch(s){l.e(s)}finally{l.f()}return e.next=10,Promise.allSettled(u);case 10:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_oncoreupdate",value:function(e,t,n,r){if(0!==e){var i=0!==(8&e),a=0!==(4&e),s=0!==(2&e),u=0!==(1&e);s&&this.replicator.ontruncate(t.start),0!==(3&e)&&this.replicator.onupgrade();for(var l=0;l<this.sessions.length;l++){var c=this.sessions[l];s&&(c.cache&&c.cache.clear(),c._snapshot&&t.start<c._snapshot.compatLength&&(c._snapshot.compatLength=t.start)),(c.sparse?s:i)&&c.emit("truncate",t.start,this.core.tree.fork),(c.sparse?u:a)&&c.emit("append")}var h=this.core.header.contiguousLength;if(a&&h===this.core.tree.length){var f,d=o(this.peers);try{for(d.s();!(f=d.n()).done;){var p=f.value;p.broadcastedNonSparse||(p.broadcastRange(0,h),p.broadcastedNonSparse=!0)}}catch(A){d.e(A)}finally{d.f()}}}if(t&&this.replicator.onhave(t.start,t.length,t.drop),n)for(var g=n.byteLength-this.padding,y=0;y<this.sessions.length;y++)this.sessions[y].emit("download",t.start,g,r)}},{key:"_onpeerupdate",value:function(e,t){for(var n=e?"peer-add":"peer-remove",r=0;r<this.sessions.length;r++)if(this.sessions[r].emit(n,t),e){var i,a=o(this.sessions[r].extensions.values());try{for(a.s();!(i=a.n()).done;){var s=i.value;t.extensions.set(s.name,s)}}catch(u){a.e(u)}finally{a.f()}}}},{key:"setUserData",value:function(){var e=a(i().mark((function e(t,n){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!1!==this.opened){e.next=3;break}return e.next=3,this.opening;case 3:return e.abrupt("return",this.core.userData(t,n));case 4:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getUserData",value:function(){var e=a(i().mark((function e(t){var n,r,a,s,u;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!1!==this.opened){e.next=3;break}return e.next=3,this.opening;case 3:n=o(this.core.header.userData),e.prev=4,n.s();case 6:if((r=n.n()).done){e.next=12;break}if(a=r.value,s=a.key,u=a.value,t!==s){e.next=10;break}return e.abrupt("return",u);case 10:e.next=6;break;case 12:e.next=17;break;case 14:e.prev=14,e.t0=e.catch(4),n.e(e.t0);case 17:return e.prev=17,n.f(),e.finish(17);case 20:return e.abrupt("return",null);case 21:case"end":return e.stop()}}),e,this,[[4,14,17,20]])})));return function(t){return e.apply(this,arguments)}}()},{key:"findingPeers",value:function(){var e=this;this._findingPeers++,null===this.replicator||this.closing||this.replicator.findingPeers++;var t=!0;return function(){!e.closing&&t&&(t=!1,e._findingPeers--,null!==e.replicator&&0===--e.replicator.findingPeers&&e.replicator.updateAll())}}},{key:"info",value:function(){var e=a(i().mark((function e(t){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!1!==this.opened){e.next=3;break}return e.next=3,this.opening;case 3:return e.abrupt("return",x.from(this,t));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"update",value:function(){var e=a(i().mark((function e(t){var n,r,o,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!1!==this.opened){e.next=3;break}return e.next=3,this.opening;case 3:if(null===this.closing){e.next=5;break}return e.abrupt("return",!1);case 5:if(!this.writable||t&&!0===t.force){e.next=9;break}if(this.snapshotted){e.next=8;break}return e.abrupt("return",!1);case 8:return e.abrupt("return",this._updateSnapshot());case 9:return n=this._shouldWait(t,this.replicator.findingPeers>0),r=!1,e.next=13,this.replicator.applyPendingReorg();case 13:if(!e.sent){e.next=15;break}r=!0;case 15:if(r||!n){e.next=21;break}return o=t&&t.activeRequests||this.activeRequests,a=this.replicator.addUpgrade(o),e.next=20,a.promise;case 20:r=e.sent;case 21:if(r){e.next=23;break}return e.abrupt("return",!1);case 23:if(!this.snapshotted){e.next=25;break}return e.abrupt("return",this._updateSnapshot());case 25:return e.abrupt("return",!0);case 26:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"seek",value:function(){var e=a(i().mark((function e(t,n){var r,o,a,s,u;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!1!==this.opened){e.next=3;break}return e.next=3,this.opening;case 3:return r=this.core.tree.seek(t,this.padding),e.next=6,r.update();case 6:if(!(o=e.sent)){e.next=9;break}return e.abrupt("return",o);case 9:if(null===this.closing){e.next=11;break}throw M();case 11:if(this._shouldWait(n,this.wait)){e.next=13;break}return e.abrupt("return",null);case 13:return a=n&&n.activeRequests||this.activeRequests,s=this.replicator.addSeek(a,r),(u=n&&void 0!==n.timeout?n.timeout:this.timeout)&&s.context.setTimeout(s,u),e.abrupt("return",s.promise);case 18:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"has",value:function(){var e=a(i().mark((function e(t){var n,r,o,a=arguments;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=a.length>1&&void 0!==a[1]?a[1]:t+1,!1!==this.opened){e.next=4;break}return e.next=4,this.opening;case 4:if(!((r=n-t)<=0)){e.next=7;break}return e.abrupt("return",!1);case 7:if(1!==r){e.next=9;break}return e.abrupt("return",this.core.bitfield.get(t));case 9:return o=this.core.bitfield.firstUnset(t),e.abrupt("return",-1===o||o>=n);case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"get",value:function(){var e=a(i().mark((function e(t,n){var r,o,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!1!==this.opened){e.next=3;break}return e.next=3,this.opening;case 3:if(null===this.closing){e.next=5;break}throw M();case 5:if(!(null!==this._snapshot&&t>=this._snapshot.compatLength)){e.next=7;break}throw U();case 7:return r=n&&n.valueEncoding&&A.from(n.valueEncoding)||this.valueEncoding,(o=this.cache&&this.cache.get(t))||(o=this._get(t,n)),e.next=12,o;case 12:if(a=e.sent){e.next=15;break}return e.abrupt("return",null);case 15:return!this.encryption||n&&!1===n.decrypt||(a=v.from(a),this.encryption.decrypt(t,a)),e.abrupt("return",this._decode(r,a));case 17:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"clear",value:function(){var e=a(i().mark((function e(t){var n,r=arguments;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.length>1&&void 0!==r[1]?r[1]:t+1,r.length>2?r[2]:void 0,!1!==this.opened){e.next=5;break}return e.next=5,this.opening;case 5:if(null===this.closing){e.next=7;break}throw M();case 7:if("object"===typeof n&&(n,n=t+1),!(t>=n)){e.next=10;break}return e.abrupt("return");case 10:return e.next=12,this.core.clear(t,n);case 12:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=a(i().mark((function e(t,n){var r,o,a,s;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.core.bitfield.get(t)){e.next=5;break}r=this.core.blocks.get(t),this.cache&&this.cache.set(t,r),e.next=14;break;case 5:if(this._shouldWait(n,this.wait)){e.next=7;break}return e.abrupt("return",null);case 7:n&&n.onwait&&n.onwait(t,this),this.onwait&&this.onwait(t,this),o=n&&n.activeRequests||this.activeRequests,a=this.replicator.addBlock(o,t),(s=n&&void 0!==n.timeout?n.timeout:this.timeout)&&a.context.setTimeout(a,s),r=this._cacheOnResolve(t,a.promise,this.core.tree.fork);case 14:return e.abrupt("return",r);case 15:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_cacheOnResolve",value:function(){var e=a(i().mark((function e(t,n,r){var o;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n;case 2:return o=e.sent,this.cache&&r===this.core.tree.fork&&this.cache.set(t,Promise.resolve(o)),e.abrupt("return",o);case 5:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"_shouldWait",value:function(e,t){if(e){if(!1===e.wait)return!1;if(!0===e.wait)return!0}return t}},{key:"createReadStream",value:function(e){return new B(this,e)}},{key:"createWriteStream",value:function(e){return new Q(this,e)}},{key:"download",value:function(e){var t=this._download(e);return t.catch(O),new C(t)}},{key:"_download",value:function(){var e=a(i().mark((function e(t){var n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!1!==this.opened){e.next=3;break}return e.next=3,this.opening;case 3:return n=t&&t.activeRequests||this.activeRequests,e.abrupt("return",this.replicator.addRange(n,t));case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"undownload",value:function(e){e.destroy(null)}},{key:"cancel",value:function(e){}},{key:"truncate",value:function(){var e=a(i().mark((function e(){var t,n,r=arguments;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=r.length>0&&void 0!==r[0]?r[0]:0,n=r.length>1&&void 0!==r[1]?r[1]:-1,!1!==this.opened){e.next=5;break}return e.next=5,this.opening;case 5:if(!1!==this.writable){e.next=7;break}throw P();case 7:return-1===n&&(n=this.core.tree.fork+1),e.next=10,this.core.truncate(t,n,this.auth);case 10:this.replicator.updateAll();case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"append",value:function(){var e=a(i().mark((function e(t){var n,r,o;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!1!==this.opened){e.next=3;break}return e.next=3,this.opening;case 3:if(!1!==this.writable){e.next=5;break}throw P();case 5:if(t=Array.isArray(t)?t:[t],n=this.encryption&&this._preappend,r=null!==this.encodeBatch?this.encodeBatch(t):new Array(t.length),null===this.encodeBatch)for(o=0;o<t.length;o++)r[o]=this._encode(this.valueEncoding,t[o]);return e.abrupt("return",this.core.append(r,this.auth,{preappend:n}));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"treeHash",value:function(){var e=a(i().mark((function e(t){var n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0!==t){e.next=4;break}return e.next=3,this.ready();case 3:t=this.core.tree.length;case 4:return e.next=6,this.core.tree.getRoots(t);case 6:return n=e.sent,e.abrupt("return",this.crypto.tree(n));case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"registerExtension",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this.extensions.has(e)){var n=this.extensions.get(e);return n.handlers=t,n.encoding=A.from(t.encoding||A.buffer),n.session=this,n}var r={name:e,handlers:t,encoding:A.from(t.encoding||A.buffer),session:this,send:function(t,n){var r=A.encode(this.encoding,t);n.extension(e,r)},broadcast:function(t){var n,r=A.encode(this.encoding,t),i=o(this.session.peers);try{for(i.s();!(n=i.n()).done;){n.value.extension(e,r)}}catch(a){i.e(a)}finally{i.f()}},destroy:function(){var t,n=o(this.session.peers);try{for(n.s();!(t=n.n()).done;){var i=t.value;i.extensions.get(e)===r&&i.extensions.delete(e)}}catch(a){n.e(a)}finally{n.f()}this.session.extensions.delete(e)},_onmessage:function(e,t){var n=this.encoding.decode(e);this.handlers.onmessage&&this.handlers.onmessage(n,t)}};this.extensions.set(e,r);var i,a=o(this.peers);try{for(a.s();!(i=a.n()).done;){i.value.extensions.set(e,r)}}catch(s){a.e(s)}finally{a.f()}return r}},{key:"_encode",value:function(e,t){var n={start:this.padding,end:this.padding,buffer:null};if(v.isBuffer(t)){if(0===n.start)return t;n.end+=t.byteLength}else if(e)e.preencode(n,t);else{if(t=v.from(t),0===n.start)return t;n.end+=t.byteLength}return n.buffer=v.allocUnsafe(n.end),e?e.encode(n,t):n.buffer.set(t,n.start),n.buffer}},{key:"_decode",value:function(e,t){return this.padding&&(t=t.subarray(this.padding)),e?A.decode(e,t):t}}],[{key:"getProtocolMuxer",value:function(e){return e.noiseStream.userData}},{key:"createProtocolStream",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=m.isProtomux(e)?e.stream:"object"===typeof(t=e)&&t&&"function"===typeof t.pipe?e:n.stream,i=null;if(r?i=r.noiseStream:r=(i=new _(e,null,n)).rawStream,!i)throw D("Invalid stream");if(!i.userData){var o=m.from(i);n.ondiscoverykey&&o.pair({protocol:"hypercore/alpha"},n.ondiscoverykey),!1!==n.keepAlive&&i.setKeepAlive(5e3),i.userData=o}return r}},{key:"defaultStorage",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("string"!==typeof e){if("function"!==typeof(t=e)||!t.prototype||"function"!==typeof t.prototype.open)return e;var r=e;return function(e){return new r(e)}}var i=e,o=n.unlocked?null:n.lock||"oplog",a=n.pool||(n.poolSize?p.createPool(n.poolSize):null);return function(e){var t=null!==o&&s(e,o),n=s(e,"data")||s(e,"bitfield")||s(e,"tree");return new p(e,{directory:i,lock:t,sparse:n,pool:t?null:a})};function s(e,t){return e===t||e.endsWith("/"+t)}}}]),n}(d)},5344:function(e,t,n){var r=n(4704).default,i=n(7061).default,o=n(6690).default,a=n(9728).default,s=n(1493),u=n(4587),l=n(7309).c,c=32768,h=4096,f=1024,d=2097152,p=262144,g=65536,y=1024,A=64,v=function(){"use strict";function e(t,n){o(this,e),this.dirty=!1,this.index=t,this.offset=t*h-n.offset,this.bitfield=null,this.segment=n,n.add(this)}return a(e,[{key:"tree",get:function(){return this.segment.tree}},{key:"get",value:function(e){return l.get(this.bitfield,e)}},{key:"set",value:function(e,t){l.set(this.bitfield,e,t)&&this.tree.update(8*this.offset+e)}},{key:"setRange",value:function(e,t,n){l.fill(this.bitfield,n,e,e+t);for(var r=Math.floor(e/32),i=r+Math.ceil(t/32);r<i;)this.tree.update(8*this.offset+32*r++)}},{key:"findFirst",value:function(e,t){return l.findFirst(this.bitfield,e,t)}},{key:"findLast",value:function(e,t){return l.findLast(this.bitfield,e,t)}}]),e}(),b=function(){"use strict";function e(t,n){o(this,e),this.index=t,this.offset=t*p,this.tree=l.Index.from(n),this.pages=new Array(A)}return a(e,[{key:"bitfield",get:function(){return this.tree.field}},{key:"add",value:function(e){var t=e.index-this.index*A;this.pages[t]=e;var n=t*f,r=n+f;r>=this.bitfield.length&&this.reallocate(r),e.bitfield=this.bitfield.subarray(n,r)}},{key:"reallocate",value:function(e){for(var t=this.bitfield.length;t<e;)t*=4;var n=new Uint32Array(t);n.set(this.bitfield),this.tree=l.Index.from(n);for(var r=0;r<this.pages.length;r++){var i=this.pages[r];if(i){var o=r*f,a=o+f;i.bitfield=n.subarray(o,a)}}}},{key:"findFirst",value:function(e,t){var n=32767&(t=this.tree.skipFirst(!e,t)),r=(t-n)/c;if(r>=A)return-1;var i=this.pages[r];if(i){var o=i.findFirst(e,n);if(-1!==o)return r*c+o}return-1}},{key:"findLast",value:function(e,t){var n=32767&(t=this.tree.skipLast(!e,t)),r=(t-n)/c;if(r>=A)return-1;var i=this.pages[r];if(i){var o=i.findLast(e,n);if(-1!==o)return r*c+o}return-1}}]),e}();function _(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=e%t;return 0===n?e:e+t-n}e.exports=function(){"use strict";function e(t,n){o(this,e),this.unflushed=[],this.storage=t,this.resumed=!!(n&&n.byteLength>=4),this._pages=new s,this._segments=new s;for(var r=this.resumed?new Uint32Array(n.buffer,n.byteOffset,Math.floor(n.byteLength/4)):new Uint32Array(y),i=0;i<r.length;i+=g){var a=r.subarray(i,i+g),u=g;if(0===i)for(u=y;u<a.length;)u*=4;if(a.length!==u){var l=new Uint32Array(u);l.set(a,0),a=l}var c=new b(i/g,a);this._segments.set(c.index,c);for(var h=0;h<a.length;h+=f){var d=new v((i+h)/f,c);this._pages.set(d.index,d)}}}return a(e,[{key:"get",value:function(e){var t=32767&e,n=(e-t)/c,r=this._pages.get(n);return!!r&&r.get(t)}},{key:"set",value:function(e,t){var n=32767&e,r=(e-n)/c,i=this._pages.get(r);if(!i&&t){var o=Math.floor(r/A),a=this._segments.get(o)||this._segments.set(o,new b(o,new Uint32Array(0===o?y:g)));i=this._pages.set(r,new v(r,a))}i&&(i.set(n,t),i.dirty||(i.dirty=!0,this.unflushed.push(i)))}},{key:"setRange",value:function(e,t,n){for(var r=32767&e,i=(e-r)/c;t>0;){var o=this._pages.get(i);if(!o&&n){var a=Math.floor(i/A),s=this._segments.get(a)||this._segments.set(a,new b(a,new Uint32Array(0===a?y:g)));o=this._pages.set(i,new v(i,s))}var u=Math.min(r+t,c)-r;o&&(o.setRange(r,u,n),o.dirty||(o.dirty=!0,this.unflushed.push(o))),r=0,i++,t-=u}}},{key:"findFirst",value:function(e,t){for(var n=2097151&t,r=(t-n)/d;r<this._segments.maxLength;){var i=this._segments.get(r);if(i){var o=i.findFirst(e,n);if(-1!==o)return r*d+o}n=0,r++}return-1}},{key:"firstSet",value:function(e){return this.findFirst(!0,e)}},{key:"firstUnset",value:function(e){return this.findFirst(!1,e)}},{key:"findLast",value:function(e,t){for(var n=2097151&t,r=(t-n)/d;r>=0;){var i=this._segments.get(r);if(i){var o=i.findLast(e,n);if(-1!==o)return r*d+o}n=2097151,r--}return-1}},{key:"lastSet",value:function(e){return this.findLast(!0,e)}},{key:"lastUnset",value:function(e){return this.findLast(!1,e)}},{key:"want",value:i().mark((function e(t,n){var r,o,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=(t-(2097151&t))/d;case 2:if(!(n>0)){e.next=12;break}if(!(o=this._segments.get(r))){e.next=8;break}return a=_((i=n/8,s=4096,u=p,Math.min(Math.max(i,s),u)),4096),e.next=8,{start:r*d,bitfield:o.bitfield.subarray(0,a/4)};case 8:r++,n-=d,e.next=2;break;case 12:case"end":return e.stop()}var i,s,u}),e,this)}))},{key:"clear",value:function(){var e=this;return new Promise((function(t,n){e.storage.truncate(0,(function(r){if(r)return n(r);e._pages=new s,e.unflushed=[],t()}))}))}},{key:"close",value:function(){var e=this;return new Promise((function(t,n){e.storage.close((function(e){e?n(e):t()}))}))}},{key:"flush",value:function(){var e=this;return new Promise((function(t,n){if(!e.unflushed.length)return t();var i,o=e,a=e.unflushed.length,s=null,l=r(e.unflushed);try{for(l.s();!(i=l.n()).done;){var c=i.value,f=u.from(c.bitfield.buffer,c.bitfield.byteOffset,c.bitfield.byteLength);c.dirty=!1,e.storage.write(c.index*h,f,d)}}catch(p){l.e(p)}finally{l.f()}function d(e){if(e&&(s=e),!--a){if(s)return n(s);o.unflushed=[],t()}}}))}}],[{key:"open",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return new Promise((function(r,i){t.stat((function(o,a){if(o)return r(new e(t,null));var s=a.size-(3&a.size);if(!s)return r(new e(t,null));n&&(s=Math.min(s,_(n.length/8,4096))),t.read(0,s,(function(n,o){if(n)return i(n);r(new e(t,o))}))}))}))}}]),e}()},4190:function(e,t,n){var r=n(6690).default,i=n(9728).default,o=n(2635),a=n(2479),s=n(4587),u=s.alloc(o.crypto_stream_NONCEBYTES);e.exports=function(){"use strict";function e(t,n){r(this,e);var i=s.alloc(2*o.crypto_stream_KEYBYTES);this.key=t,this.blockKey=i.subarray(0,o.crypto_stream_KEYBYTES),this.blindingKey=i.subarray(o.crypto_stream_KEYBYTES),this.padding=8,o.crypto_generichash(this.blockKey,t,n),o.crypto_generichash(this.blindingKey,this.blockKey)}return i(e,[{key:"encrypt",value:function(e,t,n){var r=t.subarray(0,this.padding);t=t.subarray(this.padding),a.uint64.encode({start:0,end:8,buffer:r},n),a.uint64.encode({start:0,end:8,buffer:u},e),u.fill(0,8,8+r.byteLength),o.crypto_stream_xor(r,r,u,this.blindingKey),u.set(r,8),o.crypto_stream_xor(t,t,u,this.blockKey)}},{key:"decrypt",value:function(e,t){var n=t.subarray(0,this.padding);t=t.subarray(this.padding),a.uint64.encode({start:0,end:8,buffer:u},e),u.set(n,8),o.crypto_stream_xor(t,t,u,this.blockKey)}}]),e}()},6760:function(e,t,n){var r=n(7061).default,i=n(7424).default,o=n(7156).default,a=n(6690).default,s=n(9728).default,u=n(4587);e.exports=function(){"use strict";function e(t,n){a(this,e),this.storage=t,this.tree=n}return s(e,[{key:"get",value:function(){var e=o(r().mark((function e(t){var n,o,a,s;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.tree.byteRange(2*t);case 2:return n=e.sent,o=i(n,2),a=o[0],s=o[1],e.abrupt("return",this._read(a,s));case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"put",value:function(){var e=o(r().mark((function e(t,n,i){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._write(i,n));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"putBatch",value:function(e,t,n){return 0===t.length?Promise.resolve():this.put(e,1===t.length?t[0]:u.concat(t),n)}},{key:"clear",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1;return new Promise((function(r,i){function o(e){e?i(e):r()}-1===n?e.storage.truncate(t,o):e.storage.del(t,n,o)}))}},{key:"close",value:function(){var e=this;return new Promise((function(t,n){e.storage.close((function(e){e?n(e):t()}))}))}},{key:"_read",value:function(e,t){var n=this;return new Promise((function(r,i){n.storage.read(e,t,(function(e,t){e?i(e):r(t)}))}))}},{key:"_write",value:function(e,t){var n=this;return new Promise((function(r,i){n.storage.write(e,t,(function(n){n?i(n):r(e+t.byteLength)}))}))}}]),e}()},4629:function(e,t,n){var r=n(7424).default,i=n(5852),o=n(2635),a=n(4587),s=n(2479),u=r(i.namespace("hypercore",3),3),l=u[0],c=u[1],h=u[2];t.replicate=function(e,t,n){var r=a.allocUnsafe(32);return o.crypto_generichash_batch(r,[e?c:h,t],n),r},t.treeSignable=function(e,t,n){var r={start:0,end:80,buffer:a.allocUnsafe(80)};return s.raw.encode(r,l),s.raw.encode(r,e),s.uint64.encode(r,t),s.uint64.encode(r,n),r.buffer},t.treeSignableLegacy=function(e,t,n){var r={start:0,end:48,buffer:a.allocUnsafe(48)};return s.raw.encode(r,e),s.uint64.encode(r,t),s.uint64.encode(r,n),r.buffer}},7309:function(e,t,n){var r=n(5096);"function"===typeof r.findFirst&&"function"===typeof r.findLast||(r=n(5096)),t.c=r},7095:function(e,t,n){var r=n(2122).default,i=n(7424).default,o=n(4704).default,a=n(7061).default,s=n(7156).default,u=n(6690).default,l=n(9728).default,c=n(5852),h=n(4587),f=n(5166),d=n(604),p=n(5091),g=n(6760),y=n(5344),A=n(5730),v=A.BAD_ARGUMENT,b=A.STORAGE_EMPTY,_=A.STORAGE_CONFLICT,m=A.INVALID_SIGNATURE,k=n(5281);function I(e,t,n){var r=t.start+t.length,i=e.contiguousLength;if(t.drop)i<=r&&i>t.start&&(i=t.start);else if(i<=r&&i>=t.start)for(i=r;n.get(i);)i++;return i===e.contiguousLength?0:i>e.contiguousLength?(e.contiguousLength=i,4):(e.contiguousLength=i,8)}function w(e,t,n){if(0!==t.length&&t.fork!==n.fork){for(;e.length>=4;)e.shift();for(;e.length>0&&e[e.length-1].ancestors>n.ancestors;)e.pop();e.push({from:t.fork,to:n.fork,ancestors:n.ancestors})}}function E(e,t,n){for(var r=0;r<e.length;r++)if(e[r].key===t)return void(n?e[r].value=n:e.splice(r,1));n&&e.push({key:t,value:n})}function x(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=1,i=null;return new Promise((function(e,n){for(var o=0,a=t;o<a.length;o++){var s=a[o];r++,s.close(u)}function u(t){t&&(i=t),--r||(i?n(i):e())}u(null)}))}function C(){}e.exports=function(){"use strict";function e(t,n,r,i,o,a,s,l,c,h){u(this,e),this.onupdate=c,this.onconflict=h,this.header=t,this.crypto=n,this.oplog=r,this.tree=i,this.blocks=o,this.bitfield=a,this.defaultAuth=s,this.truncating=0,this._maxOplogSize=65536,this._autoFlush=1,this._verifies=null,this._verifiesFlushed=null,this._mutex=new d,this._legacy=l}return l(e,[{key:"_shouldFlush",value:function(){return(--this._autoFlush<=0||this.oplog.byteLength>=this._maxOplogSize)&&(this._autoFlush=4,!0)}},{key:"_flushOplog",value:function(){var e=s(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.bitfield.flush();case 2:return e.next=4,this.tree.flush();case 4:return e.next=6,this.oplog.flush(this.header);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_appendBlocks",value:function(e){return this.blocks.putBatch(this.tree.length,e,this.tree.byteLength)}},{key:"_writeBlock",value:function(){var e=s(a().mark((function e(t,n,r){var i;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.byteOffset(2*n);case 2:return i=e.sent,e.next=5,this.blocks.put(n,r,i);case 5:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"userData",value:function(){var e=s(a().mark((function e(t,n){var r,i,s,u,l;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._mutex.lock();case 2:e.prev=2,r=!0,i=o(this.header.userData),e.prev=5,i.s();case 7:if((s=i.n()).done){e.next=17;break}if((u=s.value).key===t){e.next=11;break}return e.abrupt("continue",15);case 11:if(!n||!h.equals(u.value,n)){e.next=13;break}return e.abrupt("return");case 13:return r=!1,e.abrupt("break",17);case 15:e.next=7;break;case 17:e.next=22;break;case 19:e.prev=19,e.t0=e.catch(5),i.e(e.t0);case 22:return e.prev=22,i.f(),e.finish(22);case 25:if(!r||n){e.next=27;break}return e.abrupt("return");case 27:return l={userData:{key:t,value:n},treeNodes:null,treeUpgrade:null,bitfield:null},e.next=30,this.oplog.append([l],!1);case 30:if(E(this.header.userData,t,n),!this._shouldFlush()){e.next=34;break}return e.next=34,this._flushOplog();case 34:return e.prev=34,this._mutex.unlock(),e.finish(34);case 37:case"end":return e.stop()}}),e,this,[[2,,34,37],[5,19,22,25]])})));return function(t,n){return e.apply(this,arguments)}}()},{key:"truncate",value:function(){var e=s(a().mark((function e(t,n){var r,i,o=arguments;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>2&&void 0!==o[2]?o[2]:this.defaultAuth,this.truncating++,e.next=4,this._mutex.lock();case 4:return e.prev=4,e.next=7,this.tree.truncate(t,n);case 7:return i=e.sent,e.next=10,r.sign(i.signable());case 10:return i.signature=e.sent,e.next=13,this._truncate(i,null);case 13:return e.prev=13,this.truncating--,this._mutex.unlock(),e.finish(13);case 17:case"end":return e.stop()}}),e,this,[[4,,13,17]])})));return function(t,n){return e.apply(this,arguments)}}()},{key:"clear",value:function(){var e=s(a().mark((function e(t,n){var r,o,s,u,l,c,h;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._mutex.lock();case 2:return e.prev=2,r={userData:null,treeNodes:null,treeUpgrade:null,bitfield:{start:t,length:n-t,drop:!0}},e.next=6,this.oplog.append([r],!1);case 6:return this.bitfield.setRange(t,n-t,!1),t<this.header.contiguousLength&&(this.header.contiguousLength=t),t=this.bitfield.lastSet(t)+1,-1===(n=this.bitfield.firstSet(n))&&(n=this.tree.length),e.next=13,this.tree.byteOffset(2*t);case 13:return o=e.sent,e.next=16,this.tree.byteRange(2*(n-1));case 16:return s=e.sent,u=i(s,2),l=u[0],c=u[1],h=l+c-o,e.next=23,this.blocks.clear(o,h);case 23:if(this.onupdate(0,r.bitfield,null,null),!this._shouldFlush()){e.next=27;break}return e.next=27,this._flushOplog();case 27:return e.prev=27,this._mutex.unlock(),e.finish(27);case 30:case"end":return e.stop()}}),e,this,[[2,,27,30]])})));return function(t,n){return e.apply(this,arguments)}}()},{key:"append",value:function(){var e=s(a().mark((function e(t){var n,r,i,s,u,l,c,h,f,d,p=arguments;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=p.length>1&&void 0!==p[1]?p[1]:this.defaultAuth,r=p.length>2&&void 0!==p[2]?p[2]:{},e.next=4,this._mutex.lock();case 4:if(e.prev=4,!r.preappend){e.next=8;break}return e.next=8,r.preappend(t);case 8:if(t.length){e.next=10;break}return e.abrupt("return",{length:this.tree.length,byteLength:this.tree.byteLength});case 10:i=this.tree.batch(),s=o(t);try{for(s.s();!(u=s.n()).done;)l=u.value,i.append(l)}catch(a){s.e(a)}finally{s.f()}return c=i.hash(),e.next=16,n.sign(this._legacy?i.signableLegacy(c):i.signable(c));case 16:return i.signature=e.sent,h={userData:null,treeNodes:i.nodes,treeUpgrade:i,bitfield:{drop:!1,start:i.ancestors,length:t.length}},e.next=20,this._appendBlocks(t);case 20:return f=e.sent,e.next=23,this.oplog.append([h],!1);case 23:if(this.bitfield.setRange(i.ancestors,i.length-i.ancestors,!0),i.commit(),this.header.tree.length=i.length,this.header.tree.rootHash=c,this.header.tree.signature=i.signature,d=1|I(this.header,h.bitfield,this.bitfield),this.onupdate(d,h.bitfield,null,null),!this._shouldFlush()){e.next=33;break}return e.next=33,this._flushOplog();case 33:return e.abrupt("return",{length:i.length,byteLength:f});case 34:return e.prev=34,this._mutex.unlock(),e.finish(34);case 37:case"end":return e.stop()}}),e,this,[[4,,34,37]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_signed",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.defaultAuth,r=this._legacy?e.signableLegacy(t):e.signable(t);return n.verify(r,e.signature)}},{key:"_verifyExclusive",value:function(){var e=s(a().mark((function e(t){var n,r,i,o,s,u,l;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.batch,r=t.bitfield,i=t.value,o=t.from,s=n.hash(),n.signature&&this._signed(n,s)){e.next=4;break}throw m("Proof contains an invalid signature");case 4:return e.next=6,this._mutex.lock();case 6:if(e.prev=6,n.commitable()){e.next=9;break}return e.abrupt("return",!1);case 9:if(u={userData:null,treeNodes:n.nodes,treeUpgrade:n,bitfield:r},!r){e.next=13;break}return e.next=13,this._writeBlock(n,r.start,i);case 13:return e.next=15,this.oplog.append([u],!1);case 15:if(l=1,r&&(this.bitfield.set(r.start,!0),l|=I(this.header,r,this.bitfield)),n.commit(),this.header.tree.fork=n.fork,this.header.tree.length=n.length,this.header.tree.rootHash=n.rootHash,this.header.tree.signature=n.signature,this.onupdate(l,r,i,o),!this._shouldFlush()){e.next=26;break}return e.next=26,this._flushOplog();case 26:return e.prev=26,this._mutex.unlock(),e.finish(26);case 29:return e.abrupt("return",!0);case 30:case"end":return e.stop()}}),e,this,[[6,,26,29]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_verifyShared",value:function(){var e=s(a().mark((function e(){var t,n,r,i,s,u,l,c,h,f,d,p,g,y,A;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this._verifies.length){e.next=2;break}return e.abrupt("return",!1);case 2:return e.next=4,this._mutex.lock();case 4:t=this._verifies,this._verifies=null,this._verified=null,e.prev=7,n=[],r=o(t),e.prev=10,r.s();case 12:if((i=r.n()).done){e.next=22;break}if(s=i.value,u=s.batch,l=s.bitfield,c=s.value,u.commitable()){e.next=16;break}return e.abrupt("continue",20);case 16:if(!l){e.next=19;break}return e.next=19,this._writeBlock(u,l.start,c);case 19:n.push({userData:null,treeNodes:u.nodes,treeUpgrade:null,bitfield:l});case 20:e.next=12;break;case 22:e.next=27;break;case 24:e.prev=24,e.t0=e.catch(10),r.e(e.t0);case 27:return e.prev=27,r.f(),e.finish(27);case 30:return e.next=32,this.oplog.append(n,!1);case 32:h=0;case 33:if(!(h<t.length)){e.next=45;break}if(f=t[h],d=f.batch,p=f.bitfield,g=f.value,y=f.from,d.commitable()){e.next=38;break}return t[h]=null,e.abrupt("continue",42);case 38:A=0,p&&(this.bitfield.set(p.start,!0),A=I(this.header,p,this.bitfield)),d.commit(),this.onupdate(A,p,g,y);case 42:h++,e.next=33;break;case 45:if(!this._shouldFlush()){e.next=48;break}return e.next=48,this._flushOplog();case 48:return e.prev=48,this._mutex.unlock(),e.finish(48);case 51:return e.abrupt("return",null!==t[0]);case 52:case"end":return e.stop()}}),e,this,[[7,,48,51],[10,24,27,30]])})));return function(){return e.apply(this,arguments)}}()},{key:"checkConflict",value:function(){var e=s(a().mark((function e(t,n){var r,i,o;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.tree.length<t.upgrade.length||t.fork!==this.tree.fork)){e.next=2;break}return e.abrupt("return",!1);case 2:if((r=this.tree.verifyFullyRemote(t)).signature&&this._signed(r,r.hash())){e.next=5;break}throw m("Proof contains an invalid signature with no input from us");case 5:return i=this.crypto.tree(t.upgrade.nodes),e.t0=this.crypto,e.next=9,this.tree.getRoots(t.upgrade.length);case 9:if(e.t1=e.sent,o=e.t0.tree.call(e.t0,e.t1),!h.equals(o,i)){e.next=13;break}return e.abrupt("return",!1);case 13:return e.next=15,this.onconflict(t);case 15:return e.abrupt("return",!0);case 16:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"verify",value:function(){var e=s(a().mark((function e(t,n){var r,i,o,s,u;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.fork===this.tree.fork){e.next=2;break}return e.abrupt("return",!1);case 2:return e.next=4,this.tree.verify(t);case 4:if((r=e.sent).commitable()){e.next=7;break}return e.abrupt("return",!1);case 7:if(i=t.block&&t.block.value||null,o={batch:r,bitfield:i&&{drop:!1,start:t.block.index,length:1},value:i,from:n},!r.upgraded){e.next=11;break}return e.abrupt("return",this._verifyExclusive(o));case 11:if(null===this._verifies){e.next=17;break}return s=this._verifies,u=s.push(o),e.next=16,this._verified;case 16:return e.abrupt("return",null!==s[u]);case 17:return this._verifies=[o],this._verified=this._verifyShared(),e.abrupt("return",this._verified);case 20:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"reorg",value:function(){var e=s(a().mark((function e(t,n){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.commitable()){e.next=2;break}return e.abrupt("return",!1);case 2:return this.truncating++,e.next=5,this._mutex.lock();case 5:if(e.prev=5,t.commitable()){e.next=8;break}return e.abrupt("return",!1);case 8:return e.next=10,this._truncate(t,n);case 10:return e.prev=10,this.truncating--,this._mutex.unlock(),e.finish(10);case 14:return e.abrupt("return",!0);case 15:case"end":return e.stop()}}),e,this,[[5,,10,14]])})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_truncate",value:function(){var e=s(a().mark((function e(t,n){var r,i,o;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={userData:null,treeNodes:t.nodes,treeUpgrade:t,bitfield:{drop:!0,start:t.ancestors,length:this.tree.length-t.ancestors}},e.next=3,this.oplog.append([r],!1);case 3:return this.bitfield.setRange(t.ancestors,this.tree.length-t.ancestors,!1),w(this.header.hints.reorgs,this.tree,t),t.commit(),i=I(this.header,r.bitfield,this.bitfield),o=(t.length>t.ancestors?3:2)|i,this.header.tree.fork=t.fork,this.header.tree.length=t.length,this.header.tree.rootHash=t.hash(),this.header.tree.signature=t.signature,this.onupdate(o,r.bitfield,null,n),e.next=15,this._flushOplog();case 15:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"close",value:function(){var e=s(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._mutex.destroy();case 2:return e.next=4,Promise.allSettled([this.oplog.close(),this.bitfield.close(),this.tree.close(),this.blocks.close()]);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}],[{key:"open",value:function(){var e=s(a().mark((function e(t){var n,r,i,o,s,u=arguments;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=u.length>1&&void 0!==u[1]?u[1]:{},r=t("oplog"),i=t("tree"),o=t("bitfield"),s=t("data"),e.prev=5,e.next=8,this.resume(r,i,o,s,n);case 8:return e.abrupt("return",e.sent);case 11:return e.prev=11,e.t0=e.catch(5),e.next=15,x(r,i,o,s);case 15:throw e.t0;case 16:case"end":return e.stop()}}),e,this,[[5,11]])})));return function(t){return e.apply(this,arguments)}}()},{key:"createAuth",value:function(e,t){var n=t.publicKey,r=t.secretKey,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(r&&!e.validateKeyPair({publicKey:n,secretKey:r}))throw v("Invalid key pair");return{sign:i.sign?i.sign:r?function(t){return e.sign(t,r)}:void 0,verify:function(t,r){return e.verify(t,r,n)}}}},{key:"resume",value:function(){var e=s(a().mark((function e(t,n,i,s,u){var l,d,A,v,m,x,S,B,Q,L,D,M,P,U,N,T,O,K,R;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l=!0===u.overwrite,d=!0===u.force,A=!1!==u.createIfMissing,v=u.crypto||c,m=new f(t,{headerEncoding:k.oplog.header,entryEncoding:k.oplog.entry}),e.next=7,m.open();case 7:if(x=e.sent,S=x.header,B=x.entries,d&&u.keyPair&&S&&S.signer&&!h.equals(S.signer.publicKey,u.keyPair.publicKey)&&(l=!0),S&&!l){e.next=17;break}if(A){e.next=14;break}throw b("No Hypercore is stored here");case 14:return S={types:{tree:"blake2b",bitfield:"raw",signer:"ed25519"},userData:[],tree:{fork:0,length:0,rootHash:null,signature:null},signer:u.keyPair||v.keyPair(),hints:{reorgs:[]},contiguousLength:0},e.next=17,m.flush(S);case 17:if(!u.keyPair||h.equals(S.signer.publicKey,u.keyPair.publicKey)){e.next=19;break}throw _("Another Hypercore is stored here");case 19:return e.next=21,p.open(n,r({crypto:v},S.tree));case 21:return Q=e.sent,e.next=24,y.open(i,Q);case 24:if(L=e.sent,D=new g(s,Q),!l){e.next=36;break}return e.next=29,Q.clear();case 29:return e.next=31,D.clear();case 31:return e.next=33,L.clear();case 33:B=[],e.next=39;break;case 36:if(!L.resumed||0!==S.tree.length){e.next=39;break}return e.next=39,L.clear();case 39:if(0===S.contiguousLength)for(;L.get(S.contiguousLength);)S.contiguousLength++;M=u.auth||this.createAuth(v,S.signer),P=o(B),e.prev=42,P.s();case 44:if((U=P.n()).done){e.next=63;break}if((N=U.value).userData&&E(S.userData,N.userData.key,N.userData.value),N.treeNodes){T=o(N.treeNodes);try{for(T.s();!(O=T.n()).done;)K=O.value,Q.addNode(K)}catch(a){T.e(a)}finally{T.f()}}if(N.bitfield&&(L.setRange(N.bitfield.start,N.bitfield.length,!N.bitfield.drop),I(S,N.bitfield,L)),!N.treeUpgrade){e.next=61;break}return e.next=52,Q.truncate(N.treeUpgrade.length,N.treeUpgrade.fork);case 52:(R=e.sent).ancestors=N.treeUpgrade.ancestors,R.signature=N.treeUpgrade.signature,w(S.hints.reorgs,Q,R),R.commit(),S.tree.length=Q.length,S.tree.fork=Q.fork,S.tree.rootHash=Q.hash(),S.tree.signature=Q.signature;case 61:e.next=44;break;case 63:e.next=68;break;case 65:e.prev=65,e.t0=e.catch(42),P.e(e.t0);case 68:return e.prev=68,P.f(),e.finish(68);case 71:return e.abrupt("return",new this(S,v,m,Q,D,L,M,!!u.legacy,u.onupdate||C,u.onconflict||C));case 72:case"end":return e.stop()}}),e,this,[[42,65,68,71]])})));return function(t,n,r,i,o){return e.apply(this,arguments)}}()}]),e}()},1663:function(e,t,n){var r=n(7061).default,i=n(7156).default,o=n(6690).default,a=n(9728).default;function s(){}e.exports=function(){"use strict";function e(t){o(this,e),this.req=t}return a(e,[{key:"done",value:function(){var e=i(r().mark((function e(){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.req;case 2:return e.abrupt("return",e.sent.promise);case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"downloaded",value:function(){return this.done()}},{key:"destroy",value:function(){this.req.then((function(e){return e.context&&e.context.detach(e)}),s)}}]),e}()},5730:function(e,t,n){var r=n(6690).default,i=n(9728).default,o=n(6115).default,a=n(1655).default,s=n(6389).default,u=n(3496).default;e.exports=function(e){"use strict";a(n,e);var t=s(n);function n(e,i){var a,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:n;return r(this,n),(a=t.call(this,"".concat(i,": ").concat(e))).code=i,Error.captureStackTrace&&Error.captureStackTrace(o(a),s),a}return i(n,[{key:"name",get:function(){return"HypercoreError"}}],[{key:"BAD_ARGUMENT",value:function(e){return new n(e,"BAD_ARGUMENT",n.BAD_ARGUMENT)}},{key:"STORAGE_EMPTY",value:function(e){return new n(e,"STORAGE_EMPTY",n.STORAGE_EMPTY)}},{key:"STORAGE_CONFLICT",value:function(e){return new n(e,"STORAGE_CONFLICT",n.STORAGE_CONFLICT)}},{key:"INVALID_SIGNATURE",value:function(e){return new n(e,"INVALID_SIGNATURE",n.INVALID_SIGNATURE)}},{key:"INVALID_CAPABILITY",value:function(e){return new n(e,"INVALID_CAPABILITY",n.INVALID_CAPABILITY)}},{key:"INVALID_CHECKSUM",value:function(){return new n(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Invalid checksum","INVALID_CHECKSUM",n.INVALID_CHECKSUM)}},{key:"INVALID_OPERATION",value:function(e){return new n(e,"INVALID_OPERATION",n.INVALID_OPERATION)}},{key:"INVALID_PROOF",value:function(){return new n(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Proof not verifiable","INVALID_PROOF",n.INVALID_PROOF)}},{key:"SNAPSHOT_NOT_AVAILABLE",value:function(){return new n(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Snapshot is not available","SNAPSHOT_NOT_AVAILABLE",n.SNAPSHOT_NOT_AVAILABLE)}},{key:"REQUEST_CANCELLED",value:function(){return new n(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Request was cancelled","REQUEST_CANCELLED",n.REQUEST_CANCELLED)}},{key:"REQUEST_TIMEOUT",value:function(){return new n(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Request timed out","REQUEST_TIMEOUT",n.REQUEST_TIMEOUT)}},{key:"SESSION_NOT_WRITABLE",value:function(){return new n(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Session is not writable","SESSION_NOT_WRITABLE",n.SESSION_NOT_WRITABLE)}},{key:"SESSION_CLOSED",value:function(){return new n(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Session is closed","SESSION_CLOSED",n.SESSION_CLOSED)}},{key:"OPLOG_CORRUPT",value:function(){return new n(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Oplog file appears corrupt or out of date","OPLOG_CORRUPT",n.OPLOG_CORRUPT)}},{key:"INVALID_OPLOG_VERSION",value:function(){return new n(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Invalid header version","INVALID_OPLOG_VERSION",n.INVALID_OPLOG_VERSION)}}]),n}(u(Error))},8590:function(e,t,n){var r=n(7061).default,i=n(7156).default,o=n(6690).default,a=n(9728).default;e.exports=function(){"use strict";function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};o(this,e),this.key=t.key,this.discoveryKey=t.discoveryKey,this.length=t.length||0,this.contiguousLength=t.contiguousLength||0,this.byteLength=t.byteLength||0,this.fork=t.fork||0,this.padding=t.padding||0,this.storage=t.storage||null}return a(e,null,[{key:"from",value:function(){var t=i(r().mark((function t(n){var i,o=arguments;return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=o.length>1&&void 0!==o[1]?o[1]:{},t.t0=e,t.t1=n.key,t.t2=n.discoveryKey,t.t3=n.length,t.t4=n.contiguousLength,t.t5=n.byteLength,t.t6=n.fork,t.t7=n.padding,!i.storage){t.next=15;break}return t.next=12,this.storage(n);case 12:t.t8=t.sent,t.next=16;break;case 15:t.t8=null;case 16:return t.t9=t.t8,t.t10={key:t.t1,discoveryKey:t.t2,length:t.t3,contiguousLength:t.t4,byteLength:t.t5,fork:t.t6,padding:t.t7,storage:t.t9},t.abrupt("return",new t.t0(t.t10));case 19:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"storage",value:function(){var e=i(r().mark((function e(t){var n,i,o,a,s,u;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u=function(e){return new Promise((function(t,n){e.stat((function(e,r){e?t(0):"number"!==typeof r.blocks?n(new Error("cannot determine bytes used")):t(512*r.blocks)}))}))},n=t.core,i=n.oplog,o=n.tree,a=n.blocks,s=n.bitfield,e.prev=2,e.next=5,u(i.storage);case 5:return e.t0=e.sent,e.next=8,u(o.storage);case 8:return e.t1=e.sent,e.next=11,u(a.storage);case 11:return e.t2=e.sent,e.next=14,u(s.storage);case 14:return e.t3=e.sent,e.abrupt("return",{oplog:e.t0,tree:e.t1,blocks:e.t2,bitfield:e.t3});case 18:return e.prev=18,e.t4=e.catch(2),e.abrupt("return",null);case 21:case"end":return e.stop()}}),e,null,[[2,18]])})));return function(t){return e.apply(this,arguments)}}()}]),e}()},5091:function(e,t,n){var r=n(7424).default,i=n(1655).default,o=n(6389).default,a=n(7061).default,s=n(4704).default,u=n(7156).default,l=n(861).default,c=n(6690).default,h=n(9728).default,f=n(3141),d=n(5852),p=n(2479),g=n(7579),y=n(4587),A=n(4629),v=n(5730),b=v.INVALID_PROOF,_=v.INVALID_CHECKSUM,m=v.INVALID_OPERATION,k=v.BAD_ARGUMENT,I=y.alloc(32),w=y.from([5,2,87,2,0,0,40,7,66,76,65,75,69,50,98]),E=function(){"use strict";function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;c(this,e),this.i=0,this.nodes=t,this.extra=n,this.length=t.length+(null===this.extra?0:1)}return h(e,[{key:"shift",value:function(e){if(null!==this.extra&&this.extra.index===e){var t=this.extra;return this.extra=null,this.length--,t}if(this.i>=this.nodes.length)throw m("Expected node "+e+", got (nil)");var n=this.nodes[this.i++];if(n.index!==e)throw m("Expected node "+e+", got node "+n.index);return this.length--,n}}]),e}(),x=function(){"use strict";function e(t){c(this,e),this.fork=t.fork,this.roots=l(t.roots),this.length=t.length,this.ancestors=t.length,this.byteLength=t.byteLength,this.signature=null,this.treeLength=t.length,this.treeFork=t.fork,this.tree=t,this.nodes=[],this.upgraded=!1}return h(e,[{key:"hash",value:function(){return this.tree.crypto.tree(this.roots)}},{key:"signable",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.hash();return A.treeSignable(e,this.length,this.fork)}},{key:"signableLegacy",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.hash();return A.treeSignableLegacy(e,this.length,this.fork)}},{key:"append",value:function(e){var t=2*this.length,n=f.iterator(t),r=z(this.tree.crypto,t,e);this.appendRoot(r,n)}},{key:"appendRoot",value:function(e,t){for(this.upgraded=!0,this.length+=t.factor/2,this.byteLength+=e.size,this.roots.push(e),this.nodes.push(e);this.roots.length>1;){var n=this.roots[this.roots.length-1],r=this.roots[this.roots.length-2];if(t.sibling()!==r.index){t.sibling();break}var i=H(this.tree.crypto,t.parent(),n,r);this.nodes.push(i),this.roots.pop(),this.roots.pop(),this.roots.push(i)}}},{key:"commitable",value:function(){return this.treeFork===this.tree.fork&&(this.upgraded?this.treeLength===this.tree.length:this.treeLength<=this.tree.length)}},{key:"commit",value:function(){if(!this.commitable())throw m("Tree was modified during batch, refusing to commit");this.upgraded&&this._commitUpgrade();for(var e=0;e<this.nodes.length;e++){var t=this.nodes[e];this.tree.unflushed.set(t.index,t)}}},{key:"_commitUpgrade",value:function(){if(this.ancestors<this.treeLength){if(this.ancestors>0)for(var e=2*this.ancestors,t=f.iterator(e-2);t.contains(e)&&t.index<e&&this.tree.unflushed.set(t.index,j(t.index)),0!==t.offset;)t.parent();this.tree.truncateTo=this.tree.truncated?Math.min(this.tree.truncateTo,this.ancestors):this.ancestors,this.tree.truncated=!0,this.tree.cache=new g({maxSize:this.tree.cache.maxSize}),J(this.tree.unflushed,this.ancestors),null!==this.tree.flushing&&J(this.tree.flushing,this.ancestors)}this.tree.roots=this.roots,this.tree.length=this.length,this.tree.byteLength=this.byteLength,this.tree.fork=this.fork,this.tree.signature=this.signature}},{key:"byteOffset",value:function(){var e=u(a().mark((function e(t){var n,r,i,o,u,l,c,h,d,p;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(2*this.tree.length!==t){e.next=2;break}return e.abrupt("return",this.tree.byteLength);case 2:n=f.iterator(t),r=0,i=!1,o=null,u=s(this.nodes);try{for(u.s();!(l=u.n()).done;)(c=l.value).index===n.index&&(i&&o&&(r+=c.size-o.size),o=c,i=n.isRight(),n.parent())}catch(a){u.e(a)}finally{u.f()}if(!((h=this.roots.indexOf(o))>-1)){e.next=12;break}for(d=0;d<h;d++)r+=this.roots[d].size;return e.abrupt("return",r);case 12:return e.next=14,this.tree.byteOffset(o?o.index:t);case 14:return p=e.sent,e.abrupt("return",p+r);case 16:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),C=function(e){"use strict";i(n,e);var t=o(n);function n(e){var r;return c(this,n),(r=t.call(this,e)).roots=[],r.length=0,r.byteLength=0,r.diff=null,r.ancestors=0,r.upgraded=!0,r.want={nodes:0,start:0,end:0},r}return h(n,[{key:"finished",get:function(){return null===this.want}},{key:"update",value:function(e){var t;if(null===this.want)return!0;var n=[],r=B(e,this.tree.crypto,n);return!(null===r||!y.equals(r.hash,this.diff.hash))&&((t=this.nodes).push.apply(t,n),this._update(n))}},{key:"_update",value:function(){var e=u(a().mark((function e(t){var n,r,i,o,u,l,c,h,d;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=new Map,r=s(t);try{for(r.s();!(i=r.n()).done;)o=i.value,n.set(o.index,o)}catch(a){r.e(a)}finally{r.f()}u=null,l=f.iterator(this.diff.index),c=this.diff;case 6:if(0===(1&l.index)){e.next=16;break}if(h=n.get(l.leftChild())){e.next=10;break}return e.abrupt("break",16);case 10:return e.next=12,this.tree.get(h.index,!1);case 12:d=e.sent,u=d&&y.equals(d.hash,h.hash)?n.get(l.sibling()):h,e.next=6;break;case 16:if(0!==(1&this.diff.index)){e.next=18;break}return e.abrupt("return",!0);case 18:if(null!==u){e.next=20;break}return e.abrupt("return",!1);case 20:if(c===this.diff){e.next=22;break}return e.abrupt("return",!1);case 22:return e.abrupt("return",this._updateDiffRoot(u));case 23:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_updateDiffRoot",value:function(e){if(null===this.want)return!0;var t=f.spans(e.index),n=t[0]/2,r=Math.min(this.treeLength,t[1]/2+1),i=r-n;return this.ancestors=n,this.diff=e,0===(1&e.index)||this.want.start>=this.treeLength||i<=0?(this.want=null,!0):(this.want.start=n,this.want.end=r,this.want.nodes=function(e){var t=1;for(;e>2;)e/=2,t++;return t}(t[1]-t[0]+2)-1,!1)}}]),n}(x),S=function(){"use strict";function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;c(this,e),this.tree=t,this.bytes=n,this.padding=r;var i=t.byteLength-t.length*r;this.start=n>=i?t.length:0,this.end=n<i?t.length:0}return h(e,[{key:"nodes",value:function(){return this.tree.nodes(2*this.start)}},{key:"_seek",value:function(){var e=u(a().mark((function e(t){var n,r,i,o,u,l,c;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return",[0,0]);case 2:n=s(this.tree.roots),e.prev=3,n.s();case 5:if((r=n.n()).done){e.next=37;break}if(i=r.value,o=i.size,this.padding>0&&(o-=this.padding*f.countLeaves(i.index)),t!==o){e.next=11;break}return e.abrupt("return",[f.rightSpan(i.index)+2,0]);case 11:if(!(t>o)){e.next=14;break}return t-=o,e.abrupt("continue",35);case 14:u=f.iterator(i.index);case 15:if(0===(1&u.index)){e.next=34;break}return e.next=18,this.tree.get(u.leftChild(),!1);case 18:if(!(l=e.sent)){e.next=30;break}if(c=l.size,this.padding>0&&(c-=this.padding*u.countLeaves()),c!==t){e.next=24;break}return e.abrupt("return",[u.rightSpan()+2,0]);case 24:if(!(c>t)){e.next=26;break}return e.abrupt("continue",15);case 26:t-=c,u.sibling(),e.next=32;break;case 30:return u.parent(),e.abrupt("return",[u.index,t]);case 32:e.next=15;break;case 34:return e.abrupt("return",[u.index,t]);case 35:e.next=5;break;case 37:e.next=42;break;case 39:e.prev=39,e.t0=e.catch(3),n.e(e.t0);case 42:return e.prev=42,n.f(),e.finish(42);case 45:return e.abrupt("return",null);case 46:case"end":return e.stop()}}),e,this,[[3,39,42,45]])})));return function(t){return e.apply(this,arguments)}}()},{key:"update",value:function(){var e=u(a().mark((function e(){var t,n;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._seek(this.bytes);case 2:if(t=e.sent){e.next=5;break}return e.abrupt("return",null);case 5:if(0!==(1&t[0])){e.next=7;break}return e.abrupt("return",[t[0]/2,t[1]]);case 7:return n=f.spans(t[0]),this.start=n[0]/2,this.end=n[1]/2+1,e.abrupt("return",null);case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function B(e,t,n){var r=e.block,i=e.hash,o=e.seek,a=r?{index:2*r.index,value:r.value,nodes:r.nodes}:i?{index:i.index,value:null,nodes:i.nodes}:null;if(null===a&&(!o||!o.nodes.length))return null;var s=null;if(o&&o.nodes.length){var u=f.iterator(o.nodes[0].index),l=new E(o.nodes);for(s=l.shift(u.index),n.push(s);l.length>0;){var c=l.shift(u.sibling());s=H(t,u.parent(),s,c),n.push(c),n.push(s)}}if(null===a)return s;var h=f.iterator(a.index),d=a.value&&z(t,h.index,a.value),p=new E(a.nodes,s);for(s=d||p.shift(h.index),n.push(s);p.length>0;){var g=p.shift(h.sibling());s=H(t,h.parent(),s,g),n.push(g),n.push(s)}return s}function Q(e,t,n){for(var r=e.fork,i=e.upgrade,o=new E(i.nodes,t),a=n.roots.length>0,s=0,u=2*(i.start+i.length),l=f.iterator(0);l.fullRoot(u);l.nextTree())if(s<n.roots.length&&n.roots[s].index===l.index)s++;else{if(a){a=!1;var c=l.index;if(s<n.roots.length){for(l.seek(n.roots[n.roots.length-1].index);l.index!==c;)n.appendRoot(o.shift(l.sibling()),l);continue}}n.appendRoot(o.shift(l.index),l)}var h=i.additionalNodes;for(l.seek(n.roots[n.roots.length-1].index),s=0;s<h.length&&h[s].index===l.sibling();)n.appendRoot(h[s++],l);for(;s<h.length;){for(var d=h[s++];d.index!==l.index;){if(2===l.factor)throw m("Unexpected node: "+d.index);l.leftChild()}n.appendRoot(d,l),l.sibling()}return n.signature=i.signature,n.fork=r,null===o.extra}function L(e,t,n){return D.apply(this,arguments)}function D(){return(D=u(a().mark((function e(t,n,r){var i,o,s,u;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=f.fullRoots(n),o=0;case 2:if(!(o<i.length)){e.next=16;break}return s=i[o],e.next=6,t.get(s);case 6:if(u=e.sent,r!==u.size){e.next=9;break}return e.abrupt("return",s);case 9:if(!(r>u.size)){e.next=12;break}return r-=u.size,e.abrupt("continue",13);case 12:return e.abrupt("return",M(t,s,r));case 13:o++,e.next=2;break;case 16:return e.abrupt("return",n);case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function M(e,t,n){return P.apply(this,arguments)}function P(){return(P=u(a().mark((function e(t,n,r){var i,o;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r){e.next=2;break}return e.abrupt("return",n);case 2:i=f.iterator(n);case 3:if(0===(1&i.index)){e.next=20;break}return e.next=6,t.get(i.leftChild(),!1);case 6:if(!(o=e.sent)){e.next=16;break}if(o.size!==r){e.next=10;break}return e.abrupt("return",i.index);case 10:if(!(o.size>r)){e.next=12;break}return e.abrupt("continue",3);case 12:r-=o.size,i.sibling(),e.next=18;break;case 16:return i.parent(),e.abrupt("return",i.index);case 18:e.next=3;break;case 20:return e.abrupt("return",i.index);case 21:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function U(e,t,n){return N.apply(this,arguments)}function N(){return(N=u(a().mark((function e(t,n,r){var i;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.byteOffset(n);case 2:if(!((i=e.sent)>r)){e.next=5;break}throw m("Invalid seek");case 5:if(i!==r){e.next=7;break}return e.abrupt("return",n);case 7:return r-=i,e.next=10,t.get(n);case 10:if(!(e.sent.size<=r)){e.next=13;break}throw m("Invalid seek");case 13:return e.abrupt("return",M(t,n,r));case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function T(e,t,n,r){var i=f.iterator(t);for(r.seek=[],r.seek.push(e.get(i.index));i.index!==n;)i.sibling(),r.seek.push(e.get(i.index)),i.parent()}function O(e,t,n,r,i,o){if(!t)return T(e,r,i,o);var a=f.iterator(t.index);for(o.node=[],t.value||o.node.push(e.get(a.index));a.index!==i;)a.sibling(),n&&a.contains(r)&&a.index!==r?T(e,r,a.index,o):o.node.push(e.get(a.index)),a.parent()}function K(e,t,n,r,i,o,a){0===r&&(a.upgrade=[]);for(var s=f.iterator(0);s.fullRoot(i);s.nextTree())if(!(s.index+s.factor/2<r))if(null===a.upgrade&&s.contains(r-2)){a.upgrade=[];var u=s.index,l=r-2;for(s.seek(l);s.index!==u;)s.sibling(),s.index>l&&(null===a.node&&null===a.seek&&s.contains(o)?O(e,t,n,o,s.index,a):a.upgrade.push(e.get(s.index))),s.parent()}else null===a.upgrade&&(a.upgrade=[]),null===a.node&&null===a.seek&&s.contains(o)?O(e,t,n,o,s.index,a):a.upgrade.push(e.get(s.index))}function R(e,t,n,r){0===t&&(r.additionalUpgrade=[]);for(var i=f.iterator(0);i.fullRoot(n);i.nextTree())if(!(i.index+i.factor/2<t))if(null===r.additionalUpgrade&&i.contains(t-2)){r.additionalUpgrade=[];var o=i.index,a=t-2;for(i.seek(a);i.index!==o;)i.sibling(),i.index>a&&r.additionalUpgrade.push(e.get(i.index)),i.parent()}else null===r.additionalUpgrade&&(r.additionalUpgrade=[]),r.additionalUpgrade.push(e.get(i.index))}function F(e,t,n){for(var r=f.iterator(e),i=0;i<t;i++)if(r.parent(),r.contains(n))throw k("Nodes is out of bounds");return r.index}function Y(e){var t,n=0,r=s(e);try{for(r.s();!(t=r.n()).done;){n+=t.value.size}}catch(i){r.e(i)}finally{r.f()}return n}function z(e,t,n){return{index:t,size:n.byteLength,hash:e.data(n)}}function H(e,t,n,r){return{index:t,size:n.size+r.size,hash:e.parent(n,r)}}function j(e){return{index:e,size:0,hash:I}}function q(e,t,n,r){return new Promise((function(i,o){e.read(40*t,40,(function(e,a){if(e)return r?o(e):void i(null);var s=a.subarray(8),u=p.decode(p.uint64,a);if(0!==u||0!==y.compare(s,I)){var l={index:t,size:u,hash:s};null!==n&&n.set(t,l),i(l)}else r?o(new Error("Could not load node: "+t)):i(null)}))}))}function G(e){return new Promise((function(t){e.stat((function(e,n){if(!n)return t(0);t((n.size-n.size%40)/40)}))}))}function V(e){return W.apply(this,arguments)}function W(){return(W=u(a().mark((function e(t){var n,r,i;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,G(t);case 2:if(n=e.sent){e.next=5;break}return e.abrupt("return",0);case 5:r=f.iterator(n-1),i=n-1;case 7:return e.next=9,q(t,r.parent(),null,!1);case 9:if(!e.sent){e.next=13;break}i=r.index,e.next=7;break;case 13:return e.abrupt("return",f.rightSpan(i)/2+1);case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function J(e,t){var n,r=s(e.values());try{for(r.s();!(n=r.n()).done;){var i=n.value;i.index>=2*t&&e.delete(i.index)}}catch(o){r.e(o)}finally{r.f()}}function X(e,t){return e?{value:!0,index:2*e.index,nodes:e.nodes,lastIndex:e.index}:t?{value:!1,index:t.index,nodes:t.nodes,lastIndex:f.rightSpan(t.index)/2}:null}function Z(e){return $.apply(this,arguments)}function $(){return($=u(a().mark((function e(t){var n;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=[t.node&&Promise.all(t.node),t.seek&&Promise.all(t.seek),t.upgrade&&Promise.all(t.upgrade),t.additionalUpgrade&&Promise.all(t.additionalUpgrade)],e.prev=1,e.next=4,Promise.all(n);case 4:return e.abrupt("return",e.sent);case 7:if(e.prev=7,e.t0=e.catch(1),!t.node){e.next=12;break}return e.next=12,Promise.allSettled(t.node);case 12:if(!t.seek){e.next=15;break}return e.next=15,Promise.allSettled(t.seek);case 15:if(!t.upgrade){e.next=18;break}return e.next=18,Promise.allSettled(t.upgrade);case 18:if(!t.additionalUpgrade){e.next=21;break}return e.next=21,Promise.allSettled(t.additionalUpgrade);case 21:throw e.t0;case 22:case"end":return e.stop()}}),e,null,[[1,7]])})))).apply(this,arguments)}e.exports=function(){"use strict";function e(t,n,r,i){c(this,e),this.crypto=d,this.fork=r,this.roots=n,this.length=n.length?function(e){var t,n=0,r=s(e);try{for(r.s();!(t=r.n()).done;){n+=2*(t.value.index-n+1)}}catch(i){r.e(i)}finally{r.f()}return n}(n)/2:0,this.byteLength=Y(n),this.signature=i,this.storage=t,this.unflushed=new Map,this.cache=new g({maxSize:128}),this.flushing=null,this.truncated=!1,this.truncateTo=0}return h(e,[{key:"addNode",value:function(e){0===e.size&&y.equals(e.hash,I)&&(e=j(e.index)),this.unflushed.set(e.index,e)}},{key:"batch",value:function(){return new x(this)}},{key:"seek",value:function(e,t){return new S(this,e,t)}},{key:"hash",value:function(){return this.crypto.tree(this.roots)}},{key:"signable",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.hash();return A.treeSignable(e,this.length,this.fork)}},{key:"getRoots",value:function(e){for(var t=f.fullRoots(2*e),n=new Array(t.length),r=0;r<t.length;r++)n[r]=this.get(t[r],!0);return Promise.all(n)}},{key:"upgradeable",value:function(){var e=u(a().mark((function e(t){var n,r,i,o,u;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(n=f.fullRoots(2*t),r=new Array(n.length),i=0;i<n.length;i++)r[i]=this.get(n[i],!1);return e.t0=s,e.next=6,Promise.all(r);case 6:e.t1=e.sent,o=(0,e.t0)(e.t1),e.prev=8,o.s();case 10:if((u=o.n()).done){e.next=16;break}if(null!==u.value){e.next=14;break}return e.abrupt("return",!1);case 14:e.next=10;break;case 16:e.next=21;break;case 18:e.prev=18,e.t2=e.catch(8),o.e(e.t2);case 21:return e.prev=21,o.f(),e.finish(21);case 24:return e.abrupt("return",!0);case 25:case"end":return e.stop()}}),e,this,[[8,18,21,24]])})));return function(t){return e.apply(this,arguments)}}()},{key:"get",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=this.cache.get(e);if(n)return n;var r=this.unflushed.get(e);if(null!==this.flushing&&void 0===r&&(r=this.flushing.get(e)),this.truncated&&void 0!==r&&r.index>=2*this.truncateTo&&(r=j(e)),void 0!==r){if(r.hash===I){if(t)throw m("Could not load node: "+e);return Promise.resolve(null)}return Promise.resolve(r)}return q(this.storage,e,this.cache,t)}},{key:"flush",value:function(){var e=u(a().mark((function e(){var t,n,r;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.flushing=this.unflushed,this.unflushed=new Map,e.prev=2,!this.truncated){e.next=6;break}return e.next=6,this._flushTruncation();case 6:return e.next=8,this._flushNodes();case 8:e.next=15;break;case 10:e.prev=10,e.t0=e.catch(2),t=s(this.flushing.values());try{for(t.s();!(n=t.n()).done;)r=n.value,this.unflushed.has(r.index)||this.unflushed.set(r.index,r)}catch(i){t.e(i)}finally{t.f()}throw e.t0;case 15:return e.prev=15,this.flushing=null,e.finish(15);case 18:case"end":return e.stop()}}),e,this,[[2,10,15,18]])})));return function(){return e.apply(this,arguments)}}()},{key:"_flushTruncation",value:function(){var e=this;return new Promise((function(t,n){var r=e.truncateTo,i=0===r?0:80*(r-1)+40;e.storage.truncate(i,(function(i){if(i)return n(i);e.truncateTo===r&&(e.truncateTo=0,e.truncated=!1),t()}))}))}},{key:"_flushNodes",value:function(){var e=this;return new Promise((function(t,n){var r,i=y.allocUnsafe(40*e.flushing.size),o=null,a=e.flushing.size+1,u=0,l=s(e.flushing.values());try{for(l.s();!(r=l.n()).done;){var c=r.value,h={start:0,end:40,buffer:i.subarray(u,u+=40)};p.uint64.encode(h,c.size),p.raw.encode(h,c.hash),e.storage.write(40*c.index,h.buffer,f)}}catch(d){l.e(d)}finally{l.f()}function f(e){e&&(o=e),--a>0||(o?n(o):t())}f(null)}))}},{key:"clear",value:function(){return this.cache=new g({maxSize:this.cache.maxSize}),this.truncated=!0,this.truncateTo=0,this.roots=[],this.length=0,this.byteLength=0,this.fork=0,this.signature=null,null!==this.flushing&&this.flushing.clear(),this.unflushed.clear(),this.flush()}},{key:"close",value:function(){var e=this;return new Promise((function(t,n){e.storage.close((function(e){e?n(e):t()}))}))}},{key:"truncate",value:function(){var e=u(a().mark((function e(t){var n,r,i,o,s,u,l=arguments;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=l.length>1&&void 0!==l[1]?l[1]:this.fork,r=2*t,i=new x(this),o=f.fullRoots(r),s=0;case 5:if(!(s<o.length)){e.next=18;break}if(u=o[s],!(s<i.roots.length&&i.roots[s].index===u)){e.next=9;break}return e.abrupt("continue",15);case 9:for(;i.roots.length>s;)i.roots.pop();return e.t0=i.roots,e.next=13,this.get(u);case 13:e.t1=e.sent,e.t0.push.call(e.t0,e.t1);case 15:s++,e.next=5;break;case 18:for(;i.roots.length>o.length;)i.roots.pop();return i.fork=n,i.length=t,i.ancestors=t,i.byteLength=Y(i.roots),i.upgraded=!0,e.abrupt("return",i);case 25:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"reorg",value:function(){var e=u(a().mark((function e(t){var n,r,i,o,u,l;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=new C(this),r=null,(t.block||t.hash||t.seek)&&(r=B(t,this.crypto,n.nodes)),Q(t,r,n)){e.next=5;break}throw b("Fork proof not verifiable");case 5:i=s(n.roots),e.prev=6,i.s();case 8:if((o=i.n()).done){e.next=19;break}return u=o.value,e.next=12,this.get(u.index,!1);case 12:if(!(l=e.sent)||!y.equals(l.hash,u.hash)){e.next=15;break}return e.abrupt("continue",17);case 15:return n._updateDiffRoot(u),e.abrupt("break",19);case 17:e.next=8;break;case 19:e.next=24;break;case 21:e.prev=21,e.t0=e.catch(6),i.e(e.t0);case 24:return e.prev=24,i.f(),e.finish(24);case 27:if(null===n.diff){e.next=32;break}return e.next=30,n._update(n.nodes);case 30:e.next=34;break;case 32:n.want=null,n.ancestors=n.length;case 34:return e.abrupt("return",n);case 35:case"end":return e.stop()}}),e,this,[[6,21,24,27]])})));return function(t){return e.apply(this,arguments)}}()},{key:"verifyFullyRemote",value:function(e){var t=new x(this);t.fork=e.fork,t.roots=[],t.length=0,t.ancestors=0,t.byteLength=0;var n=B(e,this.crypto,t.nodes);return e.upgrade&&Q(e,n,t)&&(n=null),t}},{key:"verify",value:function(){var e=u(a().mark((function e(t){var n,r,i;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=new x(this),r=B(t,this.crypto,n.nodes),t.upgrade&&Q(t,r,n)&&(r=null),!r){e.next=9;break}return e.next=6,this.get(r.index);case 6:if(i=e.sent,y.equals(i.hash,r.hash)){e.next=9;break}throw _("Invalid checksum at node "+r.index);case 9:return e.abrupt("return",n);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"proof",value:function(){var e=u(a().mark((function e(t){var n,i,o,s,u,l,c,h,f,d,p,g,y,A,v,b,_,k,I,w;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.block,i=t.hash,o=t.seek,s=t.upgrade,u=this.fork,l=this.signature,c=2*this.length,h=s?2*s.start:0,f=s?h+2*s.length:c,d=X(n,i),!(h>=f||f>c)){e.next=9;break}throw m("Invalid upgrade");case 9:if(!(o&&s&&null!==d&&d.index>=h)){e.next=11;break}throw m("Cannot both do a seek and block/hash request when upgrading");case 11:if(p=c,g={node:null,seek:null,upgrade:null,additionalUpgrade:null},null===d||s&&!(d.lastIndex<s.start)){e.next=26;break}if(p=F(d.index,d.nodes,f),!o){e.next=21;break}return e.next=18,U(this,p,o.bytes);case 18:e.t0=e.sent,e.next=22;break;case 21:e.t0=c;case 22:y=e.t0,O(this,d,o,y,p,g),e.next=35;break;case 26:if(!d&&!o||!s){e.next=35;break}if(!o){e.next=33;break}return e.next=30,L(this,f,o.bytes);case 30:e.t1=e.sent,e.next=34;break;case 33:e.t1=d.index;case 34:p=e.t1;case 35:return s&&(K(this,d,o,h,f,p,g),c>f&&R(this,f,c,g)),e.next=38,Z(g);case 38:return A=e.sent,v=r(A,4),b=v[0],_=v[1],k=v[2],I=v[3],w={fork:u,block:null,hash:null,seek:null,upgrade:null},n?w.block={index:n.index,value:null,nodes:b}:i&&(w.hash={index:i.index,nodes:b}),o&&null!==_&&(w.seek={bytes:o.bytes,nodes:_}),s&&(w.upgrade={start:s.start,length:s.length,nodes:k,additionalNodes:I||[],signature:l}),e.abrupt("return",w);case 49:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"missingNodes",value:function(){var e=u(a().mark((function e(t){var n,r,i;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=2*this.length,r=f.iterator(t),!(r.index+r.factor/2-1>=n)){e.next=5;break}return e.abrupt("return",0);case 5:i=0;case 6:if(e.t0=!r.contains(n),!e.t0){e.next=12;break}return e.next=10,this.get(r.index,!1);case 10:e.t1=e.sent,e.t0=null===e.t1;case 12:if(!e.t0){e.next=17;break}i++,r.parent(),e.next=6;break;case 17:return e.abrupt("return",i);case 18:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"nodes",value:function(){var e=u(a().mark((function e(t){var n,r,i;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=2*this.length,r=f.iterator(t),i=0;case 3:if(e.t0=!r.contains(n),!e.t0){e.next=9;break}return e.next=7,this.get(r.index,!1);case 7:e.t1=e.sent,e.t0=null===e.t1;case 9:if(!e.t0){e.next=14;break}i++,r.parent(),e.next=3;break;case 14:return e.abrupt("return",i);case 15:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"byteRange",value:function(){var e=u(a().mark((function e(t){var n;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=2*this.length,!((0===(1&t)?t:f.rightSpan(t))>=n)){e.next=3;break}throw k("Index is out of bounds");case 3:return e.next=5,this.byteOffset(t);case 5:return e.t0=e.sent,e.next=8,this.get(t);case 8:return e.t1=e.sent.size,e.abrupt("return",[e.t0,e.t1]);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"byteOffset",value:function(){var e=u(a().mark((function e(t){var n,r,i,o,u,l;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:1===(1&t)&&(t=f.leftSpan(t)),n=0,r=0,i=s(this.roots),e.prev=4,i.s();case 6:if((o=i.n()).done){e.next=28;break}if(u=o.value,n+=2*(u.index-n+1),!(t>=n)){e.next=12;break}return r+=u.size,e.abrupt("continue",26);case 12:l=f.iterator(u.index);case 13:if(l.index===t){e.next=25;break}if(!(t<l.index)){e.next=18;break}l.leftChild(),e.next=23;break;case 18:return e.t0=r,e.next=21,this.get(l.leftChild());case 21:r=e.t0+=e.sent.size,l.sibling();case 23:e.next=13;break;case 25:return e.abrupt("return",r);case 26:e.next=6;break;case 28:e.next=33;break;case 30:e.prev=30,e.t1=e.catch(4),i.e(e.t1);case 33:return e.prev=33,i.f(),e.finish(33);case 36:case"end":return e.stop()}}),e,this,[[4,30,33,36]])})));return function(t){return e.apply(this,arguments)}}()}],[{key:"open",value:function(){var t=u(a().mark((function t(n){var r,i,o,u,l,c,h=arguments;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=h.length>1&&void 0!==h[1]?h[1]:{},t.next=3,new Promise((function(e,t){n.read(0,w.length,(function(n,r){return n?e():y.equals(r,w)?t(new Error("Storage contains an incompatible merkle tree")):void e()}))}));case 3:if("number"!==typeof r.length){t.next=7;break}t.t0=r.length,t.next=10;break;case 7:return t.next=9,V(n);case 9:t.t0=t.sent;case 10:i=t.t0,o=[],u=s(f.fullRoots(2*i)),t.prev=13,u.s();case 15:if((l=u.n()).done){t.next=24;break}return c=l.value,t.t1=o,t.next=20,q(n,c,null,!0);case 20:t.t2=t.sent,t.t1.push.call(t.t1,t.t2);case 22:t.next=15;break;case 24:t.next=29;break;case 26:t.prev=26,t.t3=t.catch(13),u.e(t.t3);case 29:return t.prev=29,u.f(),t.finish(29);case 32:return t.abrupt("return",new e(n,o,r.fork||0,r.signature||null));case 33:case"end":return t.stop()}}),t,null,[[13,26,29,32]])})));return function(e){return t.apply(this,arguments)}}()}]),e}()},5281:function(e,t,n){var r=n(2479),i=n(4587),o=n(5730).INVALID_OPLOG_VERSION,a=i.alloc(0),s={preencode:function(e,t){r.uint.preencode(e,t.index),r.uint.preencode(e,t.size),r.fixed32.preencode(e,t.hash)},encode:function(e,t){r.uint.encode(e,t.index),r.uint.encode(e,t.size),r.fixed32.encode(e,t.hash)},decode:function(e){return{index:r.uint.decode(e),size:r.uint.decode(e),hash:r.fixed32.decode(e)}}},u=r.array(s),l=t.wire={};l.handshake={preencode:function(e,t){r.uint.preencode(e,0),r.fixed32.preencode(e,t.capability)},encode:function(e,t){r.uint.encode(e,0),r.fixed32.encode(e,t.capability)},decode:function(e){return r.uint.decode(e),{capability:r.fixed32.decode(e)}}};var c=function(e,t){r.uint.preencode(e,t.index),r.uint.preencode(e,t.nodes)},h=function(e,t){r.uint.encode(e,t.index),r.uint.encode(e,t.nodes)},f=function(e){return{index:r.uint.decode(e),nodes:r.uint.decode(e)}},d=function(e,t){r.uint.preencode(e,t.bytes)},p=function(e,t){r.uint.encode(e,t.bytes)},g=function(e){return{bytes:r.uint.decode(e)}},y=function(e,t){r.uint.preencode(e,t.start),r.uint.preencode(e,t.length)},A=function(e,t){r.uint.encode(e,t.start),r.uint.encode(e,t.length)},v=function(e){return{start:r.uint.decode(e),length:r.uint.decode(e)}};l.request={preencode:function(e,t){e.end++,r.uint.preencode(e,t.id),r.uint.preencode(e,t.fork),t.block&&c(e,t.block),t.hash&&c(e,t.hash),t.seek&&d(e,t.seek),t.upgrade&&y(e,t.upgrade)},encode:function(e,t){var n=(t.block?1:0)|(t.hash?2:0)|(t.seek?4:0)|(t.upgrade?8:0);r.uint.encode(e,n),r.uint.encode(e,t.id),r.uint.encode(e,t.fork),t.block&&h(e,t.block),t.hash&&h(e,t.hash),t.seek&&p(e,t.seek),t.upgrade&&A(e,t.upgrade)},decode:function(e){var t=r.uint.decode(e);return{id:r.uint.decode(e),fork:r.uint.decode(e),block:1&t?f(e):null,hash:2&t?f(e):null,seek:4&t?g(e):null,upgrade:8&t?v(e):null}}},l.cancel={preencode:function(e,t){r.uint.preencode(e,t.request)},encode:function(e,t){r.uint.encode(e,t.request)},decode:function(e,t){return{request:r.uint.decode(e)}}};var b=function(e,t){r.uint.preencode(e,t.start),r.uint.preencode(e,t.length),u.preencode(e,t.nodes),u.preencode(e,t.additionalNodes),r.buffer.preencode(e,t.signature)},_=function(e,t){r.uint.encode(e,t.start),r.uint.encode(e,t.length),u.encode(e,t.nodes),u.encode(e,t.additionalNodes),r.buffer.encode(e,t.signature)},m=function(e){return{start:r.uint.decode(e),length:r.uint.decode(e),nodes:u.decode(e),additionalNodes:u.decode(e),signature:r.buffer.decode(e)}},k=function(e,t){r.uint.preencode(e,t.bytes),u.preencode(e,t.nodes)},I=function(e,t){r.uint.encode(e,t.bytes),u.encode(e,t.nodes)},w=function(e){return{bytes:r.uint.decode(e),nodes:u.decode(e)}},E=function(e,t){r.uint.preencode(e,t.index),r.buffer.preencode(e,t.value),u.preencode(e,t.nodes)},x=function(e,t){r.uint.encode(e,t.index),r.buffer.encode(e,t.value),u.encode(e,t.nodes)},C=function(e){return{index:r.uint.decode(e),value:r.buffer.decode(e)||a,nodes:u.decode(e)}},S=function(e,t){r.uint.preencode(e,t.index),u.preencode(e,t.nodes)},B=function(e,t){r.uint.encode(e,t.index),u.encode(e,t.nodes)},Q=function(e){return{index:r.uint.decode(e),nodes:u.decode(e)}};l.data={preencode:function(e,t){e.end++,r.uint.preencode(e,t.request),r.uint.preencode(e,t.fork),t.block&&E(e,t.block),t.hash&&S(e,t.hash),t.seek&&k(e,t.seek),t.upgrade&&b(e,t.upgrade)},encode:function(e,t){var n=(t.block?1:0)|(t.hash?2:0)|(t.seek?4:0)|(t.upgrade?8:0);r.uint.encode(e,n),r.uint.encode(e,t.request),r.uint.encode(e,t.fork),t.block&&x(e,t.block),t.hash&&B(e,t.hash),t.seek&&I(e,t.seek),t.upgrade&&_(e,t.upgrade)},decode:function(e){var t=r.uint.decode(e);return{request:r.uint.decode(e),fork:r.uint.decode(e),block:1&t?C(e):null,hash:2&t?Q(e):null,seek:4&t?w(e):null,upgrade:8&t?m(e):null}}},l.noData={preencode:function(e,t){r.uint.preencode(e,t.request)},encode:function(e,t){r.uint.encode(e,t.request)},decode:function(e,t){return{request:r.uint.decode(e)}}},l.want={preencode:function(e,t){r.uint.preencode(e,t.start),r.uint.preencode(e,t.length)},encode:function(e,t){r.uint.encode(e,t.start),r.uint.encode(e,t.length)},decode:function(e){return{start:r.uint.decode(e),length:r.uint.decode(e)}}},l.unwant={preencode:function(e,t){r.uint.preencode(e,t.start),r.uint.preencode(e,t.length)},encode:function(e,t){r.uint.encode(e,t.start),r.uint.encode(e,t.length)},decode:function(e,t){return{start:r.uint.decode(e),length:r.uint.decode(e)}}},l.range={preencode:function(e,t){e.end++,r.uint.preencode(e,t.start),1!==t.length&&r.uint.preencode(e,t.length)},encode:function(e,t){r.uint.encode(e,(t.drop?1:0)|(1===t.length?2:0)),r.uint.encode(e,t.start),1!==t.length&&r.uint.encode(e,t.length)},decode:function(e){var t=r.uint.decode(e);return{drop:0!==(1&t),start:r.uint.decode(e),length:0!==(2&t)?1:r.uint.decode(e)}}},l.bitfield={preencode:function(e,t){r.uint.preencode(e,t.start),r.uint32array.preencode(e,t.bitfield)},encode:function(e,t){r.uint.encode(e,t.start),r.uint32array.encode(e,t.bitfield)},decode:function(e,t){return{start:r.uint.decode(e),bitfield:r.uint32array.decode(e)}}},l.sync={preencode:function(e,t){e.end++,r.uint.preencode(e,t.fork),r.uint.preencode(e,t.length),r.uint.preencode(e,t.remoteLength)},encode:function(e,t){r.uint.encode(e,(t.canUpgrade?1:0)|(t.uploading?2:0)|(t.downloading?4:0)),r.uint.encode(e,t.fork),r.uint.encode(e,t.length),r.uint.encode(e,t.remoteLength)},decode:function(e){var t=r.uint.decode(e);return{fork:r.uint.decode(e),length:r.uint.decode(e),remoteLength:r.uint.decode(e),canUpgrade:0!==(1&t),uploading:0!==(2&t),downloading:0!==(4&t)}}},l.reorgHint={preencode:function(e,t){r.uint.preencode(e,t.from),r.uint.preencode(e,t.to),r.uint.preencode(e,t.ancestors)},encode:function(e,t){r.uint.encode(e,t.from),r.uint.encode(e,t.to),r.uint.encode(e,t.ancestors)},decode:function(e){return{from:r.uint.encode(e),to:r.uint.encode(e),ancestors:r.uint.encode(e)}}},l.extension={preencode:function(e,t){r.string.preencode(e,t.name),r.raw.preencode(e,t.message)},encode:function(e,t){r.string.encode(e,t.name),r.raw.encode(e,t.message)},decode:function(e){return{name:r.string.decode(e),message:r.raw.decode(e)}}};var L={preencode:function(e,t){r.string.preencode(e,t.key),r.buffer.preencode(e,t.value)},encode:function(e,t){r.string.encode(e,t.key),r.buffer.encode(e,t.value)},decode:function(e){return{key:r.string.decode(e),value:r.buffer.decode(e)}}},D=function(e,t){r.uint.preencode(e,t.fork),r.uint.preencode(e,t.ancestors),r.uint.preencode(e,t.length),r.buffer.preencode(e,t.signature)},M=function(e,t){r.uint.encode(e,t.fork),r.uint.encode(e,t.ancestors),r.uint.encode(e,t.length),r.buffer.encode(e,t.signature)},P=function(e){return{fork:r.uint.decode(e),ancestors:r.uint.decode(e),length:r.uint.decode(e),signature:r.buffer.decode(e)}},U=function(e,t){e.end++,r.uint.preencode(e,t.start),r.uint.preencode(e,t.length)},N=function(e,t){e.buffer[e.start++]=t.drop?1:0,r.uint.encode(e,t.start),r.uint.encode(e,t.length)},T=function(e){return{drop:0!==(1&r.uint.decode(e)),start:r.uint.decode(e),length:r.uint.decode(e)}},O=t.oplog={};O.entry={preencode:function(e,t){e.end++,t.userData&&L.preencode(e,t.userData),t.treeNodes&&u.preencode(e,t.treeNodes),t.treeUpgrade&&D(e,t.treeUpgrade),t.bitfield&&U(e,t.bitfield)},encode:function(e,t){var n=e.start++,r=0;t.userData&&(r|=1,L.encode(e,t.userData)),t.treeNodes&&(r|=2,u.encode(e,t.treeNodes)),t.treeUpgrade&&(r|=4,M(e,t.treeUpgrade)),t.bitfield&&(r|=8,N(e,t.bitfield)),e.buffer[n]=r},decode:function(e){var t=r.uint.decode(e);return{userData:0!==(1&t)?L.decode(e):null,treeNodes:0!==(2&t)?u.decode(e):null,treeUpgrade:0!==(4&t)?P(e):null,bitfield:0!==(8&t)?T(e):null}}};var K=function(e,t){r.buffer.preencode(e,t.publicKey),r.buffer.preencode(e,t.secretKey)},R=function(e,t){r.buffer.encode(e,t.publicKey),r.buffer.encode(e,t.secretKey)},F=function(e){return{publicKey:r.buffer.decode(e),secretKey:r.buffer.decode(e)}},Y={preencode:function(e,t){r.uint.preencode(e,t.from),r.uint.preencode(e,t.to),r.uint.preencode(e,t.ancestors)},encode:function(e,t){r.uint.encode(e,t.from),r.uint.encode(e,t.to),r.uint.encode(e,t.ancestors)},decode:function(e){return{from:r.uint.decode(e),to:r.uint.decode(e),ancestors:r.uint.decode(e)}}},z=r.array(Y),H=function(e,t){z.preencode(e,t.reorgs)},j=function(e,t){z.encode(e,t.reorgs)},q=function(e){return{reorgs:z.decode(e)}},G=function(e,t){r.uint.preencode(e,t.fork),r.uint.preencode(e,t.length),r.buffer.preencode(e,t.rootHash),r.buffer.preencode(e,t.signature)},V=function(e,t){r.uint.encode(e,t.fork),r.uint.encode(e,t.length),r.buffer.encode(e,t.rootHash),r.buffer.encode(e,t.signature)},W=function(e){return{fork:r.uint.decode(e),length:r.uint.decode(e),rootHash:r.buffer.decode(e),signature:r.buffer.decode(e)}},J=function(e,t){r.string.preencode(e,t.tree),r.string.preencode(e,t.bitfield),r.string.preencode(e,t.signer)},X=function(e,t){r.string.encode(e,t.tree),r.string.encode(e,t.bitfield),r.string.encode(e,t.signer)},Z=function(e){return{tree:r.string.decode(e),bitfield:r.string.decode(e),signer:r.string.decode(e)}},$=r.array(L);O.header={preencode:function(e,t){e.end+=1,J(e,t.types),$.preencode(e,t.userData),G(e,t.tree),K(e,t.signer),H(e,t.hints),r.uint.preencode(e,t.contiguousLength)},encode:function(e,t){e.buffer[e.start++]=0,X(e,t.types),$.encode(e,t.userData),V(e,t.tree),R(e,t.signer),j(e,t.hints),r.uint.encode(e,t.contiguousLength)},decode:function(e){var t=r.uint.decode(e);if(0!==t)throw o("Invalid header version. Expected 0, got "+t);return{types:Z(e),userData:$.decode(e),tree:W(e),signer:F(e),hints:q(e),contiguousLength:e.end>e.start?r.uint.decode(e):0}}}},604:function(e,t,n){var r=n(6690).default,i=n(9728).default;e.exports=function(){"use strict";function e(){var t=this;r(this,e),this.locked=!1,this.destroyed=!1,this._destroying=null,this._destroyError=null,this._queue=[],this._enqueue=function(e,n){return t._queue.push([e,n])}}return i(e,[{key:"lock",value:function(){return this.destroyed?Promise.reject(this._destroyError):this.locked?new Promise(this._enqueue):(this.locked=!0,Promise.resolve())}},{key:"unlock",value:function(){this._queue.length?this._queue.shift()[0]():this.locked=!1}},{key:"destroy",value:function(e){if(this._destroying||(this._destroying=this.locked?this.lock().catch((function(){})):Promise.resolve()),this.destroyed=!0,this._destroyError=e||new Error("Mutex has been destroyed"),e)for(;this._queue.length;)this._queue.shift()[1](e);return this._destroying}}]),e}()},5166:function(e,t,n){var r=n(7061).default,i=n(7156).default,o=n(6690).default,a=n(9728).default,s=n(2479),u=n(4587),l=n(5680).crc32,c=n(5730).OPLOG_CORRUPT;e.exports=function(){"use strict";function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.pageSize,i=void 0===r?4096:r,a=n.headerEncoding,u=void 0===a?s.raw:a,l=n.entryEncoding,c=void 0===l?s.raw:l;o(this,e),this.storage=t,this.headerEncoding=u,this.entryEncoding=c,this.flushed=!1,this.byteLength=0,this.length=0,this._headers=[1,0],this._pageSize=i,this._entryOffset=2*i}return a(e,[{key:"_addHeader",value:function(e,t,n,r){e.start=e.start-t-4,s.uint32.encode(e,t<<2|n|r),e.start-=8,s.uint32.encode(e,l(e.buffer.subarray(e.start+4,e.start+8+t))),e.start+=t+4}},{key:"_decodeEntry",value:function(e,t){if(e.end-e.start<8)return null;var n=s.uint32.decode(e),r=s.uint32.decode(e),i=r>>>2,o=1&r,a=2&r;if(e.end-e.start<i)return null;var u=e.start+i;if(l(e.buffer.subarray(e.start-4,u))!==n)return null;var c={header:o,partial:0!==a,byteLength:i+8,message:null};try{c.message=t.decode({start:e.start,end:u,buffer:e.buffer})}catch(h){return null}return e.start=u,c}},{key:"open",value:function(){var e=i(r().mark((function e(){var t,n,i,o,a,s,u,l,h,f,d,p,g=this;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._readAll();case 2:if(t=e.sent,n={start:0,end:t.byteLength,buffer:t},i={header:null,entries:[]},this.byteLength=0,this.length=0,o=this._decodeEntry(n,this.headerEncoding),n.start=this._pageSize,a=this._decodeEntry(n,this.headerEncoding),n.start=this._entryOffset,o||a){e.next=18;break}if(this.flushed=!1,this._headers[0]=1,this._headers[1]=0,!(t.byteLength>=this._entryOffset)){e.next=17;break}throw c();case 17:return e.abrupt("return",i);case 18:this.flushed=!0,o&&!a?(this._headers[0]=o.header,this._headers[1]=o.header):!o&&a?(this._headers[0]=a.header+1&1,this._headers[1]=a.header):(this._headers[0]=o.header,this._headers[1]=a.header),s=this._headers[0]+this._headers[1]&1,u=[],i.header=s?a.message:o.message;case 23:if(l=this._decodeEntry(n,this.entryEncoding)){e.next=27;break}return e.abrupt("break",32);case 27:if(l.header===s){e.next=29;break}return e.abrupt("break",32);case 29:u.push(l),e.next=23;break;case 32:for(;u.length>0&&u[u.length-1].partial;)u.pop();for(h=0,f=u;h<f.length;h++)d=f[h],i.entries.push(d.message),this.byteLength+=d.byteLength,this.length++;if((p=this.byteLength+this._entryOffset)!==t.byteLength){e.next=37;break}return e.abrupt("return",i);case 37:return e.next=39,new Promise((function(e,t){g.storage.truncate(p,(function(n){if(n)return t(n);e()}))}));case 39:return e.abrupt("return",i);case 40:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_readAll",value:function(){var e=this;return new Promise((function(t,n){e.storage.open((function(r){return r&&"ENOENT"!==r.code?n(r):r?t(u.alloc(0)):void e.storage.stat((function(r,i){if(r&&"ENOENT"!==r.code)return n(r);e.storage.read(0,i.size,(function(e,r){if(e)return n(e);t(r)}))}))}))}))}},{key:"flush",value:function(e){var t={start:8,end:8,buffer:null},n=this._headers[0]===this._headers[1]?1:0,r=this._headers[n]+1&1;return this.headerEncoding.preencode(t,e),t.buffer=u.allocUnsafe(t.end),this.headerEncoding.encode(t,e),this._addHeader(t,t.end-8,r,0),this._writeHeaderAndTruncate(n,r,t.buffer)}},{key:"_writeHeaderAndTruncate",value:function(e,t,n){var r=this;return new Promise((function(i,o){r.storage.write(0===e?0:r._pageSize,n,(function(n){if(n)return o(n);r.storage.truncate(r._entryOffset,(function(n){if(n)return o(n);r._headers[e]=t,r.byteLength=0,r.length=0,r.flushed=!0,i()}))}))}))}},{key:"append",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];Array.isArray(e)||(e=[e]);for(var n={start:0,end:8*e.length,buffer:null},r=this._headers[0]+this._headers[1]&1,i=0;i<e.length;i++)this.entryEncoding.preencode(n,e[i]);n.buffer=u.allocUnsafe(n.end);for(var o=0;o<e.length;o++){var a=n.start+=8,s=t&&o<e.length-1?2:0;this.entryEncoding.encode(n,e[o]),this._addHeader(n,n.start-a,r,s)}return this._append(n.buffer,e.length)}},{key:"close",value:function(){var e=this;return new Promise((function(t,n){e.storage.close((function(e){if(e)return n(e);t()}))}))}},{key:"_append",value:function(e,t){var n=this;return new Promise((function(r,i){n.storage.write(n._entryOffset+n.byteLength,e,(function(o){if(o)return i(o);n.byteLength+=e.byteLength,n.length+=t,r()}))}))}}]),e}()},9176:function(e,t,n){var r=n(6690).default,i=n(9728).default,o=n(1493),a=n(7309).c,s=32768,u=1024,l=2097152,c=64,h=function(){"use strict";function e(t,n,i){r(this,e),this.index=t,this.offset=4096*t-i.offset,this.bitfield=n,this.segment=i,i.add(this)}return i(e,[{key:"tree",get:function(){return this.segment.tree}},{key:"get",value:function(e){return a.get(this.bitfield,e)}},{key:"set",value:function(e,t){a.set(this.bitfield,e,t)&&this.tree.update(8*this.offset+e)}},{key:"setRange",value:function(e,t,n){a.fill(this.bitfield,n,e,e+t);for(var r=Math.floor(e/32),i=r+Math.ceil(t/32);r<i;)this.tree.update(8*this.offset+32*r++)}},{key:"findFirst",value:function(e,t){return a.findFirst(this.bitfield,e,t)}},{key:"findLast",value:function(e,t){return a.findLast(this.bitfield,e,t)}},{key:"insert",value:function(e,t){this.bitfield.set(t,e/32)}}]),e}(),f=function(){"use strict";function e(t){r(this,e),this.index=t,this.offset=262144*t,this.tree=a.Index.from([]),this.pages=new Array(c)}return i(e,[{key:"chunks",get:function(){return this.tree.chunks}},{key:"add",value:function(e){this.pages[e.index-this.index*c]=e;var t={field:e.bitfield,offset:e.offset};this.chunks.push(t);for(var n=this.chunks.length-2;n>=0;n--){var r=this.chunks[n];if(r.offset<=t.offset)break;this.chunks[n]=t,this.chunks[n+1]=r}}},{key:"findFirst",value:function(e,t){var n=32767&(t=this.tree.skipFirst(!e,t)),r=(t-n)/s;if(r>=c)return-1;var i=this.pages[r];if(i){var o=i.findFirst(e,n);if(-1!==o)return r*s+o}return-1}},{key:"findLast",value:function(e,t){var n=32767&(t=this.tree.skipLast(!e,t)),r=(t-n)/s;if(r>=c)return-1;var i=this.pages[r];if(i){var o=i.findLast(e,n);if(-1!==o)return r*s+o}return-1}}]),e}();e.exports=function(){"use strict";function e(){r(this,e),this._pages=new o,this._segments=new o}return i(e,[{key:"get",value:function(e){var t=32767&e,n=(e-t)/s,r=this._pages.get(n);return!!r&&r.get(t)}},{key:"set",value:function(e,t){var n=32767&e,r=(e-n)/s,i=this._pages.get(r);if(!i&&t){var o=Math.floor(r/c),a=this._segments.get(o)||this._segments.set(o,new f(o));i=this._pages.set(r,new h(r,new Uint32Array(u),a))}i&&i.set(n,t)}},{key:"setRange",value:function(e,t,n){for(var r=32767&e,i=(e-r)/s;t>0;){var o=this._pages.get(i);if(!o&&n){var a=Math.floor(i/c),l=this._segments.get(a)||this._segments.set(a,new f(a));o=this._pages.set(i,new h(i,new Uint32Array(u),l))}var d=Math.min(r+t,s)-r;o&&o.setRange(r,d,n),r=0,i++,t-=d}}},{key:"findFirst",value:function(e,t){for(var n=2097151&t,r=(t-n)/l;r<this._segments.maxLength;){var i=this._segments.get(r);if(i){var o=i.findFirst(e,n);if(-1!==o)return r*l+o}n=0,r++}return-1}},{key:"firstSet",value:function(e){return this.findFirst(!0,e)}},{key:"firstUnset",value:function(e){return this.findFirst(!1,e)}},{key:"findLast",value:function(e,t){for(var n=2097151&t,r=(t-n)/l;r>=0;){var i=this._segments.get(r);if(i){var o=i.findLast(e,n);if(-1!==o)return r*l+o}n=2097151,r--}return-1}},{key:"lastSet",value:function(e){return this.findLast(!0,e)}},{key:"lastUnset",value:function(e){return this.findLast(!1,e)}},{key:"insert",value:function(e,t){if(e%32!==0)return!1;for(var n=8*t.byteLength,r=32767&e,i=(e-r)/s;n>0;){var o=this._pages.get(i);if(!o){var a=Math.floor(i/c),l=this._segments.get(a)||this._segments.set(a,new f(a));o=this._pages.set(i,new h(i,new Uint32Array(u),l))}var d=Math.min(r+n,s)-r;o.insert(r,t.subarray(0,d/32)),t=t.subarray(d/32),r=0,i++,n-=d}return!0}}]),e}()},1584:function(e,t,n){var r=n(7156).default,i=n(7061).default,o=n(4704).default,a=n(1655).default,s=n(6389).default,u=n(6690).default,l=n(9728).default,c=n(4587),h=n(8451),f=n(545),d=n(9176),p=n(5730),g=p.REQUEST_CANCELLED,y=p.REQUEST_TIMEOUT,A=p.INVALID_CAPABILITY,v=p.SNAPSHOT_NOT_AVAILABLE,b=n(5281),_=n(4629),m=131072,k=function(){"use strict";function e(){u(this,e),this.resolved=!1,this.refs=[]}return l(e,[{key:"attach",value:function(e){var t={context:this,session:e,sindex:0,rindex:0,snapshot:!0,resolve:null,reject:null,promise:null,timeout:null};return t.sindex=e.push(t)-1,t.rindex=this.refs.push(t)-1,t.promise=new Promise((function(e,n){t.resolve=e,t.reject=n})),t}},{key:"detach",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return e.context===this&&(this._detach(e),this._cancel(e,t),this.gc(),!0)}},{key:"_detach",value:function(e){var t=this.refs.pop(),n=e.session.pop();return e.rindex<this.refs.length&&(this.refs[t.rindex=e.rindex]=t),e.sindex<e.session.length&&(e.session[n.sindex=e.sindex]=n),U(e),e.context=null,e}},{key:"gc",value:function(){0===this.refs.length&&this._unref()}},{key:"_cancel",value:function(e,t){e.reject(t||g())}},{key:"_unref",value:function(){}},{key:"resolve",value:function(e){for(this.resolved=!0;this.refs.length>0;)this._detach(this.refs[this.refs.length-1]).resolve(e)}},{key:"reject",value:function(e){for(this.resolved=!0;this.refs.length>0;)this._detach(this.refs[this.refs.length-1]).reject(e)}},{key:"setTimeout",value:function(e){function t(t,n){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e,t){U(e),e.timeout=setTimeout(P,t,e)}))}]),e}(),I=function(e){"use strict";a(n,e);var t=s(n);function n(e,r){var i;return u(this,n),(i=t.call(this)).index=r,i.inflight=[],i.queued=!1,i.tracker=e,i}return l(n,[{key:"_unref",value:function(){this.inflight.length>0||this.tracker.remove(this.index)}}]),n}(k),w=function(e){"use strict";a(n,e);var t=s(n);function n(e,r,i,o,a,s){var l;return u(this,n),(l=t.call(this)).start=r,l.end=i,l.linear=o,l.ifAvailable=a,l.blocks=s,l.ranges=e,l.userStart=r,l.userEnd=i,l}return l(n,[{key:"_unref",value:function(){var e=this.ranges.indexOf(this);if(-1!==e){var t=this.ranges.pop();e<this.ranges.length-1&&(this.ranges[e]=t)}}},{key:"_cancel",value:function(e){e.resolve(!1)}}]),n}(k),E=function(e){"use strict";a(n,e);var t=s(n);function n(e,r,i){var o;return u(this,n),(o=t.call(this)).fork=r,o.length=i,o.inflight=[],o.replicator=e,o}return l(n,[{key:"_unref",value:function(){!0===this.replicator.eagerUpgrade||this.inflight.length>0||(this.replicator._upgrade=null)}},{key:"_cancel",value:function(e){e.resolve(!1)}}]),n}(k),x=function(e){"use strict";a(n,e);var t=s(n);function n(e,r){var i;return u(this,n),(i=t.call(this)).seeker=r,i.inflight=[],i.seeks=e,i}return l(n,[{key:"_unref",value:function(){if(!(this.inflight.length>0)){var e=this.seeks.indexOf(this);if(-1!==e){var t=this.seeks.pop();e<this.seeks.length-1&&(this.seeks[e]=t)}}}}]),n}(k),C=function(e){"use strict";function t(){u(this,t),this._requests=[],this._free=[]}return l(t,[{key:"idle",get:function(){return this._requests.length===this._free.length}},{key:e,value:i().mark((function e(){var t,n,r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=o(this._requests),e.prev=1,t.s();case 3:if((n=t.n()).done){e.next=10;break}if(null===(r=n.value)){e.next=8;break}return e.next=8,r;case 8:e.next=3;break;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(1),t.e(e.t0);case 15:return e.prev=15,t.f(),e.finish(15);case 18:case"end":return e.stop()}}),e,this,[[1,12,15,18]])}))},{key:"add",value:function(e){var t=this._free.length?this._free.pop():this._requests.push(null);return e.id=t,this._requests[t-1]=e,e}},{key:"get",value:function(e){return e<=this._requests.length?this._requests[e-1]:null}},{key:"remove",value:function(e){e<=this._requests.length&&(this._requests[e-1]=null,this._free.push(e))}}]),t}(Symbol.iterator),S=function(e){"use strict";function t(){u(this,t),this._map=new Map}return l(t,[{key:e,value:function(){return this._map.values()}},{key:"isEmpty",value:function(){return 0===this._map.size}},{key:"has",value:function(e){return this._map.has(e)}},{key:"get",value:function(e){return this._map.get(e)||null}},{key:"add",value:function(e){var t=this._map.get(e);return t||(t=new I(this,e),this._map.set(e,t),t)}},{key:"remove",value:function(e){var t=this.get(e);return this._map.delete(e),t}}]),t}(Symbol.iterator),B=function(){"use strict";function e(t,n,r,i){u(this,e),this.core=t.core,this.replicator=t,this.stream=n.stream,this.protomux=n,this.remotePublicKey=this.stream.remotePublicKey,this.paused=!1,this.session=i,this.channel=r,this.channel.userData=this,this.wireSync=this.channel.messages[0],this.wireRequest=this.channel.messages[1],this.wireCancel=null,this.wireData=this.channel.messages[3],this.wireNoData=this.channel.messages[4],this.wireWant=this.channel.messages[5],this.wireUnwant=this.channel.messages[6],this.wireBitfield=this.channel.messages[7],this.wireRange=this.channel.messages[8],this.wireExtension=this.channel.messages[9],this.inflight=0,this.maxInflight=32,this.dataProcessing=0,this.canUpgrade=!0,this.needsSync=!1,this.syncsProcessing=0,this.remoteOpened=!1,this.remoteBitfield=new d,this.remoteFork=0,this.remoteLength=0,this.remoteCanUpgrade=!1,this.remoteUploading=!0,this.remoteDownloading=!0,this.remoteSynced=!1,this.segmentsWanted=new Set,this.broadcastedNonSparse=!1,this.lengthAcked=0,this.extensions=new Map,this.lastExtensionSent="",this.lastExtensionRecv="",t._ifAvailable++}return l(e,[{key:"signalUpgrade",value:function(){!0===this._shouldUpdateCanUpgrade()?this._updateCanUpgradeAndSync():this.sendSync()}},{key:"broadcastRange",value:function(e,t,n){this.wireRange.send({drop:n,start:e,length:t})}},{key:"extension",value:function(e,t){this.wireExtension.send({name:e===this.lastExtensionSent?"":e,message:t}),this.lastExtensionSent=e}},{key:"onextension",value:function(e){var t=e.name||this.lastExtensionRecv;this.lastExtensionRecv=t;var n=this.extensions.get(t);n&&n._onmessage({start:0,end:e.byteLength,buffer:e.message},this)}},{key:"sendSync",value:function(){0===this.syncsProcessing?(this.core.tree.fork!==this.remoteFork&&(this.canUpgrade=!1),this.needsSync=!1,this.wireSync.send({fork:this.core.tree.fork,length:this.core.tree.length,remoteLength:this.core.tree.fork===this.remoteFork?this.remoteLength:0,canUpgrade:this.canUpgrade,uploading:!0,downloading:!0})):this.needsSync=!0}},{key:"onopen",value:function(e){var t=e.capability,n=_.replicate(!1===this.stream.isInitiator,this.replicator.key,this.stream.handshakeHash);if(!0!==c.equals(t,n))throw A("Remote sent an invalid replication capability");if(!0!==this.remoteOpened){this.remoteOpened=!0,this.protomux.cork(),this.sendSync();var r=this.core.header.contiguousLength;r>0&&(this.broadcastRange(0,r,!1),r===this.core.tree.length&&(this.broadcastedNonSparse=!0)),this.replicator._ifAvailable--,this.replicator._addPeer(this),this.protomux.uncork()}}},{key:"onclose",value:function(e){if(this.session&&this.session.close().catch(D),!1===this.remoteOpened)return this.replicator._ifAvailable--,void this.replicator.updateAll();this.remoteOpened=!1,this.replicator._removePeer(this)}},{key:"onsync",value:function(){var e=r(i().mark((function e(t){var n,r,o,a,s,u,l,c,h;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.fork,r=t.length,o=t.remoteLength,a=t.canUpgrade,s=t.uploading,u=t.downloading,l=r!==this.remoteLength,c=n===this.core.tree.fork,this.remoteSynced=!0,this.remoteFork=n,this.remoteLength=r,this.remoteCanUpgrade=a,this.remoteUploading=s,this.remoteDownloading=u,this.lengthAcked=c?o:0,this.syncsProcessing++,this.replicator._updateFork(this),this.remoteLength>this.core.tree.length&&this.lengthAcked===this.core.tree.length&&null!==this.replicator._addUpgradeMaybe()&&this._update(),!1!==l&&!1!==c){e.next=17;break}e.t0=this.canUpgrade&&c,e.next=20;break;case 17:return e.next=19,this._canUpgrade(r,n);case 19:e.t0=e.sent;case 20:if(h=e.t0,r===this.remoteLength&&n===this.core.tree.fork&&(this.canUpgrade=h),0===--this.syncsProcessing){e.next=24;break}return e.abrupt("return");case 24:(!0===this.needsSync||this.core.tree.fork===this.remoteFork&&this.core.tree.length>this.remoteLength)&&this.signalUpgrade(),this._update();case 26:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_shouldUpdateCanUpgrade",value:function(){return this.core.tree.fork===this.remoteFork&&this.core.tree.length>this.remoteLength&&!1===this.canUpgrade&&0===this.syncsProcessing}},{key:"_updateCanUpgradeAndSync",value:function(){var e=r(i().mark((function e(){var t,n,r,o;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.core.tree,n=t.length,r=t.fork,e.next=3,this._canUpgrade(this.remoteLength,this.remoteFork);case 3:if(o=e.sent,!(this.syncsProcessing>0||n!==this.core.tree.length||r!==this.core.tree.fork)){e.next=6;break}return e.abrupt("return");case 6:if(o!==this.canUpgrade){e.next=8;break}return e.abrupt("return");case 8:this.canUpgrade=o,this.sendSync();case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_canUpgrade",value:function(){var e=r(i().mark((function e(t,n){var r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n===this.core.tree.fork){e.next=2;break}return e.abrupt("return",!1);case 2:if(0!==t){e.next=4;break}return e.abrupt("return",!0);case 4:if(!(t>=this.core.tree.length)){e.next=6;break}return e.abrupt("return",!1);case 6:return e.prev=6,e.next=9,this.core.tree.upgradeable(t);case 9:if(r=e.sent,n===this.core.tree.fork){e.next=12;break}return e.abrupt("return",!1);case 12:return e.abrupt("return",r);case 15:return e.prev=15,e.t0=e.catch(6),e.abrupt("return",!1);case 18:case"end":return e.stop()}}),e,this,[[6,15]])})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_getProof",value:function(){var e=r(i().mark((function e(t){var n,r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.core.tree.proof(t);case 2:if(!(n=e.sent).block){e.next=10;break}if(r=t.block.index,t.fork===this.core.tree.fork&&this.core.bitfield.get(r)){e.next=7;break}return e.abrupt("return",null);case 7:return e.next=9,this.core.blocks.get(r);case 9:n.block.value=e.sent;case 10:return e.abrupt("return",n);case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onrequest",value:function(){var e=r(i().mark((function e(t){var n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=null,t.fork!==this.core.tree.fork){e.next=11;break}return e.prev=2,e.next=5,this._getProof(t);case 5:n=e.sent,e.next=11;break;case 8:e.prev=8,e.t0=e.catch(2),h(e.t0);case 11:if(null===n){e.next=15;break}return null!==n.block&&this.replicator.onupload(n.block.index,n.block.value,this),this.wireData.send({request:t.id,fork:t.fork,block:n.block,hash:n.hash,seek:n.seek,upgrade:n.upgrade}),e.abrupt("return");case 15:this.wireNoData.send({request:t.id});case 16:case"end":return e.stop()}}),e,this,[[2,8]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_checkIfConflict",value:function(e){this.paused=!0;var t=Math.min(this.core.tree.length,this.remoteLength);if(0===t)throw e;this.wireRequest.send({id:0,fork:this.remoteFork,block:null,hash:null,seek:null,upgrade:{start:0,length:t}})}},{key:"ondata",value:function(){var e=r(i().mark((function e(t){var n,r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==t.request||!t.upgrade||0!==t.upgrade.start){e.next=6;break}return e.next=3,this.core.checkConflict(t,this);case 3:if(!e.sent){e.next=5;break}return e.abrupt("return");case 5:this.paused=!1;case 6:if(n=t.request>0?this.replicator._inflight.get(t.request):null,r=t.fork>this.core.tree.fork,null!==n||!1!==r){e.next=10;break}return e.abrupt("return");case 10:if(null===n){e.next=15;break}if(n.peer===this){e.next=13;break}return e.abrupt("return");case 13:this.inflight--,this.replicator._inflight.remove(n.id);case 15:if(!0!==r){e.next=17;break}return e.abrupt("return",this.replicator._onreorgdata(this,n,t));case 17:if(this.dataProcessing++,e.prev=18,e.t0=!Q(n,t),e.t0){e.next=24;break}return e.next=23,this.core.verify(t,this);case 23:e.t0=!e.sent;case 24:if(!e.t0){e.next=27;break}return this.replicator._onnodata(this,n),e.abrupt("return");case 27:e.next=35;break;case 29:return e.prev=29,e.t1=e.catch(18),h(e.t1),this._checkIfConflict(e.t1),this.replicator._onnodata(this,n),e.abrupt("return");case 35:return e.prev=35,this.dataProcessing--,e.finish(35);case 38:this.replicator._ondata(this,n,t),!0===this._shouldUpdateCanUpgrade()&&this._updateCanUpgradeAndSync();case 40:case"end":return e.stop()}}),e,this,[[18,29,35,38]])})));return function(t){return e.apply(this,arguments)}}()},{key:"onnodata",value:function(e){var t=e.request,n=t>0?this.replicator._inflight.get(t):null;null!==n&&n.peer===this&&(this.inflight--,this.replicator._inflight.remove(n.id),this.replicator._onnodata(this,n))}},{key:"onwant",value:function(e){var t=e.start,n=e.length;this.replicator._onwant(this,t,n)}},{key:"onunwant",value:function(){}},{key:"onbitfield",value:function(e){var t=e.start,n=e.bitfield;this.remoteBitfield.insert(t,n)&&this._update()}},{key:"onrange",value:function(e){var t=e.drop,n=e.start,r=e.length,i=!1===t;this.remoteBitfield.setRange(n,r,i),!1===t&&this._update()}},{key:"onreorghint",value:function(){}},{key:"_update",value:function(){this.replicator.updatePeer(this)}},{key:"_onconflict",value:function(){var e=r(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.protomux.cork(),!(this.remoteLength>0&&this.core.tree.fork===this.remoteFork)){e.next=4;break}return e.next=4,this.onrequest({id:0,fork:this.core.tree.fork,block:null,hash:null,seek:null,upgrade:{start:0,length:Math.min(this.core.tree.length,this.remoteLength)}});case 4:this.channel.close(),this.protomux.uncork();case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_makeRequest",value:function(e){return!0===e&&!1===this.replicator._shouldUpgrade(this)?null:(!1===e&&!0===this.replicator._autoUpgrade(this)&&(e=!0),{peer:this,id:0,fork:this.remoteFork,block:null,hash:null,seek:null,upgrade:!1===e?null:{start:this.core.tree.length,length:this.remoteLength-this.core.tree.length}})}},{key:"_requestUpgrade",value:function(e){var t=this._makeRequest(!0);return null!==t&&(this._send(t),!0)}},{key:"_requestSeek",value:function(e){var t=this.core.tree,n=t.length;if(t.fork!==this.remoteFork)return!1;if(e.seeker.start>=n){var r=this._makeRequest(!0);return null!==r&&(r.seek={bytes:e.seeker.bytes},e.inflight.push(r),this._send(r),!0)}for(var i=e.seeker.end-e.seeker.start,o=e.seeker.start+Math.floor(Math.random()*i),a=0;a<i;a++){var s=o+a;if(s>e.seeker.end&&(s-=i),!1!==this.remoteBitfield.get(s)&&!0!==this.core.bitfield.get(s)){var u=this.replicator._blocks.get(s);if(!(null!==u&&u.inflight.length>0)){var l=this.replicator._hashes.add(s);if(!(l.inflight.length>0)){var c=this._makeRequest(!1);return c.hash={index:2*s,nodes:0},c.seek={bytes:e.seeker.bytes},e.inflight.push(c),l.inflight.push(c),this._send(c),!0}}}}return this._maybeWant(e.seeker.start,i),!1}},{key:"_blockAvailable",value:function(e){return this.remoteBitfield.get(e.index)}},{key:"_requestBlock",value:function(e){var t=this.core.tree,n=t.length,r=t.fork;if(!1===this.remoteBitfield.get(e.index)||r!==this.remoteFork)return this._maybeWant(e.index),!1;var i=this._makeRequest(e.index>=n);return null!==i&&(i.block={index:e.index,nodes:0},e.inflight.push(i),this._send(i),!0)}},{key:"_requestRange",value:function(e){var t=this.core.tree,n=t.length,r=t.fork,i=Math.min(-1===e.end?this.remoteLength:e.end,this.remoteLength);if(i<e.start||r!==this.remoteFork)return!1;for(var o=i-e.start,a=e.start+(e.linear?0:Math.floor(Math.random()*o)),s=0;s<o;s++){var u=a+s;if(u>=i&&(u-=o),null!==e.blocks&&(u=e.blocks[u]),!1!==this.remoteBitfield.get(u)&&!0!==this.core.bitfield.get(u)){var l=this.replicator._blocks.add(u);if(!(l.inflight.length>0)){var c=this._makeRequest(u>=n);return null===c?(l.gc(),!1):(c.block={index:u,nodes:0},l.inflight.push(c),this._send(c),l.queued&&(l.queued=!1),!0)}}}return this._maybeWant(e.start,o),!1}},{key:"_requestForkProof",value:function(e){var t=this._makeRequest(!1);t.upgrade={start:0,length:this.remoteLength},e.inflight.push(t),this._send(t)}},{key:"_requestForkRange",value:function(e){if(e.fork!==this.remoteFork||null===e.batch.want)return!1;var t=Math.min(e.batch.want.end,this.remoteLength);if(t<e.batch.want.start)return!1;for(var n=t-e.batch.want.start,r=e.batch.want.start+Math.floor(Math.random()*n),i=0;i<n;i++){var o=r+i;if(o>=t&&(o-=n),!1!==this.remoteBitfield.get(o)){var a=this._makeRequest(!1);return a.hash={index:2*o,nodes:e.batch.want.nodes},e.inflight.push(a),this._send(a),!0}}return this._maybeWant(e.batch.want.start,n),!1}},{key:"_maybeWant",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=Math.floor(e/m),r=Math.ceil((e+t)/m);n<r;n++)this.segmentsWanted.has(n)||(this.segmentsWanted.add(n),this.wireWant.send({start:n*m,length:m}))}},{key:"_send",value:function(){var e=r(i().mark((function e(t){var n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=this.core.tree.fork,this.inflight++,this.replicator._inflight.add(t),null!==t.upgrade&&t.fork===n&&this.replicator._addUpgrade().inflight.push(t),e.prev=4,null===t.block||t.fork!==n){e.next=9;break}return e.next=8,this.core.tree.missingNodes(2*t.block.index);case 8:t.block.nodes=e.sent;case 9:if(null===t.hash||t.fork!==n){e.next=13;break}return e.next=12,this.core.tree.missingNodes(t.hash.index);case 12:t.hash.nodes=e.sent;case 13:e.next=19;break;case 15:return e.prev=15,e.t0=e.catch(4),this.stream.destroy(e.t0),e.abrupt("return");case 19:this.wireRequest.send(t);case 20:case"end":return e.stop()}}),e,this,[[4,15]])})));return function(t){return e.apply(this,arguments)}}()}]),e}();function Q(e,t){return(null===t.block||null!==e.block&&e.block.index===t.block.index)&&((null===t.hash||null!==e.hash&&e.hash.index===t.hash.index)&&((null===t.seek||null!==e.seek&&e.seek.bytes===t.seek.bytes)&&((null===t.upgrade||null!==e.upgrade)&&e.fork===t.fork)))}function L(e,t){var n=e.indexOf(t);return-1!==n&&(n<e.length-1?e[n]=e.pop():e.pop(),!0)}function D(){}function M(e,t){if(null===t.blocks){var n=e.bitfield.firstUnset(t.start);if(-1===t.end)t.start=-1===n?e.tree.length:n;else{var r=e.bitfield.lastUnset(t.end-1)+1;-1===n?t.start=t.end:(t.start=n,t.end=r)}}else{for(;t.start<t.end&&e.bitfield.get(t.blocks[t.start]);)t.start++;for(;t.start<t.end&&e.bitfield.get(t.blocks[t.end-1]);)t.end--}}function P(e){e.context&&e.context.detach(e,y())}function U(e){null!==e.timeout&&(clearTimeout(e.timeout),e.timeout=null)}function N(e,t){return t.userData.onopen(e)}function T(e,t){return t.userData.onclose(e)}function O(e,t){return t.userData.onsync(e)}function K(e,t){return t.userData.onrequest(e)}function R(e,t){return t.userData.ondata(e)}function F(e,t){return t.userData.onnodata(e)}function Y(e,t){return t.userData.onwant(e)}function z(e,t){return t.userData.onunwant(e)}function H(e,t){return t.userData.onbitfield(e)}function j(e,t){return t.userData.onrange(e)}function q(e,t){return t.userData.onextension(e)}e.exports=function(){"use strict";function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=r.eagerUpgrade,o=void 0===i||i,a=r.allowFork,s=void 0===a||a,l=r.onpeerupdate,c=void 0===l?D:l,h=r.onupload,f=void 0===h?D:h;u(this,e),this.key=n,this.discoveryKey=t.crypto.discoveryKey(n),this.core=t,this.eagerUpgrade=o,this.allowFork=s,this.onpeerupdate=c,this.onupload=f,this.peers=[],this.findingPeers=0,this._inflight=new C,this._blocks=new S,this._hashes=new S,this._queued=[],this._seeks=[],this._upgrade=null,this._reorgs=[],this._ranges=[],this._hadPeers=!1,this._ifAvailable=0,this._updatesPending=0,this._applyingReorg=null}return l(e,[{key:"cork",value:function(){var e,t=o(this.peers);try{for(t.s();!(e=t.n()).done;){e.value.protomux.cork()}}catch(n){t.e(n)}finally{t.f()}}},{key:"uncork",value:function(){var e,t=o(this.peers);try{for(t.s();!(e=t.n()).done;){e.value.protomux.uncork()}}catch(n){t.e(n)}finally{t.f()}}},{key:"onhave",value:function(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=o(this.peers);try{for(i.s();!(n=i.n()).done;){n.value.broadcastRange(e,t,r)}}catch(a){i.e(a)}finally{i.f()}}},{key:"ontruncate",value:function(e){var t,n=[],r=o(this._blocks);try{for(r.s();!(t=r.n()).done;){var i=t.value;i.index<e||n.push(i)}}catch(f){r.e(f)}finally{r.f()}for(var a=0,s=n;a<s.length;a++){var u,l=s[a],c=o(l.refs);try{for(c.s();!(u=c.n()).done;){var h=u.value;!1!==h.snapshot&&l.detach(h,v())}}catch(f){c.e(f)}finally{c.f()}}}},{key:"onupgrade",value:function(){var e,t=o(this.peers);try{for(t.s();!(e=t.n()).done;){e.value.signalUpgrade()}}catch(n){t.e(n)}finally{t.f()}!1===this._blocks.isEmpty()&&this._resolveBlocksLocally(),null!==this._upgrade&&this._resolveUpgradeRequest(null),0===this._ranges.length&&0===this._seeks.length||this._updateNonPrimary()}},{key:"onconflict",value:function(){var e=r(i().mark((function e(t){var n,r,a,s;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=[],r=o(this.peers);try{for(r.s();!(a=r.n()).done;)s=a.value,n.push(s._onconflict())}catch(t){r.e(t)}finally{r.f()}return e.next=5,Promise.allSettled(n);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"applyPendingReorg",value:function(){var e=r(i().mark((function e(){var t,n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===this._applyingReorg){e.next=4;break}return e.next=3,this._applyingReorg;case 3:return e.abrupt("return",!0);case 4:t=this._reorgs.length-1;case 5:if(!(t>=0)){e.next=14;break}if(null===(n=this._reorgs[t]).batch||!n.batch.finished){e.next=11;break}return e.next=10,this._applyReorg(n);case 10:return e.abrupt("return",!0);case 11:t--,e.next=5;break;case 14:return e.abrupt("return",!1);case 15:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"addUpgrade",value:function(e){if(null!==this._upgrade){var t=this._upgrade.attach(e);return this._checkUpgradeIfAvailable(),t}var n=this._addUpgrade().attach(e);return this.updateAll(),n}},{key:"addBlock",value:function(e,t){var n=this._blocks.add(t),r=n.attach(e);return this._queueBlock(n),this.updateAll(),r}},{key:"addSeek",value:function(e,t){var n=new x(this._seeks,t),r=n.attach(e);return this._seeks.push(n),this.updateAll(),r}},{key:"addRange",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.start,r=void 0===n?0:n,i=t.end,o=void 0===i?-1:i,a=t.length,s=void 0===a?function(e,t){return-1===t?-1:t<e?0:t-e}(r,o):a,u=t.blocks,l=void 0===u?null:u,c=t.linear,h=void 0!==c&&c,f=t.ifAvailable,d=void 0!==f&&f;null!==l&&(r=0,o=s=l.length);var p=new w(this._ranges,r,-1===s?-1:r+s,h,d,l),g=p.attach(e);return this._ranges.push(p),this._updateNonPrimary(),g}},{key:"cancel",value:function(e){e.context.detach(e,null)}},{key:"clearRequests",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;e.length>0;){var n=e[e.length-1];n.context.detach(n,t)}this.updateAll()}},{key:"_addUpgradeMaybe",value:function(){return!0===this.eagerUpgrade?this._addUpgrade():this._upgrade}},{key:"_checkUpgradeIfAvailable",value:function(){if(!(this._ifAvailable>0||null===this._upgrade||0===this._upgrade.refs.length)&&!(!1===this._hadPeers&&this.findingPeers>0)){for(var e=0;e<this.peers.length;e++){var t=this.peers[e];if(!1===t.remoteSynced)return;if(0===this.core.tree.length&&t.remoteLength>0)return;if(!(t.remoteLength<=this._upgrade.length||t.remoteFork!==this._upgrade.fork)){if(t.syncsProcessing>0)return;if(t.lengthAcked!==this.core.tree.length&&t.remoteFork===this.core.tree.fork)return;if(!0===t.remoteCanUpgrade)return}}if(null===this._applyingReorg){for(var n=0;n<this._reorgs.length;n++){if(this._reorgs[n].inflight.length>0)return}var r=this._upgrade;this._upgrade=null,r.resolve(!1)}}}},{key:"_addUpgrade",value:function(){return null!==this._upgrade||(this._upgrade=new E(this,this.core.tree.fork,this.core.tree.length)),this._upgrade}},{key:"_addReorg",value:function(e,t){if(!1===this.allowFork)return null;var n,r=o(this._reorgs);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i.fork>e&&null!==i.batch)return null;if(i.fork===e)return i}}catch(u){r.e(u)}finally{r.f()}var a={fork:e,inflight:[],batch:null};this._reorgs.push(a);for(var s=this._reorgs.length-1;s>0&&this._reorgs[s-1].fork>e;)this._reorgs[s]=this._reorgs[s-1],this._reorgs[--s]=a;return a}},{key:"_shouldUpgrade",value:function(e){return!(null!==this._upgrade&&this._upgrade.inflight.length>0)&&(!0===e.remoteCanUpgrade&&e.remoteLength>this.core.tree.length&&e.lengthAcked===this.core.tree.length)}},{key:"_autoUpgrade",value:function(e){return null!==this._upgrade&&e.remoteFork===this.core.tree.fork&&this._shouldUpgrade(e)}},{key:"_addPeer",value:function(e){this._hadPeers=!0,this.peers.push(e),this.updatePeer(e),this.onpeerupdate(!0,e)}},{key:"_removePeer",value:function(e){this.peers.splice(this.peers.indexOf(e),1);var t,n=o(this._inflight);try{for(n.s();!(t=n.n()).done;){var r=t.value;r.peer===e&&(this._inflight.remove(r.id),this._clearRequest(e,r))}}catch(i){n.e(i)}finally{n.f()}this.onpeerupdate(!1,e),this.updateAll()}},{key:"_queueBlock",value:function(e){e.inflight.length>0||!0===e.queued||(e.queued=!0,this._queued.push(e))}},{key:"_resolveBlocksLocally",value:function(){var e=r(i().mark((function e(){var t,n,r,a,s,u,l;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=null,n=o(this._blocks),e.prev=2,n.s();case 4:if((r=n.n()).done){e.next=23;break}if(a=r.value,!1!==this.core.bitfield.get(a.index)){e.next=8;break}return e.abrupt("continue",21);case 8:return e.prev=8,e.t0=a,e.next=12,this.core.blocks.get(a.index);case 12:e.t1=e.sent,e.t0.resolve.call(e.t0,e.t1),e.next=19;break;case 16:e.prev=16,e.t2=e.catch(8),a.reject(e.t2);case 19:null===t&&(t=[]),t.push(a);case 21:e.next=4;break;case 23:e.next=28;break;case 25:e.prev=25,e.t3=e.catch(2),n.e(e.t3);case 28:return e.prev=28,n.f(),e.finish(28);case 31:if(null!==t){e.next=33;break}return e.abrupt("return");case 33:s=o(t);try{for(s.s();!(u=s.n()).done;)l=u.value,this._blocks.remove(l.index)}catch(i){s.e(i)}finally{s.f()}case 35:case"end":return e.stop()}}),e,this,[[2,25,28,31],[8,16]])})));return function(){return e.apply(this,arguments)}}()},{key:"_resolveBlockRequest",value:function(e,t,n,r){var i=e.remove(t);return null!==i&&(L(i.inflight,r),i.queued=!1,i.resolve(n),!0)}},{key:"_resolveUpgradeRequest",value:function(e){if(null!==e&&L(this._upgrade.inflight,e),this.core.tree.length===this._upgrade.length&&this.core.tree.fork===this._upgrade.fork)return!1;var t=this._upgrade;return this._upgrade=null,t.resolve(!0),!0}},{key:"_resolveRangeRequest",value:function(e,t){var n=this._ranges.pop();t<this._ranges.length&&(this._ranges[t]=n),e.resolve(!0)}},{key:"_clearInflightBlock",value:function(e,t){var n=e===this._blocks,r=!0===n?t.block.index:t.hash.index/2,i=e.get(r);null!==i&&!1!==L(i.inflight,t)&&(i.refs.length>0&&!0===n?this._queueBlock(i):i.gc())}},{key:"_clearInflightUpgrade",value:function(e){!1!==L(this._upgrade.inflight,e)&&this._upgrade.gc()}},{key:"_clearInflightSeeks",value:function(e){var t,n=o(this._seeks);try{for(n.s();!(t=n.n()).done;){var r=t.value;!1!==L(r.inflight,e)&&r.gc()}}catch(i){n.e(i)}finally{n.f()}}},{key:"_clearInflightReorgs",value:function(e){var t,n=o(this._reorgs);try{for(n.s();!(t=n.n()).done;){L(t.value.inflight,e)}}catch(r){n.e(r)}finally{n.f()}}},{key:"_clearOldReorgs",value:function(e){for(var t=0;t<this._reorgs.length;t++){this._reorgs[t].fork>=e||(t===this._reorgs.length-1?this._reorgs.pop():this._reorgs[t]=this._reorgs.pop(),t--)}}},{key:"_updateNonPrimary",value:function(){var e=r(i().mark((function e(){var t,n,r,o,a,s;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(1!==++this._updatesPending){e.next=30;break}for(t=0;t<this._ranges.length;t++)n=this._ranges[t],M(this.core,n),-1!==n.end&&n.start>=n.end&&this._resolveRangeRequest(n,t--);r=0;case 3:if(!(r<this._seeks.length)){e.next=24;break}return o=this._seeks[r],a=null,s=null,e.prev=7,e.next=10,o.seeker.update();case 10:s=e.sent,e.next=16;break;case 13:e.prev=13,e.t0=e.catch(7),a=e.t0;case 16:if(s||a){e.next=18;break}return e.abrupt("continue",21);case 18:r<this._seeks.length-1?this._seeks[r]=this._seeks.pop():this._seeks.pop(),r--,a?o.reject(a):o.resolve(s);case 21:r++,e.next=3;break;case 24:if(this._inflight.idle&&this.updateAll(),0!==--this._updatesPending){e.next=27;break}return e.abrupt("return");case 27:this._updatesPending=0,e.next=0;break;case 30:case"end":return e.stop()}}),e,this,[[7,13]])})));return function(){return e.apply(this,arguments)}}()},{key:"_maybeResolveIfAvailableRanges",value:function(){if(!(this._ifAvailable>0)&&this._inflight.idle&&this._ranges.length){for(var e=0;e<this.peers.length;e++)if(this.peers[e].dataProcessing>0)return;for(var t=0;t<this._ranges.length;t++){var n=this._ranges[t];n.ifAvailable&&this._resolveRangeRequest(n,t--)}}}},{key:"_clearRequest",value:function(e,t){null!==t.block&&this._clearInflightBlock(this._blocks,t),null!==t.hash&&this._clearInflightBlock(this._hashes,t),null!==t.upgrade&&null!==this._upgrade&&this._clearInflightUpgrade(t),this._seeks.length>0&&this._clearInflightSeeks(t),this._reorgs.length>0&&this._clearInflightReorgs(t)}},{key:"_onnodata",value:function(e,t){this._clearRequest(e,t),this.updateAll()}},{key:"_ondata",value:function(e,t,n){null!==n.block&&this._resolveBlockRequest(this._blocks,n.block.index,n.block.value,t),null!==n.hash&&0===(1&n.hash.index)&&this._resolveBlockRequest(this._hashes,n.hash.index/2,null,t),null!==this._upgrade&&this._resolveUpgradeRequest(t),this._seeks.length>0&&this._clearInflightSeeks(t),this._reorgs.length>0&&this._clearInflightReorgs(t),this._seeks.length>0||this._ranges.length>0?this._updateNonPrimary():this.updatePeer(e)}},{key:"_onwant",value:function(e,t,n){n=Math.min(n,this.core.tree.length-t),e.protomux.cork();var r,i=o(this.core.bitfield.want(t,n));try{for(i.s();!(r=i.n()).done;){var a=r.value;e.wireBitfield.send(a)}}catch(s){i.e(s)}finally{i.f()}e.protomux.uncork()}},{key:"_onreorgdata",value:function(){var e=r(i().mark((function e(t,n,r){var o;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==(o=this._addReorg(r.fork,t))){e.next=4;break}return this.updateAll(),e.abrupt("return");case 4:if(L(o.inflight,n),!o.batch){e.next=10;break}return e.next=8,o.batch.update(r);case 8:e.next=15;break;case 10:if(!r.upgrade){e.next=15;break}return e.next=13,this.core.tree.reorg(r);case 13:o.batch=e.sent,this._clearOldReorgs(o.fork);case 15:if(!o.batch||!o.batch.finished){e.next=19;break}if(null===this._addUpgradeMaybe()){e.next=19;break}return e.next=19,this._applyReorg(o);case 19:this.updateAll();case 20:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"_applyReorg",value:function(){var e=r(i().mark((function e(t){var n,r,a,s,u,l,c;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this._upgrade,this._reorgs=[],this._applyingReorg=this.core.reorg(t.batch,null),e.prev=3,e.next=6,this._applyingReorg;case 6:e.next=12;break;case 8:e.prev=8,e.t0=e.catch(3),this._upgrade=null,n.reject(e.t0);case 12:this._applyingReorg=null,null!==this._upgrade&&this._resolveUpgradeRequest(null),r=o(this.peers);try{for(r.s();!(a=r.n()).done;)s=a.value,this._updateFork(s)}catch(i){r.e(i)}finally{r.f()}u=o(this._ranges);try{for(u.s();!(l=u.n()).done;)(c=l.value).start=c.userStart,c.end=c.userEnd}catch(i){u.e(i)}finally{u.f()}this.updateAll();case 19:case"end":return e.stop()}}),e,this,[[3,8]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_maybeUpdate",value:function(){return null!==this._upgrade&&0===this._upgrade.inflight.length}},{key:"_updateFork",value:function(e){if(null!==this._applyingReorg||!1===this.allowFork||e.remoteFork<=this.core.tree.fork)return!1;var t=this._addReorg(e.remoteFork,e);return null!==t&&null===t.batch&&0===t.inflight.length&&e._requestForkProof(t)}},{key:"_updatePeer",value:function(e){if(e.paused||e.inflight>=e.maxInflight)return!1;var t,n=o(this._seeks);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(!(r.inflight.length>0)&&!0===e._requestSeek(r))return!0}}catch(l){n.e(l)}finally{n.f()}var i,a=new f(this._queued),s=o(a);try{for(s.s();!(i=s.n()).done;){var u=i.value;if(!1===u.queued||!0===e._requestBlock(u))return u.queued=!1,a.dequeue(),!0}}catch(l){s.e(l)}finally{s.f()}return!1}},{key:"_updatePeerNonPrimary",value:function(e){if(e.paused||e.inflight>=e.maxInflight)return!1;var t,n=new f(this._ranges),r=o(n);try{for(r.s();!(t=r.n()).done;){var i=t.value;if(!0===e._requestRange(i))return!0}}catch(u){r.e(u)}finally{r.f()}for(var a=this._reorgs.length-1;a>=0;a--){var s=this._reorgs[a];if(null!==s.batch&&0===s.inflight.length&&!0===e._requestForkRange(s))return!0}return!0===this._maybeUpdate()&&!0===e._requestUpgrade(this._upgrade)}},{key:"updatePeer",value:function(e){if(null===this._applyingReorg){for(;!0===this._updatePeer(e););for(;!0===this._updatePeerNonPrimary(e););this._checkUpgradeIfAvailable(),this._maybeResolveIfAvailableRanges()}}},{key:"updateAll",value:function(){if(null===this._applyingReorg){var e,t=new f(this.peers),n=o(t);try{for(n.s();!(e=n.n()).done;){var r=e.value;!0===this._updatePeer(r)&&t.requeue()}}catch(u){n.e(u)}finally{n.f()}if(!1!==this._maybeUpdate()||0!==this._ranges.length||0!==this._reorgs.length){var i,a=o(t.restart());try{for(a.s();!(i=a.n()).done;){var s=i.value;!0===this._updatePeerNonPrimary(s)&&t.requeue()}}catch(u){a.e(u)}finally{a.f()}this._checkUpgradeIfAvailable(),this._maybeResolveIfAvailableRanges()}else this._checkUpgradeIfAvailable()}}},{key:"attachTo",value:function(e,t){var n=this,r=this._makePeer.bind(this,e,t);e.pair({protocol:"hypercore/alpha",id:this.discoveryKey},r),this._ifAvailable++,e.stream.opened.then((function(e){n._ifAvailable--,e?r():t&&t.close().catch(D),n._checkUpgradeIfAvailable()}))}},{key:"destroy",value:function(){var e,t=o(this.peers);try{for(t.s();!(e=t.n()).done;){var n=e.value;n.protomux.unpair({protocol:"hypercore/alpha",id:this.discoveryKey}),n.channel.close()}}catch(r){t.e(r)}finally{t.f()}}},{key:"_makePeer",value:function(e,t){if(e.opened({protocol:"hypercore/alpha",id:this.discoveryKey}))return o();var n=e.createChannel({userData:null,protocol:"hypercore/alpha",aliases:["hypercore"],id:this.discoveryKey,handshake:b.wire.handshake,messages:[{encoding:b.wire.sync,onmessage:O},{encoding:b.wire.request,onmessage:K},null,{encoding:b.wire.data,onmessage:R},{encoding:b.wire.noData,onmessage:F},{encoding:b.wire.want,onmessage:Y},{encoding:b.wire.unwant,onmessage:z},{encoding:b.wire.bitfield,onmessage:H},{encoding:b.wire.range,onmessage:j},{encoding:b.wire.extension,onmessage:q}],onopen:N,onclose:T});if(null===n)return o();var r=new B(this,e,n,t),i=e.stream;return r.channel.open({capability:_.replicate(i.isInitiator,this.key,i.handshakeHash)}),!0;function o(){return t&&t.close().catch(D),!1}}}]),e}()},1597:function(e,t,n){var r=n(7061).default,i=n(7156).default,o=n(6690).default,a=n(9728).default,s=n(1655).default,u=n(6389).default,l=n(1843),c=l.Writable,h=function(e){"use strict";s(n,e);var t=u(n);function n(e){var r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return o(this,n),(r=t.call(this)).core=e,r.start=i.start||0,r.end="number"===typeof i.end?i.end:-1,r.snapshot=!i.live&&!1!==i.snapshot,r.live=!!i.live,r}return a(n,[{key:"_open",value:function(e){this._openP().then(e,e)}},{key:"_read",value:function(e){this._readP().then(e,e)}},{key:"_openP",value:function(){var e=i(r().mark((function e(){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(-1!==this.end){e.next=5;break}return e.next=3,this.core.update();case 3:e.next=7;break;case 5:return e.next=7,this.core.ready();case 7:this.snapshot&&-1===this.end&&(this.end=this.core.length);case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_readP",value:function(){var e=i(r().mark((function e(){var t;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!((t=this.live?-1:-1===this.end?this.core.length:this.end)>=0&&this.start>=t)){e.next=4;break}return this.push(null),e.abrupt("return");case 4:return e.t0=this,e.next=7,this.core.get(this.start++);case 7:e.t1=e.sent,e.t0.push.call(e.t0,e.t1);case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(l.Readable);t.ReadStream=h;var f=function(e){"use strict";s(n,e);var t=u(n);function n(e){var r;return o(this,n),(r=t.call(this)).core=e,r}return a(n,[{key:"_writev",value:function(e,t){this._writevP(e).then(t,t)}},{key:"_writevP",value:function(){var e=i(r().mark((function e(t){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.core.append(t);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),n}(c);t.WriteStream=f},8994:function(e,t,n){var r=n(2122).default,i=n(861).default,o=n(7061).default,a=n(7156).default,s=n(4704).default,u=n(6690).default,l=n(9728).default,c=n(6115).default,h=n(1655).default,f=n(6389).default,d=n(7465).EventEmitter,p=n(8390),g=n(2018),y=n(4587),A=n(4136),v=n(2507),b=n(5514),_=n(2818),m="Topic is required and must be a 32-byte buffer",k="Duplicate connection";function I(){}function w(){return!1}e.exports=function(e){"use strict";h(n,e);var t=f(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};u(this,n),e=t.call(this);var i=r.seed,o=r.keyPair,a=void 0===o?p.keyPair(i):o,s=r.maxPeers,l=void 0===s?64:s,h=r.maxClientConnections,f=void 0===h?Infinity:h,d=r.maxServerConnections,y=void 0===d?Infinity:d,A=r.maxParallel,_=void 0===A?3:A,m=r.firewall,k=void 0===m?w:m;return e.keyPair=a,e.dht=r.dht||new p({bootstrap:r.bootstrap,debug:r.debug}),e.server=e.dht.createServer({firewall:e._handleFirewall.bind(c(e))},e._handleServerConnection.bind(c(e))),e.destroyed=!1,e._destroying=null,e.maxPeers=l,e.maxClientConnections=f,e.maxServerConnections=y,e.maxParallel=_,e.connecting=0,e.connections=new Set,e.peers=new Map,e.explicitPeers=new Set,e.listening=null,e._sessions=new Set,e._opts=r,e._root=r._root,e._root&&e._root._sessions.add(c(e)),e._discovery=new Map,e._timer=new v(e._requeue.bind(c(e)),{backoffs:r.backoffs,jitter:r.jitter}),e._queue=g(),e._allConnections=new b,e._pendingFlushes=[],e._flushTick=0,e._drainingQueue=!1,e._clientConnections=0,e._serverConnections=0,e._firewall=k,e._handleNetworkChange=e._handleNetworkChange.bind(c(e)),e._root||e.dht.on("network-change",e._handleNetworkChange),e}return l(n,[{key:"_enqueue",value:function(e){e.queued||(e.queued=!0,e._flushTick=this._flushTick,this._queue.add(e),this._attemptClientConnections())}},{key:"_requeue",value:function(e){var t,n=s(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;!1===r._updatePriority()||this._allConnections.has(r.publicKey)||r.queued||(r.queued=!0,r._flushTick=this._flushTick,this._queue.add(r))}}catch(i){n.e(i)}finally{n.f()}this._attemptClientConnections()}},{key:"_flushMaybe",value:function(e){for(var t=0;t<this._pendingFlushes.length;t++){var n=this._pendingFlushes[t];e._flushTick>n.tick||(--n.missing>0||(n.onflush(!0),this._pendingFlushes.splice(t--,1)))}}},{key:"_flushAllMaybe",value:function(){if(this.connecting>0||this._allConnections.size<this.maxPeers&&this._clientConnections<this.maxClientConnections)return!1;for(;this._pendingFlushes.length;){this._pendingFlushes.pop().onflush(!0)}return!0}},{key:"_shouldConnect",value:function(){return!this.destroyed&&this.connecting<this.maxParallel&&this._allConnections.size<this.maxPeers&&this._clientConnections<this.maxClientConnections}},{key:"_shouldRequeue",value:function(e){if(e.explicit)return!0;var t,n=s(e.topics);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(this._discovery.has(y.toString(r,"hex"))&&!this.destroyed)return!0}}catch(i){n.e(i)}finally{n.f()}return!1}},{key:"_connect",value:function(e){var t=this;if(e.banned||this._allConnections.has(e.publicKey))this._flushMaybe(e);else{if(this._handleFirewall(e.publicKey,null))return e.ban(),void this._flushMaybe(e);var n=this.dht.connect(e.publicKey,{relayAddresses:e.relayAddresses,keyPair:this.keyPair});this._allConnections.add(n),this.connecting++,this._clientConnections++;var r=!1;n.on("close",(function(){r||t._connectDone(),t.connections.delete(n),t._allConnections.delete(n),t._clientConnections--,e._disconnected(),t._shouldRequeue(e)&&t._timer.add(e),r||t._flushMaybe(e),t._attemptClientConnections(),t.emit("update")})),n.on("error",I),n.on("open",(function(){r=!0,t._connectDone(),t.connections.add(n),n.removeListener("error",I),e._connected(),e.client=!0,t.emit("connection",n,e),t._flushMaybe(e),t.emit("update")})),this.emit("update")}}},{key:"_connectDone",value:function(){this.connecting--,this.connecting<this.maxParallel&&this._attemptClientConnections(),0===this.connecting&&this._flushAllMaybe()}},{key:"_attemptClientConnections",value:function(){if(!this._drainingQueue){for(this._drainingQueue=!0;this._queue.length&&this._shouldConnect();){var e=this._queue.shift();e.queued=!1,this._connect(e)}this._drainingQueue=!1,0===this.connecting&&this._flushAllMaybe()}}},{key:"_handleFirewall",value:function(e,t){if(y.equals(e,this.keyPair.publicKey))return!0;var n=this.peers.get(y.toString(e,"hex"));return!(!n||!n.banned)||this._firewall(e,t)}},{key:"_handleServerConnectionSwap",value:function(e,t){var n=this,r=!1;function i(){r=!0}e.on("close",(function(){r||(t.removeListener("error",I),t.removeListener("close",i),n._handleServerConnection(t))})),t.on("error",I),t.on("close",i)}},{key:"_handleServerConnection",value:function(e){var t=this;if(this.destroyed)return e.on("error",I),e.destroy("Swarm has been destroyed");var n=this._allConnections.get(e.remotePublicKey);if(n)return!1===(e.isInitiator===n.isInitiator||y.compare(e.publicKey,e.remotePublicKey)>0)?(e.on("error",I),void e.destroy(new Error(k))):(n.on("error",I),n.destroy(new Error(k)),void this._handleServerConnectionSwap(n,e));var r=this._upsertPeer(e.remotePublicKey,null);this.connections.add(e),this._allConnections.add(e),this._serverConnections++,e.on("close",(function(){t.connections.delete(e),t._allConnections.delete(e),t._serverConnections--,t._attemptClientConnections(),t.emit("update")})),r.client=!1,this.emit("connection",e,r),this.emit("update")}},{key:"_upsertPeer",value:function(e,t){if(y.equals(e,this.keyPair.publicKey))return null;var n=y.toString(e,"hex"),r=this.peers.get(n);return r||(r=new A({publicKey:e,relayAddresses:t}),this.peers.set(n,r),r)}},{key:"_handlePeer",value:function(e,t){var n=this._upsertPeer(e.publicKey,e.relayAddresses);n&&n._topic(t),n&&!this._allConnections.has(e.publicKey)&&(n.prioritized&&!n.server||n._reset(),n._updatePriority()&&this._enqueue(n))}},{key:"_handleNetworkChange",value:function(){var e=a(o().mark((function e(){var t,n,r,i,a,u,l;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=[],n=s(this._discovery.values());try{for(n.s();!(r=n.n()).done;)i=r.value,t.push(i.refresh())}catch(o){n.e(o)}finally{n.f()}a=s(this._sessions);try{for(a.s();!(u=a.n()).done;)l=u.value,t.push(l._handleNetworkChange())}catch(o){a.e(o)}finally{a.f()}return e.next=7,Promise.allSettled(t);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"status",value:function(e){return this._discovery.get(y.toString(e,"hex"))||null}},{key:"listen",value:function(){return this.listening||(this.listening=this.server.listen(this.keyPair)),this.listening}},{key:"join",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!e)throw new Error(m);var r=y.toString(e,"hex"),i=this._discovery.get(r);return i&&!i.destroyed||(i=new _(this,e,{wait:i?i.destroy():null,onpeer:function(n){return t._handlePeer(n,e)}}),this._discovery.set(r,i)),i.session(n)}},{key:"leave",value:function(){var e=a(o().mark((function e(t){var n,r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}throw new Error(m);case 2:if(n=y.toString(t,"hex"),this._discovery.has(n)){e.next=5;break}return e.abrupt("return",Promise.resolve());case 5:return r=this._discovery.get(n),e.next=8,r.destroy();case 8:this._discovery.get(n)===r&&this._discovery.delete(n);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"joinPeer",value:function(e){var t=this._upsertPeer(e,null);t&&(this.explicitPeers.has(t)||(t.explicit=!0,this.explicitPeers.add(t)),this._allConnections.has(e)||t._updatePriority()&&this._enqueue(t))}},{key:"leavePeer",value:function(e){var t=y.toString(e,"hex");if(this.peers.has(t)){var n=this.peers.get(t);n.explicit=!1,this.explicitPeers.delete(n)}}},{key:"flush",value:function(){var e=a(o().mark((function e(){var t,n,r=this;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=i(this._discovery.values()).map((function(e){return e.flushed()})),e.next=3,Promise.all(t);case 3:if(!this._flushAllMaybe()){e.next=5;break}return e.abrupt("return",!0);case 5:if(n=this._allConnections.size-this.connections.size,this._queue.length||n){e.next=8;break}return e.abrupt("return",!0);case 8:return e.abrupt("return",new Promise((function(e){r._pendingFlushes.push({onflush:e,missing:r._queue.length+n,tick:r._flushTick++})})));case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"clear",value:function(){var e=a(o().mark((function e(){var t;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Promise.allSettled(i(this._discovery.values()).map((function(e){return e.destroy()}))),this._discovery.clear(),e.abrupt("return",t);case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"session",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new n(r(r(r({},this._opts),{},{seed:void 0,keyPair:void 0},e),{},{dht:this.dht,_root:this._root||this}))}},{key:"destroy",value:function(){var e=a(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._destroying){e.next=2;break}return e.abrupt("return",this._destroying);case 2:return this._destroying=this._destroy(),e.abrupt("return",this._destroying);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_destroy",value:function(){var e=a(o().mark((function e(){var t,n,r,i,a;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.destroyed){e.next=2;break}return e.abrupt("return");case 2:this.destroyed=!0,this._root||this.dht.off("network-change",this._handleNetworkChange),t=s(this._sessions),e.prev=5,t.s();case 7:if((n=t.n()).done){e.next=13;break}return r=n.value,e.next=11,r.destroy();case 11:e.next=7;break;case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(5),t.e(e.t0);case 18:return e.prev=18,t.f(),e.finish(18);case 21:return this._timer.destroy(),e.next=24,this.clear();case 24:return e.next=26,this.server.close();case 26:for(;this._pendingFlushes.length;)this._pendingFlushes.pop().onflush(!1);i=s(this._allConnections);try{for(i.s();!(a=i.n()).done;)a.value.destroy()}catch(o){i.e(o)}finally{i.f()}if(!this._root){e.next=33;break}this._root._sessions.delete(this),e.next=35;break;case 33:return e.next=35,this.dht.destroy();case 35:this.emit("close");case 36:case"end":return e.stop()}}),e,this,[[5,15,18,21]])})));return function(){return e.apply(this,arguments)}}()},{key:"topics",value:function(){return this._discovery.values()}}]),n}(d)},5916:function(e,t,n){var r=n(6690).default,i=n(9728).default;e.exports=function(){"use strict";function e(t,n){r(this,e),this._time=t,this._fn=n,this._interval=null,this._next=[],this._pending=[],this._destroyed=!1}return i(e,[{key:"destroy",value:function(){this._destroyed||(this._destroyed=!0,clearInterval(this._interval),this._interval=null)}},{key:"_ontick",value:function(){(this._next.length||this._pending.length)&&(this._next.length&&this._fn(this._next),this._next=this._pending,this._pending=[])}},{key:"add",value:function(e){this._destroyed||(this._interval||(this._interval=setInterval(this._ontick.bind(this),Math.floor(.66*this._time))),this._pending.push(e))}}]),e}()},5514:function(e,t,n){var r=n(6690).default,i=n(9728).default,o=n(4587);e.exports=function(e){"use strict";function t(){r(this,t),this._byPublicKey=new Map}return i(t,[{key:e,value:function(){return this._byPublicKey.values()}},{key:"size",get:function(){return this._byPublicKey.size}},{key:"has",value:function(e){return this._byPublicKey.has(o.toString(e,"hex"))}},{key:"get",value:function(e){return this._byPublicKey.get(o.toString(e,"hex"))}},{key:"add",value:function(e){this._byPublicKey.set(o.toString(e.remotePublicKey,"hex"),e)}},{key:"delete",value:function(e){var t=o.toString(e.remotePublicKey,"hex");this._byPublicKey.get(t)===e&&this._byPublicKey.delete(t)}}]),t}(Symbol.iterator)},2818:function(e,t,n){var r=n(7061).default,i=n(4704).default,o=n(7156).default,a=n(6690).default,s=n(9728).default,u=n(8237).default,l=n(8451);e.exports=function(){"use strict";function e(t,n,r){var i=r.wait,o=void 0===i?null:i,s=r.onpeer,u=void 0===s?h:s,c=r.onerror,f=void 0===c?l:c;a(this,e),this.swarm=t,this.topic=n,this.isClient=!1,this.isServer=!1,this.destroyed=!1,this.destroying=null,this._sessions=[],this._clientSessions=0,this._serverSessions=0,this._onpeer=u,this._onerror=f,this._activeQuery=null,this._timer=null,this._currentRefresh=null,this._closestNodes=null,this._firstAnnounce=!0,this._needsUnannounce=!1,this._refreshes=0,this._wait=o}return s(e,[{key:"session",value:function(e){var t=e.server,n=void 0===t||t,r=e.client,i=void 0===r||r,o=e.onerror,a=void 0===o?l:o;if(this.destroyed)throw new Error("PeerDiscovery is destroyed");var s=new c(this);return s.refresh({server:n,client:i}).catch(a),this._sessions.push(s),s}},{key:"_refreshLater",value:function(e){var t=this,n=Math.round(12e4*Math.random()),r=e?n:6e5+n;this._timer&&clearTimeout(this._timer);var i=Date.now();this._timer=setTimeout((function(){Date.now()-i>r+3e4?t._refreshLater(!0):t.refresh().catch(t._onerror)}),r)}},{key:"_refresh",value:function(){var e=o(r().mark((function e(){var t,n,o,a,s,l,c,h,f,d,p,g,y,A;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=++this._refreshes,!this._wait){e.next=7;break}return e.next=4,this._wait;case 4:if(this._wait=null,t===this._refreshes){e.next=7;break}return e.abrupt("return");case 7:if((n=this.isServer&&this._firstAnnounce)&&(this._firstAnnounce=!1),o={clear:n,closestNodes:this._closestNodes},!this.isServer){e.next=16;break}return e.next=13,this.swarm.listen();case 13:if(t===this._refreshes){e.next=15;break}return e.abrupt("return");case 15:this._needsUnannounce=!0;case 16:a=this.isServer,s=this._activeQuery=a?this.swarm.dht.announce(this.topic,this.swarm.keyPair,this.swarm.server.relayAddresses,o):this._needsUnannounce?this.swarm.dht.lookupAndUnannounce(this.topic,this.swarm.keyPair,o):this.swarm.dht.lookup(this.topic,o),e.prev=18,l=!1,c=!1,e.prev=21,f=u(this._activeQuery);case 23:return e.next=25,f.next();case 25:if(!(l=!(d=e.sent).done)){e.next=34;break}if(p=d.value,this.isClient){e.next=29;break}return e.abrupt("continue",31);case 29:g=i(p.peers);try{for(g.s();!(y=g.n()).done;)A=y.value,this._onpeer(A,p)}catch(r){g.e(r)}finally{g.f()}case 31:l=!1,e.next=23;break;case 34:e.next=40;break;case 36:e.prev=36,e.t0=e.catch(21),c=!0,h=e.t0;case 40:if(e.prev=40,e.prev=41,!l||null==f.return){e.next=45;break}return e.next=45,f.return();case 45:if(e.prev=45,!c){e.next=48;break}throw h;case 48:return e.finish(45);case 49:return e.finish(40);case 50:return e.prev=50,this._activeQuery===s&&(this._activeQuery=null,this.destroyed||this._refreshLater(!1)),e.finish(50);case 53:if(this._closestNodes=s.closestNodes,t===this._refreshes){e.next=56;break}return e.abrupt("return");case 56:a||(this._needsUnannounce=!1);case 57:case"end":return e.stop()}}),e,this,[[18,,50,53],[21,36,40,50],[41,,45,49]])})));return function(){return e.apply(this,arguments)}}()},{key:"refresh",value:function(){var e=o(r().mark((function e(){var t,n,i;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.destroyed){e.next=2;break}throw new Error("PeerDiscovery is destroyed");case 2:if(t=this._serverSessions>0,n=this._clientSessions>0,!this.destroyed){e.next=6;break}return e.abrupt("return");case 6:if(t!==this.isServer||n!==this.isClient){e.next=12;break}if(!this._currentRefresh){e.next=9;break}return e.abrupt("return",this._currentRefresh);case 9:this._currentRefresh=this._refresh(),e.next=16;break;case 12:this._activeQuery&&this._activeQuery.destroy(),this.isServer=t,this.isClient=n,this._currentRefresh=this._refresh();case 16:return i=this._currentRefresh,e.prev=17,e.next=20,i;case 20:return e.prev=20,i===this._currentRefresh&&(this._currentRefresh=null),e.finish(20);case 23:case"end":return e.stop()}}),e,this,[[17,,20,23]])})));return function(){return e.apply(this,arguments)}}()},{key:"flushed",value:function(){var e=o(r().mark((function e(){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.swarm.listening){e.next=3;break}return e.next=3,this.swarm.listening;case 3:return e.prev=3,e.next=6,this._currentRefresh;case 6:return e.abrupt("return",!0);case 9:return e.prev=9,e.t0=e.catch(3),e.abrupt("return",!1);case 12:case"end":return e.stop()}}),e,this,[[3,9]])})));return function(){return e.apply(this,arguments)}}()},{key:"_destroyMaybe",value:function(){var e=o(r().mark((function e(){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.destroyed){e.next=2;break}return e.abrupt("return");case 2:if(e.prev=2,0!==this._sessions.length){e.next=8;break}return e.next=6,this.swarm.leave(this.topic);case 6:e.next=11;break;case 8:if(0!==this._serverSessions||!this._needsUnannounce){e.next=11;break}return e.next=11,this.refresh();case 11:e.next=16;break;case 13:e.prev=13,e.t0=e.catch(2),l(e.t0);case 16:case"end":return e.stop()}}),e,this,[[2,13]])})));return function(){return e.apply(this,arguments)}}()},{key:"destroy",value:function(){return this.destroying||(this.destroying=this._destroy()),this.destroying}},{key:"_destroy",value:function(){var e=o(r().mark((function e(){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.destroyed){e.next=2;break}return e.abrupt("return");case 2:if(this.destroyed=!0,!this._wait){e.next=6;break}return e.next=6,this._wait;case 6:if(this._activeQuery&&(this._activeQuery.destroy(),this._activeQuery=null),this._timer&&(clearTimeout(this._timer),this._timer=null),!this._currentRefresh){e.next=16;break}return e.prev=9,e.next=12,this._currentRefresh;case 12:e.next=16;break;case 14:e.prev=14,e.t0=e.catch(9);case 16:if(!this._needsUnannounce){e.next=20;break}return e.next=19,this.swarm.dht.unannounce(this.topic,this.swarm.keyPair);case 19:this._needsUnannounce=!1;case 20:case"end":return e.stop()}}),e,this,[[9,14]])})));return function(){return e.apply(this,arguments)}}()}]),e}();var c=function(){"use strict";function e(t){a(this,e),this.discovery=t,this.isClient=!1,this.isServer=!1,this.destroyed=!1}return s(e,[{key:"swarm",get:function(){return this.discovery.swarm}},{key:"topic",get:function(){return this.discovery.topic}},{key:"refresh",value:function(){var e=o(r().mark((function e(){var t,n,i,o,a,s=arguments;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=(t=s.length>0&&void 0!==s[0]?s[0]:{}).client,i=void 0===n?this.isClient:n,o=t.server,a=void 0===o?this.isServer:o,!this.destroyed){e.next=3;break}throw new Error("PeerDiscovery is destroyed");case 3:if(i||a){e.next=5;break}throw new Error("Cannot refresh with neither client nor server option");case 5:return i!==this.isClient&&(this.isClient=i,this.discovery._clientSessions+=i?1:-1),a!==this.isServer&&(this.isServer=a,this.discovery._serverSessions+=a?1:-1),e.abrupt("return",this.discovery.refresh());case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"flushed",value:function(){var e=o(r().mark((function e(){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.discovery.flushed());case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"destroy",value:function(){var e=o(r().mark((function e(){var t,n;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.destroyed){e.next=2;break}return e.abrupt("return");case 2:return this.destroyed=!0,this.isClient&&this.discovery._clientSessions--,this.isServer&&this.discovery._serverSessions--,t=this.discovery._sessions.indexOf(this),(n=this.discovery._sessions.pop())!==this&&(this.discovery._sessions[t]=n),e.abrupt("return",this.discovery._destroyMaybe());case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function h(){}},4136:function(e,t,n){var r=n(6690).default,i=n(9728).default,o=n(1655).default,a=n(6389).default,s=n(7465).EventEmitter,u=n(4587);e.exports=function(e){"use strict";o(n,e);var t=a(n);function n(e){var i,o=e.publicKey,a=e.relayAddresses;return r(this,n),(i=t.call(this)).publicKey=o,i.relayAddresses=a,i.reconnecting=!0,i.proven=!1,i.banned=!1,i.tried=!1,i.explicit=!1,i.queued=!1,i.client=!1,i.topics=[],i.attempts=0,i.priority=2,i._index=0,i._flushTick=0,i._seenTopics=new Set,i}return i(n,[{key:"server",get:function(){return!this.client}},{key:"prioritized",get:function(){return this.priority>=2}},{key:"_getPriority",value:function(){return this.tried&&!this.proven||this.attempts>3?0:3===this.attempts?1:2===this.attempts?3:1===this.attempts?4:2}},{key:"_connected",value:function(){this.proven=!0,this.attempts=0}},{key:"_disconnected",value:function(){this.attempts++}},{key:"_deprioritize",value:function(){this.attempts=3}},{key:"_reset",value:function(){this.client=!1,this.proven=!1,this.tried=!1,this.attempts=0}},{key:"_updatePriority",value:function(){return this.explicit&&this.attempts>3&&this._deprioritize(),!(this.banned||this.queued||this.attempts>3)&&(this.priority=this._getPriority(),!0)}},{key:"_topic",value:function(e){var t=u.toString(e,"hex");this._seenTopics.has(t)||(this._seenTopics.add(t),this.topics.push(e),this.emit("topic",e))}},{key:"reconnect",value:function(e){this.reconnecting=!!e}},{key:"ban",value:function(e){this.banned=!!e}}]),n}(s)},2507:function(e,t,n){var r=n(6690).default,i=n(9728).default,o=n(5916),a=500,s=1e3+Math.round(a*Math.random()),u=5e3+Math.round(1e3*Math.random()),l=15e3+Math.round(2e3*Math.random()),c=6e5+Math.round(12e4*Math.random());e.exports=function(){"use strict";function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=n.backoffs,h=void 0===i?[s,u,l,c]:i,f=n.jitter,d=void 0===f?a:f;r(this,e),this.jitter=d,this.backoffs=h,this._sTimer=new o(h[0]+Math.round(d*Math.random()),t),this._mTimer=new o(h[1]+Math.round(d*Math.random()),t),this._lTimer=new o(h[2]+Math.round(d*Math.random()),t),this._xTimer=new o(h[3]+Math.round(d*Math.random()),t)}return i(e,[{key:"_selectRetryTimer",value:function(e){if(e.banned||!e.reconnecting)return null;if(e.attempts>3)return e.explicit?this._xTimer:null;if(0===e.attempts)return this._sTimer;if(e.proven)switch(e.attempts){case 1:return this._sTimer;case 2:return this._mTimer;case 3:return this._lTimer}else switch(e.attempts){case 1:return this._mTimer;case 2:case 3:return this._lTimer}return null}},{key:"add",value:function(e){var t=this._selectRetryTimer(e);if(!t)return null;t.add(e)}},{key:"destroy",value:function(){this._sTimer.destroy(),this._mTimer.destroy(),this._lTimer.destroy(),this._xTimer.destroy()}}]),e}()},1185:function(e,t,n){var r=n(4587);e.exports=function(e){return"object"===typeof e&&e&&!r.isBuffer(e)}},3577:function(e,t,n){var r=n(9728).default,i=n(6690).default,o=n(1655).default,a=n(6389).default,s=n(3496).default;e.exports=function e(t,n){if(!t){var r=new u(n);throw Error.captureStackTrace&&Error.captureStackTrace(r,e),r}};var u=function(e){"use strict";o(n,e);var t=a(n);function n(){return i(this,n),t.apply(this,arguments)}return r(n)}(s(Error));u.prototype.name="AssertionError"},1244:function(e,t,n){var r=n(2635),i=n(3577),o=n(4587),a=r.crypto_scalarmult_ed25519_BYTES,s=r.crypto_scalarmult_ed25519_BYTES,u=r.crypto_scalarmult_ed25519_BYTES,l=r.crypto_sign_SECRETKEYBYTES,c="Ed25519";e.exports={DHLEN:a,PKLEN:s,SCALARLEN:u,SKLEN:l,ALG:c,name:c,generateKeyPair:function(e){if(e)return function(e){var t={};return t.secretKey=o.alloc(l),t.publicKey=o.alloc(s),r.crypto_sign_seed_keypair(t.publicKey,t.secretKey,e),t}(e.subarray(0,32));var t={};return t.secretKey=o.alloc(l),t.publicKey=o.alloc(s),r.crypto_sign_keypair(t.publicKey,t.secretKey),t},dh:function(e,t){var n=t.scalar,c=t.secretKey;if(!n){i(c.byteLength===l);var h=o.alloc(64);r.crypto_hash_sha512(h,c.subarray(0,32)),h[0]&=248,h[31]&=127,h[31]|=64,n=h.subarray(0,32)}i(n.byteLength===u),i(e.byteLength===s);var f=o.alloc(a);return r.crypto_scalarmult_ed25519_noclamp(f,n,e),f}}},7615:function(e,t,n){var r=n(6690).default,i=n(9728).default,o=n(2635),a=n(4587);e.exports=function(){"use strict";function e(t){r(this,e),this.key=t||null,this.nonce=0,this.CIPHER_ALG="ChaChaPoly"}return i(e,[{key:"initialiseKey",value:function(e){this.key=e,this.nonce=0}},{key:"setNonce",value:function(e){this.nonce=e}},{key:"encrypt",value:function(e,t){if(!this.hasKey)return e;t||(t=a.alloc(0));var n=function(e,t,n,r){a.isBuffer(n)||(n=a.from(n,"hex"));a.isBuffer(r)||(r=a.from(r,"hex"));var i=a.alloc(o.crypto_aead_chacha20poly1305_ietf_NPUBBYTES);new DataView(i.buffer,i.byteOffset,i.byteLength).setUint32(4,t,!0);var s=a.alloc(r.byteLength+o.crypto_aead_chacha20poly1305_ietf_ABYTES);return o.crypto_aead_chacha20poly1305_ietf_encrypt(s,r,n,null,i,e),s}(this.key,this.nonce,t,e);return this.nonce++,n}},{key:"decrypt",value:function(e,t){if(!this.hasKey)return e;t||(t=a.alloc(0));var n=function(e,t,n,r){a.isBuffer(n)||(n=a.from(n,"hex"));a.isBuffer(r)||(r=a.from(r,"hex"));var i=a.alloc(o.crypto_aead_chacha20poly1305_ietf_NPUBBYTES);new DataView(i.buffer,i.byteOffset,i.byteLength).setUint32(4,t,!0);var s=a.alloc(r.byteLength-o.crypto_aead_chacha20poly1305_ietf_ABYTES);return o.crypto_aead_chacha20poly1305_ietf_decrypt(s,null,r,n,i,e),s}(this.key,this.nonce,t,e);return this.nonce++,n}},{key:"hasKey",get:function(){return null!==this.key}},{key:"_clear",value:function(){o.sodium_memzero(this.key),this.key=null,this.nonce=null}}],[{key:"MACBYTES",get:function(){return 16}},{key:"NONCEBYTES",get:function(){return 8}},{key:"KEYBYTES",get:function(){return 32}}]),e}()},642:function(e,t,n){var r=n(754),i=r.crypto_kx_SEEDBYTES,o=r.crypto_kx_keypair,a=r.crypto_kx_seed_keypair,s=n(5679),u=s.crypto_scalarmult_BYTES,l=s.crypto_scalarmult_SCALARBYTES,c=s.crypto_scalarmult,h=s.crypto_scalarmult_base,f=n(3577),d=n(4587),p=u,g=u,y=l,A=i;e.exports={DHLEN:p,PKLEN:g,SKLEN:y,SEEDLEN:A,ALG:"25519",generateKeyPair:function(e){var t={};t.secretKey=e||d.alloc(y),t.publicKey=d.alloc(g),e?h(t.publicKey,t.secretKey):o(t.publicKey,t.secretKey);return t},generateSeedKeyPair:function(e){f(e.byteLength===y);var t={};return t.secretKey=d.alloc(y),t.publicKey=d.alloc(g),a(t.publicKey,t.secretKey,e),t},dh:function(e,t){var n=t.secretKey;f(n.byteLength===y),f(e.byteLength===g);var r=d.alloc(p);return c(r,n,e),r}}},6728:function(e,t,n){var r=n(7251),i=n(3577),o=n(4587),a=64;function s(e,t){var n=o.alloc(a);return r(n,t,e),n}e.exports={hkdf:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:2*a,u=function(e,t,n){for(var r=[o.from(t)],u=n/a,l=0;l<u;l++){var c=o.from(t),h=o.concat([r[l],c,o.from([l+1])]);r[l+1]=s(e,h)}var f=o.concat(r.slice(1));return i(f.byteLength===n,"key expansion failed, length not as expected"),f}(function(e,t){return s(e,t)}(e,t),n,r),l=[u.slice(0,a),u.slice(a)];return[l[0],l[1]]},HASHLEN:a}},7251:function(e,t,n){var r=n(4587),i=n(5915).sodium_memzero,o=n(2296),a=o.crypto_generichash,s=o.crypto_generichash_batch,u=128,l=r.alloc(384),c=l.subarray(0,128),h=l.subarray(128,256),f=l.subarray(256,384);e.exports=function(e,t,n){n.byteLength>u?(a(c.subarray(0,64),n),i(c.subarray(64))):(c.set(n),i(c.subarray(n.byteLength)));for(var r=0;r<c.byteLength;r++)h[r]=92^c[r],f[r]=54^c[r];i(c),s(e,[f].concat(t)),i(f),s(e,[h].concat(e)),i(h)},e.exports.BYTES=64,e.exports.KEYBYTES=u},5598:function(e,t,n){var r=n(7424).default,i=n(1588).default,o=n(3808).default,a=n(1655).default,s=n(6389).default,u=n(4704).default,l=n(6690).default,c=n(9728).default,h=n(3577),f=n(4587),d=n(5749),p=n(6728).HASHLEN,g=Symbol("initiator static key preshared"),y=Symbol("responder static key preshared"),A=Symbol("s"),v=Symbol("e"),b=Symbol("es"),_=Symbol("se"),m=Symbol("ee"),k=Symbol("ss"),I=Object.freeze({XX:[[v],[v,m,A,b],[A,_]],IK:[y,[v,b,A,k],[v,m,_]]}),w=function(){"use strict";function e(){l(this,e),this.size=0,this.buffers=[]}return c(e,[{key:"push",value:function(e){this.size+=e.byteLength,this.buffers.push(e)}},{key:"end",value:function(){var e,t=f.alloc(this.size),n=0,r=u(this.buffers);try{for(r.s();!(e=r.n()).done;){var i=e.value;t.set(i,n),n+=i.byteLength}}catch(o){r.e(o)}finally{r.f()}return t}}]),e}(),E=function(){"use strict";function e(t){l(this,e),this.offset=0,this.buffer=t}return c(e,[{key:"shift",value:function(e){var t=this.offset,n=this.offset+=e;if(n>this.buffer.byteLength)throw new Error("Insufficient bytes");return this.buffer.subarray(t,n)}},{key:"end",value:function(){return this.shift(this.buffer.byteLength-this.offset)}}]),e}();function x(e,t){var n={local:!1,remote:!1};switch(e){case m:return n;case b:return n.local^=!t,n.remote^=t,n;case _:return n.local^=t,n.remote^=!t,n;case k:return n.local^=1,n.remote^=1,n}}e.exports=function(e){"use strict";a(n,e);var t=s(n);function n(e,r,i){var o,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return l(this,n),(o=t.call(this,a)).s=i||o.curve.generateKeyPair(),o.e=null,o.re=null,o.rs=null,o.pattern=e,o.handshake=I[o.pattern].slice(),o.protocol=f.from(["Noise",o.pattern,o.DH_ALG,o.CIPHER_ALG,"BLAKE2b"].join("_")),o.initiator=r,o.complete=!1,o.rx=null,o.tx=null,o.hash=null,o}return c(n,[{key:"initialise",value:function(e,t){for(this.protocol.byteLength<=p?this.digest.set(this.protocol):this.mixHash(this.protocol),this.chainingKey=f.from(this.digest),this.mixHash(e);!Array.isArray(this.handshake[0]);){var n=this.handshake.shift();h(n===y||n===g,"Unexpected pattern");var r=this.initiator?n===y:n===g;r&&(this.rs=t);var i=r?this.rs:this.s.publicKey;h(null!=i,"Remote pubkey required"),this.mixHash(i)}}},{key:"final",value:function(){var e=this.split(),t=r(e,2),n=t[0],i=t[1];this.tx=this.initiator?n:i,this.rx=this.initiator?i:n,this.complete=!0,this.hash=this.getHandshakeHash(),this._clear()}},{key:"recv",value:function(e){var t,n=new E(e),r=u(this.handshake.shift());try{for(r.s();!(t=r.n()).done;){var i=t.value;switch(i){case v:this.re=n.shift(this.curve.PKLEN),this.mixHash(this.re);break;case A:var o=this.hasKey?this.curve.PKLEN+16:this.curve.PKLEN;this.rs=this.decryptAndHash(n.shift(o));break;case m:case b:case _:case k:var a=x(i,this.initiator),s=a.local?this.s:this.e,l=a.remote?this.rs:this.re;this.mixKey(l,s);break;default:throw new Error("Unexpected message")}}}catch(h){r.e(h)}finally{r.f()}var c=this.decryptAndHash(n.end());return this.handshake.length||this.final(),c}},{key:"send",value:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f.alloc(0),n=new w,r=u(this.handshake.shift());try{for(r.s();!(e=r.n()).done;){var i=e.value;switch(i){case v:null===this.e&&(this.e=this.curve.generateKeyPair()),this.mixHash(this.e.publicKey),n.push(this.e.publicKey);break;case A:n.push(this.encryptAndHash(this.s.publicKey));break;case b:case _:case m:case k:var o=x(i,this.initiator),a=o.local?this.s:this.e,s=o.remote?this.rs:this.re;this.mixKey(s,a);break;default:throw new Error("Unexpected message")}}}catch(c){r.e(c)}finally{r.f()}n.push(this.encryptAndHash(t));var l=n.end();return this.handshake.length||this.final(),l}},{key:"_clear",value:function(){i(o(n.prototype),"_clear",this).call(this),this.e.secretKey.fill(0),this.e.publicKey.fill(0),this.re.fill(0),this.e=null,this.re=null}}]),n}(d)},5749:function(e,t,n){var r=n(6690).default,i=n(9728).default,o=n(1588).default,a=n(3808).default,s=n(1655).default,u=n(6389).default,l=n(2635),c=n(3577),h=n(4587),f=n(7615),d=n(642),p=n(6728),g=p.HASHLEN,y=p.hkdf;function A(e,t){var n=h.concat([e,t]);l.crypto_generichash(e,n)}e.exports=function(e){"use strict";s(n,e);var t=u(n);function n(){var e,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return r(this,n),(e=t.call(this)).curve=i.curve||d,e.digest=h.alloc(g),e.chainingKey=null,e.offset=0,e.DH_ALG=e.curve.ALG,e}return i(n,[{key:"mixHash",value:function(e){A(this.digest,e)}},{key:"mixKey",value:function(e,t){var n=this.curve.dh(e,t),r=y(this.chainingKey,n);this.chainingKey=r[0],this.initialiseKey(r[1].subarray(0,32))}},{key:"encryptAndHash",value:function(e){var t=this.encrypt(e,this.digest);return A(this.digest,t),t}},{key:"decryptAndHash",value:function(e){var t=this.decrypt(e,this.digest);return A(this.digest,e),t}},{key:"getHandshakeHash",value:function(e){return e?(c(e.byteLength===g,"output must be ".concat(g," bytes")),e.set(this.digest),e):this.getHandshakeHash(h.alloc(g))}},{key:"split",value:function(){return y(this.chainingKey,h.alloc(0)).map((function(e){return e.subarray(0,32)}))}},{key:"_clear",value:function(){o(a(n.prototype),"_clear",this).call(this),l.sodium_memzero(this.digest),l.sodium_memzero(this.chainingKey),this.digest=null,this.chainingKey=null,this.offset=null,this.curve=null}}],[{key:"alg",get:function(){return f.alg+"_BLAKE2b"}}]),n}(f)},888:function(e,t,n){"use strict";var r=n(9047);function i(){}function o(){}o.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,o,a){if(a!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:o,resetWarningCache:i};return n.PropTypes=n,n}},2007:function(e,t,n){e.exports=n(888)()},9047:function(e){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},3661:function(e,t,n){var r=n(7156).default,i=n(7061).default,o=n(4704).default,a=n(6690).default,s=n(9728).default,u=n(4587),l=n(2479),c=n(5970),h=n(8451),f=function(){"use strict";function e(t,n,r,i,s,u,l,c,h,f,d){a(this,e),this.userData=r,this.protocol=i,this.aliases=s,this.id=u,this.handshake=null,this.messages=[],this.opened=!1,this.closed=!1,this.destroyed=!1,this.onopen=h,this.onclose=f,this.ondestroy=d,this._handshake=l,this._mux=t,this._info=n,this._localId=0,this._remoteId=0,this._active=0,this._extensions=null,this._decBound=this._dec.bind(this),this._decAndDestroyBound=this._decAndDestroy.bind(this);var p,g=o(c);try{for(g.s();!(p=g.n()).done;){var y=p.value;this.addMessage(y)}}catch(A){g.e(A)}finally{g.f()}}return s(e,[{key:"open",value:function(e){var t=this._mux._free.length>0?this._mux._free.pop():this._mux._local.push(null)-1;this._info.opened++,this._localId=t+1,this._mux._local[t]=this,0===this._remoteId&&this._info.outgoing.push(this._localId);var n={buffer:null,start:2,end:2};l.uint.preencode(n,this._localId),l.string.preencode(n,this.protocol),l.buffer.preencode(n,this.id),this._handshake&&this._handshake.preencode(n,e),n.buffer=this._mux._alloc(n.end),n.buffer[0]=0,n.buffer[1]=1,l.uint.encode(n,this._localId),l.string.encode(n,this.protocol),l.buffer.encode(n,this.id),this._handshake&&this._handshake.encode(n,e),this._mux._write0(n.buffer)}},{key:"_dec",value:function(){0===--this._active&&!0===this.closed&&this._destroy()}},{key:"_decAndDestroy",value:function(e){this._dec(),this._mux._safeDestroy(e)}},{key:"_fullyOpenSoon",value:function(){this._mux._remote[this._remoteId-1].session=this,c(this._fullyOpen.bind(this))}},{key:"_fullyOpen",value:function(){if(!0!==this.opened&&!0!==this.closed){var e=this._mux._remote[this._remoteId-1];this.opened=!0,this.handshake=this._handshake?this._handshake.decode(e.state):null,this._track(this.onopen(this.handshake,this)),e.session=this,e.state=null,null!==e.pending&&this._drain(e)}}},{key:"_drain",value:function(e){for(var t=0;t<e.pending.length;t++){var n=e.pending[t];this._mux._buffered-=g(n.state),this._recv(n.type,n.state)}e.pending=null,this._mux._resumeMaybe()}},{key:"_track",value:function(e){!0===function(e){return!(!e||"function"!==typeof e.then)}(e)&&(this._active++,e.then(this._decBound,this._decAndDestroyBound))}},{key:"_close",value:function(e){!0!==this.closed&&(this.closed=!0,this._info.opened--,this._remoteId>0&&(this._mux._remote[this._remoteId-1]=null,this._remoteId=0,this._mux._free.push(this._localId-1)),this._mux._local[this._localId-1]=null,this._localId=0,this._mux._gc(this._info),this._track(this.onclose(e,this)),0===this._active&&this._destroy())}},{key:"_destroy",value:function(){!0!==this.destroyed&&(this.destroyed=!0,this._track(this.ondestroy(this)))}},{key:"_recv",value:function(e,t){e<this.messages.length&&this.messages[e].recv(t,this)}},{key:"cork",value:function(){this._mux.cork()}},{key:"uncork",value:function(){this._mux.uncork()}},{key:"close",value:function(){if(!0!==this.closed){var e={buffer:null,start:2,end:2};l.uint.preencode(e,this._localId),e.buffer=this._mux._alloc(e.end),e.buffer[0]=0,e.buffer[1]=3,l.uint.encode(e,this._localId),this._close(!1),this._mux._write0(e.buffer)}}},{key:"addMessage",value:function(e){if(!e)return this._skipMessage();var t=this.messages.length,n=e.encoding||l.raw,r=e.onmessage||d,i=this,o=function(e,t){var n={buffer:null,start:0,end:0};return e.preencode(n,t),n.end}(l.uint,t),a={type:t,encoding:n,onmessage:r,recv:function(e,t){t._track(a.onmessage(n.decode(e),t))},send:function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i;if(!0===r.closed)return!1;var a=r._mux,s={buffer:null,start:0,end:o};return null!==a._batch?(n.preencode(s,e),s.buffer=a._alloc(s.end),l.uint.encode(s,t),n.encode(s,e),a._pushBatch(r._localId,s.buffer),!0):(l.uint.preencode(s,r._localId),n.preencode(s,e),s.buffer=a._alloc(s.end),l.uint.encode(s,r._localId),l.uint.encode(s,t),n.encode(s,e),a.stream.write(s.buffer))}};return this.messages.push(a),a}},{key:"_skipMessage",value:function(){var e={type:this.messages.length,encoding:l.raw,onmessage:d,recv:function(e,t){},send:function(e,t){}};return this.messages.push(e),e}}]),e}();function d(){}function p(e,t){return e+"##"+(t?u.toString(t,"hex"):"")}function g(e){return e.end-e.start+512}e.exports=function(e){"use strict";function t(e){var n=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).alloc;a(this,t),null===e.userData&&(e.userData=this),this.isProtomux=!0,this.stream=e,this.corked=0,this._alloc=n||("function"===typeof e.alloc?e.alloc.bind(e):u.allocUnsafe),this._safeDestroyBound=this._safeDestroy.bind(this),this._remoteBacklog=0,this._buffered=0,this._paused=!1,this._remote=[],this._local=[],this._free=[],this._batch=null,this._batchState=null,this._infos=new Map,this._notify=new Map,this.stream.on("data",this._ondata.bind(this)),this.stream.on("end",this._onend.bind(this)),this.stream.on("error",d),this.stream.on("close",this._shutdown.bind(this))}return s(t,[{key:e,value:i().mark((function e(){var t,n,r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=o(this._local),e.prev=1,t.s();case 3:if((n=t.n()).done){e.next=10;break}if(null===(r=n.value)){e.next=8;break}return e.next=8,r;case 8:e.next=3;break;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(1),t.e(e.t0);case 15:return e.prev=15,t.f(),e.finish(15);case 18:case"end":return e.stop()}}),e,this,[[1,12,15,18]])}))},{key:"cork",value:function(){1===++this.corked&&(this._batch=[],this._batchState={buffer:null,start:0,end:1})}},{key:"uncork",value:function(){0===--this.corked&&(this._sendBatch(this._batch,this._batchState),this._batch=null,this._batchState=null)}},{key:"pair",value:function(e,t){var n=e.protocol,r=e.id,i=void 0===r?null:r;this._notify.set(p(n,i),t)}},{key:"unpair",value:function(e){var t=e.protocol,n=e.id,r=void 0===n?null:n;this._notify.delete(p(t,r))}},{key:"opened",value:function(e){var t=e.protocol,n=e.id,r=p(t,void 0===n?null:n),i=this._infos.get(r);return!!i&&i.opened>0}},{key:"createChannel",value:function(e){var t=e.userData,n=void 0===t?null:t,r=e.protocol,i=e.aliases,o=void 0===i?[]:i,a=e.id,s=void 0===a?null:a,u=e.unique,l=void 0===u||u,c=e.handshake,h=void 0===c?null:c,p=e.messages,g=void 0===p?[]:p,y=e.onopen,A=void 0===y?d:y,v=e.onclose,b=void 0===v?d:v,_=e.ondestroy,m=void 0===_?d:_;if(this.stream.destroyed)return null;var k=this._get(r,s,o);if(l&&k.opened>0)return null;if(0===k.incoming.length)return new f(this,k,n,r,o,s,h,g,A,b,m);this._remoteBacklog--;var I=k.incoming.shift();if(null===this._remote[I-1])return null;var w=new f(this,k,n,r,o,s,h,g,A,b,m);return w._remoteId=I,w._fullyOpenSoon(),w}},{key:"_pushBatch",value:function(e,t){this._batchState.end>=8388608&&(this._sendBatch(this._batch,this._batchState),this._batch=[],this._batchState={buffer:null,start:0,end:1}),0!==this._batch.length&&this._batch[this._batch.length-1].localId===e||(this._batchState.end++,l.uint.preencode(this._batchState,e)),l.buffer.preencode(this._batchState,t),this._batch.push({localId:e,buffer:t})}},{key:"_sendBatch",value:function(e,t){if(0!==e.length){var n=e[0].localId;t.buffer=this._alloc(t.end),t.buffer[t.start++]=0,t.buffer[t.start++]=0,l.uint.encode(t,n);for(var r=0;r<e.length;r++){var i=e[r];n!==i.localId&&(t.buffer[t.start++]=0,l.uint.encode(t,n=i.localId)),l.buffer.encode(t,i.buffer)}this.stream.write(t.buffer)}}},{key:"_get",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=p(e,t),i=this._infos.get(r);if(i)return i;i={key:r,protocol:e,aliases:[],id:t,pairing:0,opened:0,incoming:[],outgoing:[]},this._infos.set(r,i);var a,s=o(n);try{for(s.s();!(a=s.n()).done;){var u=p(a.value,t);i.aliases.push(u),this._infos.set(u,i)}}catch(l){s.e(l)}finally{s.f()}return i}},{key:"_gc",value:function(e){if(0===e.opened&&0===e.outgoing.length&&0===e.incoming.length){this._infos.delete(e.key);var t,n=o(e.aliases);try{for(n.s();!(t=n.n()).done;){var r=t.value;this._infos.delete(r)}}catch(i){n.e(i)}finally{n.f()}}}},{key:"_ondata",value:function(e){try{var t={buffer:e,start:0,end:e.byteLength};this._decode(l.uint.decode(t),t)}catch(n){this._safeDestroy(n)}}},{key:"_onend",value:function(){this.stream.end()}},{key:"_decode",value:function(e,t){var n=l.uint.decode(t);if(0!==e){var r=e<=this._remote.length?this._remote[e-1]:null;null!==r&&(null===r.pending?r.session._recv(n,t):this._bufferMessage(r,n,t))}else this._oncontrolsession(n,t)}},{key:"_oncontrolsession",value:function(e,t){switch(e){case 0:this._onbatch(t);break;case 1:this._onopensession(t);break;case 2:this._onrejectsession(t);break;case 3:this._onclosesession(t)}}},{key:"_bufferMessage",value:function(e,t,n){var r={buffer:n.buffer,start:n.start,end:n.end};e.pending.push({type:t,state:r}),this._buffered+=g(r),this._pauseMaybe()}},{key:"_pauseMaybe",value:function(){!0===this._paused||this._buffered<=32768||(this._paused=!0,this.stream.pause())}},{key:"_resumeMaybe",value:function(){!1===this._paused||this._buffered>32768||(this._paused=!1,this.stream.resume())}},{key:"_onbatch",value:function(e){for(var t=e.end,n=l.uint.decode(e);e.end>e.start;){var r=l.uint.decode(e);0!==r?(e.end=e.start+r,this._decode(n,e),e.start=e.end,e.end=t):n=l.uint.decode(e)}}},{key:"_onopensession",value:function(e){var t=l.uint.decode(e),n=l.string.decode(e),r=l.buffer.decode(e);if(0!==t){var i=t-1,o=this._get(n,r);if(this._remote.length===i&&this._remote.push(null),i>=this._remote.length||null!==this._remote[i])throw new Error("Invalid open message");if(o.outgoing.length>0){var a=o.outgoing.shift(),s=this._local[a-1];return null===s?void this._free.push(a-1):(this._remote[i]={state:e,pending:null,session:null},s._remoteId=t,void s._fullyOpen())}var u={buffer:e.buffer,start:e.start,end:e.end};if(this._remote[i]={state:u,pending:[],session:null},++this._remoteBacklog>Infinity)throw new Error("Remote exceeded backlog");o.pairing++,o.incoming.push(t),this._requestSession(n,r,o).catch(this._safeDestroyBound)}else this._rejectSession(0)}},{key:"_onrejectsession",value:function(e){var t,n=l.uint.decode(e),r=o(this._infos.values());try{for(r.s();!(t=r.n()).done;){var i=t.value,a=i.outgoing.indexOf(n);if(-1!==a){i.outgoing.splice(a,1);var s=this._local[n-1];return this._free.push(n-1),null!==s&&s._close(!0),void this._gc(i)}}}catch(u){r.e(u)}finally{r.f()}throw new Error("Invalid reject message")}},{key:"_onclosesession",value:function(e){var t=l.uint.decode(e);if(0!==t){var n=t-1,r=n<this._remote.length?this._remote[n]:null;null!==r&&null!==r.session&&r.session._close(!0)}}},{key:"_requestSession",value:function(){var e=r(i().mark((function e(t,n,r){var o;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(o=this._notify.get(p(t,n))||this._notify.get(p(t,null)))){e.next=4;break}return e.next=4,o(n);case 4:if(!(--r.pairing>0)){e.next=6;break}return e.abrupt("return");case 6:for(;r.incoming.length>0;)this._rejectSession(r,r.incoming.shift());this._gc(r);case 8:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"_rejectSession",value:function(e,t){if(t>0){var n=this._remote[t-1];if(null!==n.pending)for(var r=0;r<n.pending.length;r++)this._buffered-=g(n.pending[r].state);this._remote[t-1]=null,this._resumeMaybe()}var i={buffer:null,start:2,end:2};l.uint.preencode(i,t),i.buffer=this._alloc(i.end),i.buffer[0]=0,i.buffer[1]=2,l.uint.encode(i,t),this._write0(i.buffer)}},{key:"_write0",value:function(e){null===this._batch?this.stream.write(e):this._pushBatch(0,e.subarray(1))}},{key:"destroy",value:function(e){this.stream.destroy(e)}},{key:"_safeDestroy",value:function(e){h(e),this.stream.destroy(e)}},{key:"_shutdown",value:function(){var e,t=o(this._local);try{for(t.s();!(e=t.n()).done;){var n=e.value;null!==n&&n._close(!0)}}catch(r){t.e(r)}finally{t.f()}}}],[{key:"from",value:function(e,t){return e.userData&&e.userData.isProtomux?e.userData:e.isProtomux?e:new this(e,t)}},{key:"isProtomux",value:function(e){return"object"===typeof e&&!0===e.isProtomux}}]),t}(Symbol.iterator)},5970:function(e){e.exports="function"===typeof queueMicrotask?queueMicrotask:function(e){return Promise.resolve().then(e)}},5096:function(e,t,n){var r=n(1655).default,i=n(6389).default,o=n(6690).default,a=n(9728).default,s=n(8982),u=t.get=function(e,t){var n=8*e.byteLength;if(t<0&&(t+=n),t<0||t>=n)return!1;var r=8*e.BYTES_PER_ELEMENT,i=t&r-1;return 0!==(e[(t-i)/r]&1<<i)},l=t.set=function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=8*e.byteLength;if(t<0&&(t+=r),t<0||t>=r)return!1;var i=8*e.BYTES_PER_ELEMENT,o=t&i-1,a=(t-o)/i,s=1<<o;if(n){if(0!==(e[a]&s))return!1}else if(0===(e[a]&s))return!1;return e[a]^=s,!0};function c(e,t){return e?16512+t:t}function h(e,t){return e?2064+t:t}t.fill=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:8*e.byteLength,i=8*e.byteLength;if(n<0&&(n+=i),r<0&&(r+=i),n<0||n>=8*e.byteLength||n>=r)return e;var o,a,s=8*e.BYTES_PER_ELEMENT,u=n&s-1;if(o=(n-u)/s,0!==u){var l=s-u;r-n<l&&(l=r-n);var c=(1<<l)-1<<u;t?e[o]|=c:e[o]&=~c,o++}var h=r&s-1;if(a=(r-h)/s,0!==h&&a>=o){var f=(1<<h)-1;t?e[a]|=f:e[a]&=~f}return o<a&&e.fill(t?Math.pow(2,s)-1:0,o,a),e},t.findFirst=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=8*e.byteLength;if(n<0&&(n+=r),n<0&&(n=0),n>=r)return-1;t=!!t;for(var i=n;i<r;i++)if(u(e,i)===t)return i;return-1},t.findLast=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:8*e.byteLength-1,r=8*e.byteLength;if(n<0&&(n+=r),n<0)return-1;n>=r&&(n=r-1),t=!!t;for(var i=n;i>=0;i--)if(u(e,i)===t)return i;return-1};var f=t.Index=function(){"use strict";function e(){o(this,e),this.handle=new Uint32Array(1032)}return a(e,[{key:"byteLength",get:function(){return 0}},{key:"skipFirst",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=8*this.field.byteLength;if(t<0&&(t+=n),t<0&&(t=0),t>=n)return n-1;var r=Math.floor(t/16384);if(r>127)return t;for(;r<=127&&u(this.handle,c(e,r));)r++;if(128===r)return n-1;var i=16384*r,o=0;for(t>i&&(o=Math.floor((t-i)/128));o<=127&&u(this.handle,c(e,128*r+o+128));)o++,i+=128;return 128===o&&127!==r?this.skipFirst(e,16384*(r+1)):(i>t&&(t=i),t<n?t:n-1)}},{key:"skipLast",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:8*this.field.byteLength-1,n=8*this.field.byteLength;if(t<0&&(t+=n),t<0)return 0;t>=n&&(t=n-1);var r=Math.floor(t/16384);if(r>127)return t;for(;r>=0&&u(this.handle,c(e,r));)r--;if(-1===r)return 0;var i=16384*(r+1)-1,o=127;for(t<i&&(o=Math.floor((i-t)/128));o>=0&&u(this.handle,c(e,128*r+o+128));)o--,i-=128;return-1===o&&0!==r?this.skipLast(e,16384*r-1):(i<t&&(t=i),t)}}],[{key:"from",value:function(e){return Array.isArray(e)?new g(e):new d(e)}}]),e}(),d=function(e){"use strict";r(n,e);var t=i(n);function n(e){var r;o(this,n),(r=t.call(this)).field=e;for(var i=e.BYTES_PER_ELEMENT,a=0;a<128;a++){for(var u=0;u<128;u++){var f=16*(128*a+u),d=!0,p=!1;if(f+16<=r.field.byteLength){var g=r.field.subarray(f/i,(f+16)/i);d=s.allz(g),p=s.allo(g)}var y=128*a+128+u;l(r.handle,c(!1,y),d),l(r.handle,c(!0,y),p)}var A=h(!1,16*a+16)/4,v=s.allo(r.handle.subarray(A,A+4));l(r.handle,c(!1,a),v);var b=h(!0,16*a+16)/4,_=s.allo(r.handle.subarray(b,b+4));l(r.handle,c(!0,a),_)}return r}return a(n,[{key:"byteLength",get:function(){return this.field.byteLength}},{key:"update",value:function(e){var t=8*this.field.byteLength;if(e<0&&(e+=t),e<0||e>=t)return!1;var n=this.field.BYTES_PER_ELEMENT,r=Math.floor(e/16384),i=Math.floor(e/128),o=16*i/n,a=this.field.subarray(o,o+16/n),u=s.allz(a),f=s.allo(a),d=!1;if(l(this.handle,c(!1,128+i),u)){d=!0;var p=h(!1,16*r+16)/4,g=s.allo(this.handle.subarray(p,p+4));l(this.handle,c(!1,r),g)}if(l(this.handle,c(!0,128+i),f)){d=!0;var y=h(!0,16*r+16)/4,A=s.allo(this.handle.subarray(y,y+4));l(this.handle,c(!0,r),A)}return d}}]),n}(f);function p(e,t){for(var n=0;n<e.length;n++){var r=e[n],i=r.offset,o=r.offset+r.field.byteLength;if(t>=i&&t+16<=o)return r}return null}var g=function(e){"use strict";r(n,e);var t=i(n);function n(e){var r;o(this,n),(r=t.call(this)).chunks=e;for(var i=0;i<128;i++){for(var a=0;a<128;a++){var u=16*(128*i+a),f=!0,d=!1,g=p(r.chunks,u);if(null!==g){var y=g.field.BYTES_PER_ELEMENT,A=g.field.subarray((u-g.offset)/y,(u-g.offset+16)/y);f=s.allz(A),d=s.allo(A)}var v=128*i+128+a;l(r.handle,c(!1,v),f),l(r.handle,c(!0,v),d)}var b=h(!1,16*i+16)/4,_=s.allo(r.handle.subarray(b,b+4));l(r.handle,c(!1,i),_);var m=h(!0,16*i+16)/4,k=s.allo(r.handle.subarray(m,m+4));l(r.handle,c(!0,i),k)}return r}return a(n,[{key:"byteLength",get:function(){var e=this.chunks[this.chunks.length-1];return e?e.offset+e.field.byteLength:0}},{key:"update",value:function(e){if(0===this.chunks.length)return!1;var t=this.chunks[this.chunks.length-1],n=8*(t.offset+t.field.byteLength);if(e<0&&(e+=n),e<0||e>=n)return!1;var r=Math.floor(e/16384),i=Math.floor(e/128),o=16*i,a=p(this.chunks,o);if(null===a)return!1;var u=a.field.BYTES_PER_ELEMENT,f=a.field.subarray((o-a.offset)/u,(o-a.offset+16)/u),d=s.allz(f),g=s.allo(f),y=!1;if(l(this.handle,c(!1,128+i),d)){y=!0;var A=h(!1,16*r+16)/4,v=s.allo(this.handle.subarray(A,A+4));l(this.handle,c(!1,r),v)}if(l(this.handle,c(!0,128+i),g)){y=!0;var b=h(!0,16*r+16)/4,_=s.allo(this.handle.subarray(b,b+4));l(this.handle,c(!0,r),_)}return y}}]),n}(f)},3629:function(e){e.exports=function(){throw new Error("random-access-file is not supported in the browser")}},4541:function(e,t,n){var r=n(6690).default,i=n(9728).default,o=n(1655).default,a=n(6389).default,s=n(8656),u=n(1185),l=n(4587);e.exports=function(e){"use strict";o(n,e);var t=a(n);function n(e){var i;return r(this,n),i=t.call(this),"number"===typeof e&&(e={length:e}),e||(e={}),l.isBuffer(e)&&(e={length:e.length,buffer:e}),u(e)||(e={}),i.length=e.length||0,i.pageSize=e.length||e.pageSize||1048576,i.buffers=[],e.buffer&&i.buffers.push(e.buffer),i}return i(n,[{key:"_stat",value:function(e){for(var t={size:this.length,blksize:this.pageSize,blocks:0},n=0;n<this.buffers.length;n++)this.buffers[n]&&(t.blocks+=this.buffers[n].byteLength/512);e.callback(null,t)}},{key:"_write",value:function(e){var t=Math.floor(e.offset/this.pageSize),n=e.offset-t*this.pageSize,r=0,i=e.offset+e.size;for(i>this.length&&(this.length=i);r<e.size;){var o=this._page(t++,!0),a=this.pageSize-n,s=a<e.size-r?r+a:e.size;l.copy(e.data,o,n,r,s),r=s,n=0}e.callback(null,null)}},{key:"_read",value:function(e){var t=Math.floor(e.offset/this.pageSize),n=e.offset-t*this.pageSize,r=0;if(e.offset+e.size>this.length)return e.callback(new Error("Could not satisfy length"),null);for(var i=l.alloc(e.size);r<e.size;){var o=this._page(t++,!1),a=this.pageSize-n,s=e.size-r,u=a<s?a:s;o&&l.copy(o,i,r,n,n+u),r+=u,n=0}e.callback(null,i)}},{key:"_del",value:function(e){var t=Math.floor(e.offset/this.pageSize),n=e.offset-t*this.pageSize,r=0;if(n&&e.offset+e.size>=this.length){var i=this.buffers[t];i&&i.fill(0,n)}for(e.offset+e.size>this.length&&(e.size=Math.max(0,this.length-e.offset));r<e.size;)0===n&&e.size-r>=this.pageSize&&(this.buffers[t]=void 0),n=0,t+=1,r+=this.pageSize-n;e.offset+e.size>=this.length&&(this.length=e.offset),e.callback(null,null)}},{key:"_unlink",value:function(e){this._buffers=[],this.length=0,e.callback(null,null)}},{key:"_page",value:function(e,t){var n=this.buffers[e];return n||!t?n:n=this.buffers[e]=l.alloc(this.pageSize)}},{key:"toBuffer",value:function(){for(var e=l.alloc(this.length),t=0;t<this.buffers.length;t++)this.buffers[t]&&l.copy(this.buffers[t],e,t*this.pageSize);return e}},{key:"clone",value:function(){var e=new n;return e.length=this.length,e.pageSize=this.pageSize,e.buffers=this.buffers.map((function(e){return l.from(e)})),e}}]),n}(s)},8656:function(e,t,n){var r=n(6690).default,i=n(9728).default,o=n(1655).default,a=n(6389).default,s=n(7465),u=n(5970),l=v(new Error("Not readable")),c=v(new Error("Not writable")),h=v(new Error("Not deletable")),f=v(new Error("Not statable")),d=v(null),p=v(null),g=v(null);e.exports=function(e){"use strict";o(n,e);var t=a(n);function n(e){var i;return r(this,n),(i=t.call(this))._queued=[],i._pending=0,i._needsOpen=!0,i.opened=!1,i.suspended=!1,i.closed=!1,i.unlinked=!1,i.writing=!1,e&&(e.open&&(i._open=e.open),e.read&&(i._read=e.read),e.write&&(i._write=e.write),e.del&&(i._del=e.del),e.truncate&&(i._truncate=e.truncate),e.stat&&(i._stat=e.stat),e.suspend&&(i._suspend=e.suspend),e.close&&(i._close=e.close),e.unlink&&(i._unlink=e.unlink)),i.readable=i._read!==n.prototype._read,i.writable=i._write!==n.prototype._write,i.deletable=i._del!==n.prototype._del,i.truncatable=i._truncate!==n.prototype._truncate||i.deletable,i.statable=i._stat!==n.prototype._stat,i}return i(n,[{key:"read",value:function(e,t,n){this.run(new y(this,0,e,t,null,n),!1)}},{key:"_read",value:function(e){return l(e)}},{key:"write",value:function(e,t,n){n||(n=m),this.run(new y(this,1,e,t.length,t,n),!0)}},{key:"_write",value:function(e){return c(e)}},{key:"del",value:function(e,t,n){n||(n=m),this.run(new y(this,2,e,t,null,n),!0)}},{key:"_del",value:function(e){return h(e)}},{key:"truncate",value:function(e,t){t||(t=m),this.run(new y(this,3,e,0,null,t),!0)}},{key:"_truncate",value:function(e){e.size=1/0,this._del(e)}},{key:"stat",value:function(e){this.run(new y(this,4,0,0,null,e),!1)}},{key:"_stat",value:function(e){return f(e)}},{key:"open",value:function(e){if(e||(e=m),this.opened&&!this._needsOpen)return _(e);this._needsOpen=!1,A(this,new y(this,5,0,0,null,e))}},{key:"_open",value:function(e){return d(e)}},{key:"suspend",value:function(e){if(e||(e=m),this.closed||this.suspended)return _(e);this._needsOpen=!0,A(this,new y(this,6,0,0,null,e))}},{key:"_suspend",value:function(e){this._close(e)}},{key:"close",value:function(e){if(e||(e=m),this.closed)return _(e);A(this,new y(this,7,0,0,null,e))}},{key:"_close",value:function(e){return p(e)}},{key:"unlink",value:function(e){e||(e=m),this.closed||this.close(m),A(this,new y(this,8,0,0,null,e))}},{key:"_unlink",value:function(e){return g(e)}},{key:"run",value:function(e,t){t&&!this.writing&&(this.writing=!0,this._needsOpen=!0),this._needsOpen&&this.open(m),this._queued.length?this._queued.push(e):e._run()}}]),n}(s);var y=function(){"use strict";function e(t,n,i,o,a,s){r(this,e),this.type=n,this.offset=i,this.size=o,this.data=a,this.storage=t,this._sync=!1,this._callback=s,this._openError=null}return i(e,[{key:"_maybeOpenError",value:function(e){if(5===this.type)for(var t=this.storage._queued,n=1;n<t.length;n++){var r=t[n];if(5===r.type)break;r._openError=e}}},{key:"_unqueue",value:function(e){var t=this.storage,n=t._queued;if(e)this._maybeOpenError(e);else if(this.type>4)switch(this.type){case 5:t.suspended&&(t.suspended=!1,t.emit("unsuspend")),t.opened||(t.opened=!0,t.emit("open"));break;case 6:t.suspended||(t.suspended=!0,t.emit("suspend"));break;case 7:t.closed||(t.closed=!0,t.emit("close"));break;case 8:t.unlinked||(t.unlinked=!0,t.emit("unlink"))}n.length&&n[0]===this&&n.shift(),--t._pending||function(e){var t=e._queued;for(;t.length>0;){var n=t[0].type>4;if(n&&e._pending||t[0]._run(),n)return;t.shift()}}(t)}},{key:"callback",value:function(e,t){if(this._sync)return b(this,e,t);this._unqueue(e),this._callback(e,t)}},{key:"_openAndNotClosed",value:function(){var e=this.storage;return!(!e.opened||e.closed)||(e.opened?e.closed&&b(this,new Error("Closed")):b(this,this._openError||new Error("Not opened")),!1)}},{key:"_open",value:function(){var e=this.storage;return e.opened&&!e.suspended?b(this,null):e.closed?b(this,new Error("Closed")):void e._open(this)}},{key:"_run",value:function(){var e=this.storage;switch(e._pending++,this._sync=!0,this.type){case 0:this._openAndNotClosed()&&e._read(this);break;case 1:this._openAndNotClosed()&&e._write(this);break;case 2:this._openAndNotClosed()&&e._del(this);break;case 3:this._openAndNotClosed()&&e._truncate(this);break;case 4:this._openAndNotClosed()&&e._stat(this);break;case 5:this._open();break;case 6:e.closed||!e.opened||e.suspended?b(this,null):e._suspend(this);break;case 7:e.closed||!e.opened||e.suspended?b(this,null):e._close(this);break;case 8:e.unlinked?b(this,null):e._unlink(this)}this._sync=!1}}]),e}();function A(e,t){e._queued.push(t),e._pending||t._run()}function v(e){return function(t){b(t,e)}}function b(e,t,n){u((function(){return e.callback(t,n)}))}function _(e){u((function(){return e(null)}))}function m(){}},545:function(e,t,n){var r=n(6690).default,i=n(9728).default;e.exports=function(e){"use strict";function t(e){r(this,t),this.values=e,this.start=0,this.length=this.values.length}return i(t,[{key:"next",value:function(){if(0===this.length){if(0===this.start)return{done:!0,value:void 0};this.length=this.start,this.start=0}var e=this.start+(Math.random()*this.length|0),t=this.start+--this.length,n=this.values[e];return this.values[e]=this.values[t],this.values[t]=n,{done:!1,value:n}}},{key:"dequeue",value:function(){this.values[this.start+this.length]=this.values[this.values.length-1],this.values.pop()}},{key:"requeue",value:function(){var e=this.start+this.length,t=this.values[e];this.values[e]=this.values[this.start],this.values[this.start++]=t}},{key:"restart",value:function(){return this.start=0,this.length=this.values.length,this}},{key:e,value:function(){return this}}]),t}(Symbol.iterator)},4463:function(e,t,n){"use strict";var r=n(2791),i=n(5296);function o(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=new Set,s={};function u(e,t){l(e,t),l(e+"Capture",t)}function l(e,t){for(s[e]=t,e=0;e<t.length;e++)a.add(t[e])}var c=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),h=Object.prototype.hasOwnProperty,f=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d={},p={};function g(e,t,n,r,i,o,a){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=a}var y={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){y[e]=new g(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];y[t]=new g(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){y[e]=new g(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){y[e]=new g(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){y[e]=new g(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){y[e]=new g(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){y[e]=new g(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){y[e]=new g(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){y[e]=new g(e,5,!1,e.toLowerCase(),null,!1,!1)}));var A=/[\-:]([a-z])/g;function v(e){return e[1].toUpperCase()}function b(e,t,n,r){var i=y.hasOwnProperty(t)?y[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!h.call(p,e)||!h.call(d,e)&&(f.test(e)?p[e]=!0:(d[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(A,v);y[t]=new g(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(A,v);y[t]=new g(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(A,v);y[t]=new g(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){y[e]=new g(e,1,!1,e.toLowerCase(),null,!1,!1)})),y.xlinkHref=new g("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){y[e]=new g(e,1,!1,e.toLowerCase(),null,!0,!0)}));var _=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,m=Symbol.for("react.element"),k=Symbol.for("react.portal"),I=Symbol.for("react.fragment"),w=Symbol.for("react.strict_mode"),E=Symbol.for("react.profiler"),x=Symbol.for("react.provider"),C=Symbol.for("react.context"),S=Symbol.for("react.forward_ref"),B=Symbol.for("react.suspense"),Q=Symbol.for("react.suspense_list"),L=Symbol.for("react.memo"),D=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var M=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var P=Symbol.iterator;function U(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=P&&e[P]||e["@@iterator"])?e:null}var N,T=Object.assign;function O(e){if(void 0===N)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);N=t&&t[1]||""}return"\n"+N+e}var K=!1;function R(e,t){if(!e||K)return"";K=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(l){var r=l}Reflect.construct(e,[],t)}else{try{t.call()}catch(l){r=l}e.call(t.prototype)}else{try{throw Error()}catch(l){r=l}e()}}catch(l){if(l&&r&&"string"===typeof l.stack){for(var i=l.stack.split("\n"),o=r.stack.split("\n"),a=i.length-1,s=o.length-1;1<=a&&0<=s&&i[a]!==o[s];)s--;for(;1<=a&&0<=s;a--,s--)if(i[a]!==o[s]){if(1!==a||1!==s)do{if(a--,0>--s||i[a]!==o[s]){var u="\n"+i[a].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}}while(1<=a&&0<=s);break}}}finally{K=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?O(e):""}function F(e){switch(e.tag){case 5:return O(e.type);case 16:return O("Lazy");case 13:return O("Suspense");case 19:return O("SuspenseList");case 0:case 2:case 15:return e=R(e.type,!1);case 11:return e=R(e.type.render,!1);case 1:return e=R(e.type,!0);default:return""}}function Y(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case I:return"Fragment";case k:return"Portal";case E:return"Profiler";case w:return"StrictMode";case B:return"Suspense";case Q:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case C:return(e.displayName||"Context")+".Consumer";case x:return(e._context.displayName||"Context")+".Provider";case S:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case L:return null!==(t=e.displayName||null)?t:Y(e.type)||"Memo";case D:t=e._payload,e=e._init;try{return Y(e(t))}catch(n){}}return null}function z(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Y(t);case 8:return t===w?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function H(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function j(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function q(e){e._valueTracker||(e._valueTracker=function(e){var t=j(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function G(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=j(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function V(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function W(e,t){var n=t.checked;return T({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function J(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=H(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function X(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function Z(e,t){X(e,t);var n=H(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,H(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function $(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&V(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+H(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(o(91));return T({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(o(92));if(te(n)){if(1<n.length)throw Error(o(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:H(n)}}function oe(e,t){var n=H(t.value),r=H(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function ae(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function se(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ue(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?se(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var le,ce,he=(ce=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((le=le||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=le.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return ce(e,t)}))}:ce);function fe(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var de={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function ge(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||de.hasOwnProperty(e)&&de[e]?(""+t).trim():t+"px"}function ye(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=ge(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(de).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),de[t]=de[e]}))}));var Ae=T({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ve(e,t){if(t){if(Ae[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(o(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(o(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(o(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(o(62))}}function be(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var _e=null;function me(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var ke=null,Ie=null,we=null;function Ee(e){if(e=bi(e)){if("function"!==typeof ke)throw Error(o(280));var t=e.stateNode;t&&(t=mi(t),ke(e.stateNode,e.type,t))}}function xe(e){Ie?we?we.push(e):we=[e]:Ie=e}function Ce(){if(Ie){var e=Ie,t=we;if(we=Ie=null,Ee(e),t)for(e=0;e<t.length;e++)Ee(t[e])}}function Se(e,t){return e(t)}function Be(){}var Qe=!1;function Le(e,t,n){if(Qe)return e(t,n);Qe=!0;try{return Se(e,t,n)}finally{Qe=!1,(null!==Ie||null!==we)&&(Be(),Ce())}}function De(e,t){var n=e.stateNode;if(null===n)return null;var r=mi(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(o(231,t,typeof n));return n}var Me=!1;if(c)try{var Pe={};Object.defineProperty(Pe,"passive",{get:function(){Me=!0}}),window.addEventListener("test",Pe,Pe),window.removeEventListener("test",Pe,Pe)}catch(ce){Me=!1}function Ue(e,t,n,r,i,o,a,s,u){var l=Array.prototype.slice.call(arguments,3);try{t.apply(n,l)}catch(c){this.onError(c)}}var Ne=!1,Te=null,Oe=!1,Ke=null,Re={onError:function(e){Ne=!0,Te=e}};function Fe(e,t,n,r,i,o,a,s,u){Ne=!1,Te=null,Ue.apply(Re,arguments)}function Ye(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function ze(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function He(e){if(Ye(e)!==e)throw Error(o(188))}function je(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Ye(e)))throw Error(o(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var a=i.alternate;if(null===a){if(null!==(r=i.return)){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return He(i),e;if(a===r)return He(i),t;a=a.sibling}throw Error(o(188))}if(n.return!==r.return)n=i,r=a;else{for(var s=!1,u=i.child;u;){if(u===n){s=!0,n=i,r=a;break}if(u===r){s=!0,r=i,n=a;break}u=u.sibling}if(!s){for(u=a.child;u;){if(u===n){s=!0,n=a,r=i;break}if(u===r){s=!0,r=a,n=i;break}u=u.sibling}if(!s)throw Error(o(189))}}if(n.alternate!==r)throw Error(o(190))}if(3!==n.tag)throw Error(o(188));return n.stateNode.current===n?e:t}(e))?qe(e):null}function qe(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=qe(e);if(null!==t)return t;e=e.sibling}return null}var Ge=i.unstable_scheduleCallback,Ve=i.unstable_cancelCallback,We=i.unstable_shouldYield,Je=i.unstable_requestPaint,Xe=i.unstable_now,Ze=i.unstable_getCurrentPriorityLevel,$e=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,ot=null;var at=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(st(e)/ut|0)|0},st=Math.log,ut=Math.LN2;var lt=64,ct=4194304;function ht(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ft(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,o=e.pingedLanes,a=268435455&n;if(0!==a){var s=a&~i;0!==s?r=ht(s):0!==(o&=a)&&(r=ht(o))}else 0!==(a=n&~i)?r=ht(a):0!==o&&(r=ht(o));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(o=t&-t)||16===i&&0!==(4194240&o)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-at(t)),r|=e[n],t&=~i;return r}function dt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function gt(){var e=lt;return 0===(4194240&(lt<<=1))&&(lt=64),e}function yt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function At(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-at(t)]=n}function vt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-at(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var bt=0;function _t(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var mt,kt,It,wt,Et,xt=!1,Ct=[],St=null,Bt=null,Qt=null,Lt=new Map,Dt=new Map,Mt=[],Pt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ut(e,t){switch(e){case"focusin":case"focusout":St=null;break;case"dragenter":case"dragleave":Bt=null;break;case"mouseover":case"mouseout":Qt=null;break;case"pointerover":case"pointerout":Lt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Dt.delete(t.pointerId)}}function Nt(e,t,n,r,i,o){return null===e||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},null!==t&&(null!==(t=bi(t))&&kt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Tt(e){var t=vi(e.target);if(null!==t){var n=Ye(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=ze(n)))return e.blockedOn=t,void Et(e.priority,(function(){It(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Ot(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Wt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=bi(n))&&kt(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);_e=r,n.target.dispatchEvent(r),_e=null,t.shift()}return!0}function Kt(e,t,n){Ot(e)&&n.delete(t)}function Rt(){xt=!1,null!==St&&Ot(St)&&(St=null),null!==Bt&&Ot(Bt)&&(Bt=null),null!==Qt&&Ot(Qt)&&(Qt=null),Lt.forEach(Kt),Dt.forEach(Kt)}function Ft(e,t){e.blockedOn===t&&(e.blockedOn=null,xt||(xt=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Rt)))}function Yt(e){function t(t){return Ft(t,e)}if(0<Ct.length){Ft(Ct[0],e);for(var n=1;n<Ct.length;n++){var r=Ct[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==St&&Ft(St,e),null!==Bt&&Ft(Bt,e),null!==Qt&&Ft(Qt,e),Lt.forEach(t),Dt.forEach(t),n=0;n<Mt.length;n++)(r=Mt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Mt.length&&null===(n=Mt[0]).blockedOn;)Tt(n),null===n.blockedOn&&Mt.shift()}var zt=_.ReactCurrentBatchConfig,Ht=!0;function jt(e,t,n,r){var i=bt,o=zt.transition;zt.transition=null;try{bt=1,Gt(e,t,n,r)}finally{bt=i,zt.transition=o}}function qt(e,t,n,r){var i=bt,o=zt.transition;zt.transition=null;try{bt=4,Gt(e,t,n,r)}finally{bt=i,zt.transition=o}}function Gt(e,t,n,r){if(Ht){var i=Wt(e,t,n,r);if(null===i)Hr(e,t,r,Vt,n),Ut(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return St=Nt(St,e,t,n,r,i),!0;case"dragenter":return Bt=Nt(Bt,e,t,n,r,i),!0;case"mouseover":return Qt=Nt(Qt,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return Lt.set(o,Nt(Lt.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,Dt.set(o,Nt(Dt.get(o)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Ut(e,r),4&t&&-1<Pt.indexOf(e)){for(;null!==i;){var o=bi(i);if(null!==o&&mt(o),null===(o=Wt(e,t,n,r))&&Hr(e,t,r,Vt,n),o===i)break;i=o}null!==i&&r.stopPropagation()}else Hr(e,t,r,null,n)}}var Vt=null;function Wt(e,t,n,r){if(Vt=null,null!==(e=vi(e=me(r))))if(null===(t=Ye(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=ze(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Vt=e,null}function Jt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ze()){case $e:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Xt=null,Zt=null,$t=null;function en(){if($t)return $t;var e,t,n=Zt,r=n.length,i="value"in Xt?Xt.value:Xt.textContent,o=i.length;for(e=0;e<r&&n[e]===i[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===i[o-t];t++);return $t=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function on(e){function t(t,n,r,i,o){for(var a in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null,e)e.hasOwnProperty(a)&&(t=e[a],this[a]=t?t(i):i[a]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return T(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var an,sn,un,ln={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},cn=on(ln),hn=T({},ln,{view:0,detail:0}),fn=on(hn),dn=T({},hn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:En,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==un&&(un&&"mousemove"===e.type?(an=e.screenX-un.screenX,sn=e.screenY-un.screenY):sn=an=0,un=e),an)},movementY:function(e){return"movementY"in e?e.movementY:sn}}),pn=on(dn),gn=on(T({},dn,{dataTransfer:0})),yn=on(T({},hn,{relatedTarget:0})),An=on(T({},ln,{animationName:0,elapsedTime:0,pseudoElement:0})),vn=T({},ln,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),bn=on(vn),_n=on(T({},ln,{data:0})),mn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},kn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},In={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function wn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=In[e])&&!!t[e]}function En(){return wn}var xn=T({},hn,{key:function(e){if(e.key){var t=mn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?kn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:En,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Cn=on(xn),Sn=on(T({},dn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Bn=on(T({},hn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:En})),Qn=on(T({},ln,{propertyName:0,elapsedTime:0,pseudoElement:0})),Ln=T({},dn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Dn=on(Ln),Mn=[9,13,27,32],Pn=c&&"CompositionEvent"in window,Un=null;c&&"documentMode"in document&&(Un=document.documentMode);var Nn=c&&"TextEvent"in window&&!Un,Tn=c&&(!Pn||Un&&8<Un&&11>=Un),On=String.fromCharCode(32),Kn=!1;function Rn(e,t){switch(e){case"keyup":return-1!==Mn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Fn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Yn=!1;var zn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Hn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!zn[e.type]:"textarea"===t}function jn(e,t,n,r){xe(r),0<(t=qr(t,"onChange")).length&&(n=new cn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var qn=null,Gn=null;function Vn(e){Or(e,0)}function Wn(e){if(G(_i(e)))return e}function Jn(e,t){if("change"===e)return t}var Xn=!1;if(c){var Zn;if(c){var $n="oninput"in document;if(!$n){var er=document.createElement("div");er.setAttribute("oninput","return;"),$n="function"===typeof er.oninput}Zn=$n}else Zn=!1;Xn=Zn&&(!document.documentMode||9<document.documentMode)}function tr(){qn&&(qn.detachEvent("onpropertychange",nr),Gn=qn=null)}function nr(e){if("value"===e.propertyName&&Wn(Gn)){var t=[];jn(t,Gn,e,me(e)),Le(Vn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Gn=n,(qn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Wn(Gn)}function or(e,t){if("click"===e)return Wn(t)}function ar(e,t){if("input"===e||"change"===e)return Wn(t)}var sr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function ur(e,t){if(sr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!h.call(t,i)||!sr(e[i],t[i]))return!1}return!0}function lr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function cr(e,t){var n,r=lr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=lr(r)}}function hr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?hr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function fr(){for(var e=window,t=V();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=V((e=t.contentWindow).document)}return t}function dr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=fr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&hr(n.ownerDocument.documentElement,n)){if(null!==r&&dr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=void 0===r.end?o:Math.min(r.end,i),!e.extend&&o>r&&(i=r,r=o,o=i),i=cr(n,o);var a=cr(n,r);i&&a&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var gr=c&&"documentMode"in document&&11>=document.documentMode,yr=null,Ar=null,vr=null,br=!1;function _r(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;br||null==yr||yr!==V(r)||("selectionStart"in(r=yr)&&dr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},vr&&ur(vr,r)||(vr=r,0<(r=qr(Ar,"onSelect")).length&&(t=new cn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=yr)))}function mr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var kr={animationend:mr("Animation","AnimationEnd"),animationiteration:mr("Animation","AnimationIteration"),animationstart:mr("Animation","AnimationStart"),transitionend:mr("Transition","TransitionEnd")},Ir={},wr={};function Er(e){if(Ir[e])return Ir[e];if(!kr[e])return e;var t,n=kr[e];for(t in n)if(n.hasOwnProperty(t)&&t in wr)return Ir[e]=n[t];return e}c&&(wr=document.createElement("div").style,"AnimationEvent"in window||(delete kr.animationend.animation,delete kr.animationiteration.animation,delete kr.animationstart.animation),"TransitionEvent"in window||delete kr.transitionend.transition);var xr=Er("animationend"),Cr=Er("animationiteration"),Sr=Er("animationstart"),Br=Er("transitionend"),Qr=new Map,Lr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Dr(e,t){Qr.set(e,t),u(t,[e])}for(var Mr=0;Mr<Lr.length;Mr++){var Pr=Lr[Mr];Dr(Pr.toLowerCase(),"on"+(Pr[0].toUpperCase()+Pr.slice(1)))}Dr(xr,"onAnimationEnd"),Dr(Cr,"onAnimationIteration"),Dr(Sr,"onAnimationStart"),Dr("dblclick","onDoubleClick"),Dr("focusin","onFocus"),Dr("focusout","onBlur"),Dr(Br,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),u("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),u("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),u("onBeforeInput",["compositionend","keypress","textInput","paste"]),u("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ur="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Nr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ur));function Tr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,a,s,u,l){if(Fe.apply(this,arguments),Ne){if(!Ne)throw Error(o(198));var c=Te;Ne=!1,Te=null,Oe||(Oe=!0,Ke=c)}}(r,t,void 0,e),e.currentTarget=null}function Or(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var a=r.length-1;0<=a;a--){var s=r[a],u=s.instance,l=s.currentTarget;if(s=s.listener,u!==o&&i.isPropagationStopped())break e;Tr(i,s,l),o=u}else for(a=0;a<r.length;a++){if(u=(s=r[a]).instance,l=s.currentTarget,s=s.listener,u!==o&&i.isPropagationStopped())break e;Tr(i,s,l),o=u}}}if(Oe)throw e=Ke,Oe=!1,Ke=null,e}function Kr(e,t){var n=t[gi];void 0===n&&(n=t[gi]=new Set);var r=e+"__bubble";n.has(r)||(zr(t,e,2,!1),n.add(r))}function Rr(e,t,n){var r=0;t&&(r|=4),zr(n,e,r,t)}var Fr="_reactListening"+Math.random().toString(36).slice(2);function Yr(e){if(!e[Fr]){e[Fr]=!0,a.forEach((function(t){"selectionchange"!==t&&(Nr.has(t)||Rr(t,!1,e),Rr(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Fr]||(t[Fr]=!0,Rr("selectionchange",!1,t))}}function zr(e,t,n,r){switch(Jt(t)){case 1:var i=jt;break;case 4:i=qt;break;default:i=Gt}n=i.bind(null,t,n,e),i=void 0,!Me||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Hr(e,t,n,r,i){var o=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var a=r.tag;if(3===a||4===a){var s=r.stateNode.containerInfo;if(s===i||8===s.nodeType&&s.parentNode===i)break;if(4===a)for(a=r.return;null!==a;){var u=a.tag;if((3===u||4===u)&&((u=a.stateNode.containerInfo)===i||8===u.nodeType&&u.parentNode===i))return;a=a.return}for(;null!==s;){if(null===(a=vi(s)))return;if(5===(u=a.tag)||6===u){r=o=a;continue e}s=s.parentNode}}r=r.return}Le((function(){var r=o,i=me(n),a=[];e:{var s=Qr.get(e);if(void 0!==s){var u=cn,l=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":u=Cn;break;case"focusin":l="focus",u=yn;break;case"focusout":l="blur",u=yn;break;case"beforeblur":case"afterblur":u=yn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":u=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":u=gn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":u=Bn;break;case xr:case Cr:case Sr:u=An;break;case Br:u=Qn;break;case"scroll":u=fn;break;case"wheel":u=Dn;break;case"copy":case"cut":case"paste":u=bn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":u=Sn}var c=0!==(4&t),h=!c&&"scroll"===e,f=c?null!==s?s+"Capture":null:s;c=[];for(var d,p=r;null!==p;){var g=(d=p).stateNode;if(5===d.tag&&null!==g&&(d=g,null!==f&&(null!=(g=De(p,f))&&c.push(jr(p,g,d)))),h)break;p=p.return}0<c.length&&(s=new u(s,l,null,n,i),a.push({event:s,listeners:c}))}}if(0===(7&t)){if(u="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||n===_e||!(l=n.relatedTarget||n.fromElement)||!vi(l)&&!l[pi])&&(u||s)&&(s=i.window===i?i:(s=i.ownerDocument)?s.defaultView||s.parentWindow:window,u?(u=r,null!==(l=(l=n.relatedTarget||n.toElement)?vi(l):null)&&(l!==(h=Ye(l))||5!==l.tag&&6!==l.tag)&&(l=null)):(u=null,l=r),u!==l)){if(c=pn,g="onMouseLeave",f="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(c=Sn,g="onPointerLeave",f="onPointerEnter",p="pointer"),h=null==u?s:_i(u),d=null==l?s:_i(l),(s=new c(g,p+"leave",u,n,i)).target=h,s.relatedTarget=d,g=null,vi(i)===r&&((c=new c(f,p+"enter",l,n,i)).target=d,c.relatedTarget=h,g=c),h=g,u&&l)e:{for(f=l,p=0,d=c=u;d;d=Gr(d))p++;for(d=0,g=f;g;g=Gr(g))d++;for(;0<p-d;)c=Gr(c),p--;for(;0<d-p;)f=Gr(f),d--;for(;p--;){if(c===f||null!==f&&c===f.alternate)break e;c=Gr(c),f=Gr(f)}c=null}else c=null;null!==u&&Vr(a,s,u,c,!1),null!==l&&null!==h&&Vr(a,h,l,c,!0)}if("select"===(u=(s=r?_i(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===u&&"file"===s.type)var y=Jn;else if(Hn(s))if(Xn)y=ar;else{y=ir;var A=rr}else(u=s.nodeName)&&"input"===u.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(y=or);switch(y&&(y=y(e,r))?jn(a,y,n,i):(A&&A(e,s,r),"focusout"===e&&(A=s._wrapperState)&&A.controlled&&"number"===s.type&&ee(s,"number",s.value)),A=r?_i(r):window,e){case"focusin":(Hn(A)||"true"===A.contentEditable)&&(yr=A,Ar=r,vr=null);break;case"focusout":vr=Ar=yr=null;break;case"mousedown":br=!0;break;case"contextmenu":case"mouseup":case"dragend":br=!1,_r(a,n,i);break;case"selectionchange":if(gr)break;case"keydown":case"keyup":_r(a,n,i)}var v;if(Pn)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Yn?Rn(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(Tn&&"ko"!==n.locale&&(Yn||"onCompositionStart"!==b?"onCompositionEnd"===b&&Yn&&(v=en()):(Zt="value"in(Xt=i)?Xt.value:Xt.textContent,Yn=!0)),0<(A=qr(r,b)).length&&(b=new _n(b,e,null,n,i),a.push({event:b,listeners:A}),v?b.data=v:null!==(v=Fn(n))&&(b.data=v))),(v=Nn?function(e,t){switch(e){case"compositionend":return Fn(t);case"keypress":return 32!==t.which?null:(Kn=!0,On);case"textInput":return(e=t.data)===On&&Kn?null:e;default:return null}}(e,n):function(e,t){if(Yn)return"compositionend"===e||!Pn&&Rn(e,t)?(e=en(),$t=Zt=Xt=null,Yn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Tn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=qr(r,"onBeforeInput")).length&&(i=new _n("onBeforeInput","beforeinput",null,n,i),a.push({event:i,listeners:r}),i.data=v))}Or(a,t)}))}function jr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function qr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,o=i.stateNode;5===i.tag&&null!==o&&(i=o,null!=(o=De(e,n))&&r.unshift(jr(e,o,i)),null!=(o=De(e,t))&&r.push(jr(e,o,i))),e=e.return}return r}function Gr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Vr(e,t,n,r,i){for(var o=t._reactName,a=[];null!==n&&n!==r;){var s=n,u=s.alternate,l=s.stateNode;if(null!==u&&u===r)break;5===s.tag&&null!==l&&(s=l,i?null!=(u=De(n,o))&&a.unshift(jr(n,u,s)):i||null!=(u=De(n,o))&&a.push(jr(n,u,s))),n=n.return}0!==a.length&&e.push({event:t,listeners:a})}var Wr=/\r\n?/g,Jr=/\u0000|\uFFFD/g;function Xr(e){return("string"===typeof e?e:""+e).replace(Wr,"\n").replace(Jr,"")}function Zr(e,t,n){if(t=Xr(t),Xr(e)!==t&&n)throw Error(o(425))}function $r(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,oi="function"===typeof Promise?Promise:void 0,ai="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof oi?function(e){return oi.resolve(null).then(e).catch(si)}:ri;function si(e){setTimeout((function(){throw e}))}function ui(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void Yt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);Yt(t)}function li(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ci(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var hi=Math.random().toString(36).slice(2),fi="__reactFiber$"+hi,di="__reactProps$"+hi,pi="__reactContainer$"+hi,gi="__reactEvents$"+hi,yi="__reactListeners$"+hi,Ai="__reactHandles$"+hi;function vi(e){var t=e[fi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pi]||n[fi]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ci(e);null!==e;){if(n=e[fi])return n;e=ci(e)}return t}n=(e=n).parentNode}return null}function bi(e){return!(e=e[fi]||e[pi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function _i(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(o(33))}function mi(e){return e[di]||null}var ki=[],Ii=-1;function wi(e){return{current:e}}function Ei(e){0>Ii||(e.current=ki[Ii],ki[Ii]=null,Ii--)}function xi(e,t){Ii++,ki[Ii]=e.current,e.current=t}var Ci={},Si=wi(Ci),Bi=wi(!1),Qi=Ci;function Li(e,t){var n=e.type.contextTypes;if(!n)return Ci;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,o={};for(i in n)o[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function Di(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Mi(){Ei(Bi),Ei(Si)}function Pi(e,t,n){if(Si.current!==Ci)throw Error(o(168));xi(Si,t),xi(Bi,n)}function Ui(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(o(108,z(e)||"Unknown",i));return T({},n,r)}function Ni(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ci,Qi=Si.current,xi(Si,e),xi(Bi,Bi.current),!0}function Ti(e,t,n){var r=e.stateNode;if(!r)throw Error(o(169));n?(e=Ui(e,t,Qi),r.__reactInternalMemoizedMergedChildContext=e,Ei(Bi),Ei(Si),xi(Si,e)):Ei(Bi),xi(Bi,n)}var Oi=null,Ki=!1,Ri=!1;function Fi(e){null===Oi?Oi=[e]:Oi.push(e)}function Yi(){if(!Ri&&null!==Oi){Ri=!0;var e=0,t=bt;try{var n=Oi;for(bt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Oi=null,Ki=!1}catch(i){throw null!==Oi&&(Oi=Oi.slice(e+1)),Ge($e,Yi),i}finally{bt=t,Ri=!1}}return null}var zi=[],Hi=0,ji=null,qi=0,Gi=[],Vi=0,Wi=null,Ji=1,Xi="";function Zi(e,t){zi[Hi++]=qi,zi[Hi++]=ji,ji=e,qi=t}function $i(e,t,n){Gi[Vi++]=Ji,Gi[Vi++]=Xi,Gi[Vi++]=Wi,Wi=e;var r=Ji;e=Xi;var i=32-at(r)-1;r&=~(1<<i),n+=1;var o=32-at(t)+i;if(30<o){var a=i-i%5;o=(r&(1<<a)-1).toString(32),r>>=a,i-=a,Ji=1<<32-at(t)+i|n<<i|r,Xi=o+e}else Ji=1<<o|n<<i|r,Xi=e}function eo(e){null!==e.return&&(Zi(e,1),$i(e,1,0))}function to(e){for(;e===ji;)ji=zi[--Hi],zi[Hi]=null,qi=zi[--Hi],zi[Hi]=null;for(;e===Wi;)Wi=Gi[--Vi],Gi[Vi]=null,Xi=Gi[--Vi],Gi[Vi]=null,Ji=Gi[--Vi],Gi[Vi]=null}var no=null,ro=null,io=!1,oo=null;function ao(e,t){var n=Dl(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function so(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,no=e,ro=li(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,no=e,ro=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Wi?{id:Ji,overflow:Xi}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Dl(18,null,null,0)).stateNode=t,n.return=e,e.child=n,no=e,ro=null,!0);default:return!1}}function uo(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function lo(e){if(io){var t=ro;if(t){var n=t;if(!so(e,t)){if(uo(e))throw Error(o(418));t=li(n.nextSibling);var r=no;t&&so(e,t)?ao(r,n):(e.flags=-4097&e.flags|2,io=!1,no=e)}}else{if(uo(e))throw Error(o(418));e.flags=-4097&e.flags|2,io=!1,no=e}}}function co(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;no=e}function ho(e){if(e!==no)return!1;if(!io)return co(e),io=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=ro)){if(uo(e))throw fo(),Error(o(418));for(;t;)ao(e,t),t=li(t.nextSibling)}if(co(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ro=li(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ro=null}}else ro=no?li(e.stateNode.nextSibling):null;return!0}function fo(){for(var e=ro;e;)e=li(e.nextSibling)}function po(){ro=no=null,io=!1}function go(e){null===oo?oo=[e]:oo.push(e)}var yo=_.ReactCurrentBatchConfig;function Ao(e,t){if(e&&e.defaultProps){for(var n in t=T({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var vo=wi(null),bo=null,_o=null,mo=null;function ko(){mo=_o=bo=null}function Io(e){var t=vo.current;Ei(vo),e._currentValue=t}function wo(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Eo(e,t){bo=e,mo=_o=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(_s=!0),e.firstContext=null)}function xo(e){var t=e._currentValue;if(mo!==e)if(e={context:e,memoizedValue:t,next:null},null===_o){if(null===bo)throw Error(o(308));_o=e,bo.dependencies={lanes:0,firstContext:e}}else _o=_o.next=e;return t}var Co=null;function So(e){null===Co?Co=[e]:Co.push(e)}function Bo(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,So(t)):(n.next=i.next,i.next=n),t.interleaved=n,Qo(e,r)}function Qo(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Lo=!1;function Do(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Mo(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Po(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Uo(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Bu)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Qo(e,n)}return null===(i=r.interleaved)?(t.next=t,So(r)):(t.next=i.next,i.next=t),r.interleaved=t,Qo(e,n)}function No(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,vt(e,n)}}function To(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,o=null;if(null!==(n=n.firstBaseUpdate)){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===o?i=o=a:o=o.next=a,n=n.next}while(null!==n);null===o?i=o=t:o=o.next=t}else i=o=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Oo(e,t,n,r){var i=e.updateQueue;Lo=!1;var o=i.firstBaseUpdate,a=i.lastBaseUpdate,s=i.shared.pending;if(null!==s){i.shared.pending=null;var u=s,l=u.next;u.next=null,null===a?o=l:a.next=l,a=u;var c=e.alternate;null!==c&&((s=(c=c.updateQueue).lastBaseUpdate)!==a&&(null===s?c.firstBaseUpdate=l:s.next=l,c.lastBaseUpdate=u))}if(null!==o){var h=i.baseState;for(a=0,c=l=u=null,s=o;;){var f=s.lane,d=s.eventTime;if((r&f)===f){null!==c&&(c=c.next={eventTime:d,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var p=e,g=s;switch(f=t,d=n,g.tag){case 1:if("function"===typeof(p=g.payload)){h=p.call(d,h,f);break e}h=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(f="function"===typeof(p=g.payload)?p.call(d,h,f):p)||void 0===f)break e;h=T({},h,f);break e;case 2:Lo=!0}}null!==s.callback&&0!==s.lane&&(e.flags|=64,null===(f=i.effects)?i.effects=[s]:f.push(s))}else d={eventTime:d,lane:f,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===c?(l=c=d,u=h):c=c.next=d,a|=f;if(null===(s=s.next)){if(null===(s=i.shared.pending))break;s=(f=s).next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}if(null===c&&(u=h),i.baseState=u,i.firstBaseUpdate=l,i.lastBaseUpdate=c,null!==(t=i.shared.interleaved)){i=t;do{a|=i.lane,i=i.next}while(i!==t)}else null===o&&(i.shared.lanes=0);Tu|=a,e.lanes=a,e.memoizedState=h}}function Ko(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(o(191,i));i.call(r)}}}var Ro=(new r.Component).refs;function Fo(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:T({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var Yo={isMounted:function(e){return!!(e=e._reactInternals)&&Ye(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=tl(),i=nl(e),o=Po(r,i);o.payload=t,void 0!==n&&null!==n&&(o.callback=n),null!==(t=Uo(e,o,i))&&(rl(t,e,i,r),No(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=tl(),i=nl(e),o=Po(r,i);o.tag=1,o.payload=t,void 0!==n&&null!==n&&(o.callback=n),null!==(t=Uo(e,o,i))&&(rl(t,e,i,r),No(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=tl(),r=nl(e),i=Po(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=Uo(e,i,r))&&(rl(t,e,r,n),No(t,e,r))}};function zo(e,t,n,r,i,o,a){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,o,a):!t.prototype||!t.prototype.isPureReactComponent||(!ur(n,r)||!ur(i,o))}function Ho(e,t,n){var r=!1,i=Ci,o=t.contextType;return"object"===typeof o&&null!==o?o=xo(o):(i=Di(t)?Qi:Si.current,o=(r=null!==(r=t.contextTypes)&&void 0!==r)?Li(e,i):Ci),t=new t(n,o),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=Yo,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function jo(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Yo.enqueueReplaceState(t,t.state,null)}function qo(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=Ro,Do(e);var o=t.contextType;"object"===typeof o&&null!==o?i.context=xo(o):(o=Di(t)?Qi:Si.current,i.context=Li(e,o)),i.state=e.memoizedState,"function"===typeof(o=t.getDerivedStateFromProps)&&(Fo(e,t,o,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&Yo.enqueueReplaceState(i,i.state,null),Oo(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function Go(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(o(309));var r=n.stateNode}if(!r)throw Error(o(147,e));var i=r,a=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===a?t.ref:(t=function(e){var t=i.refs;t===Ro&&(t=i.refs={}),null===e?delete t[a]:t[a]=e},t._stringRef=a,t)}if("string"!==typeof e)throw Error(o(284));if(!n._owner)throw Error(o(290,e))}return e}function Vo(e,t){throw e=Object.prototype.toString.call(t),Error(o(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Wo(e){return(0,e._init)(e._payload)}function Jo(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Pl(e,t)).index=0,e.sibling=null,e}function a(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function s(t){return e&&null===t.alternate&&(t.flags|=2),t}function u(e,t,n,r){return null===t||6!==t.tag?((t=Ol(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function l(e,t,n,r){var o=n.type;return o===I?h(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===o||"object"===typeof o&&null!==o&&o.$$typeof===D&&Wo(o)===t.type)?((r=i(t,n.props)).ref=Go(e,t,n),r.return=e,r):((r=Ul(n.type,n.key,n.props,null,e.mode,r)).ref=Go(e,t,n),r.return=e,r)}function c(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Kl(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function h(e,t,n,r,o){return null===t||7!==t.tag?((t=Nl(n,e.mode,r,o)).return=e,t):((t=i(t,n)).return=e,t)}function f(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Ol(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case m:return(n=Ul(t.type,t.key,t.props,null,e.mode,n)).ref=Go(e,null,t),n.return=e,n;case k:return(t=Kl(t,e.mode,n)).return=e,t;case D:return f(e,(0,t._init)(t._payload),n)}if(te(t)||U(t))return(t=Nl(t,e.mode,n,null)).return=e,t;Vo(e,t)}return null}function d(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:u(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case m:return n.key===i?l(e,t,n,r):null;case k:return n.key===i?c(e,t,n,r):null;case D:return d(e,t,(i=n._init)(n._payload),r)}if(te(n)||U(n))return null!==i?null:h(e,t,n,r,null);Vo(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return u(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case m:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i);case k:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case D:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||U(r))return h(t,e=e.get(n)||null,r,i,null);Vo(t,r)}return null}function g(i,o,s,u){for(var l=null,c=null,h=o,g=o=0,y=null;null!==h&&g<s.length;g++){h.index>g?(y=h,h=null):y=h.sibling;var A=d(i,h,s[g],u);if(null===A){null===h&&(h=y);break}e&&h&&null===A.alternate&&t(i,h),o=a(A,o,g),null===c?l=A:c.sibling=A,c=A,h=y}if(g===s.length)return n(i,h),io&&Zi(i,g),l;if(null===h){for(;g<s.length;g++)null!==(h=f(i,s[g],u))&&(o=a(h,o,g),null===c?l=h:c.sibling=h,c=h);return io&&Zi(i,g),l}for(h=r(i,h);g<s.length;g++)null!==(y=p(h,i,g,s[g],u))&&(e&&null!==y.alternate&&h.delete(null===y.key?g:y.key),o=a(y,o,g),null===c?l=y:c.sibling=y,c=y);return e&&h.forEach((function(e){return t(i,e)})),io&&Zi(i,g),l}function y(i,s,u,l){var c=U(u);if("function"!==typeof c)throw Error(o(150));if(null==(u=c.call(u)))throw Error(o(151));for(var h=c=null,g=s,y=s=0,A=null,v=u.next();null!==g&&!v.done;y++,v=u.next()){g.index>y?(A=g,g=null):A=g.sibling;var b=d(i,g,v.value,l);if(null===b){null===g&&(g=A);break}e&&g&&null===b.alternate&&t(i,g),s=a(b,s,y),null===h?c=b:h.sibling=b,h=b,g=A}if(v.done)return n(i,g),io&&Zi(i,y),c;if(null===g){for(;!v.done;y++,v=u.next())null!==(v=f(i,v.value,l))&&(s=a(v,s,y),null===h?c=v:h.sibling=v,h=v);return io&&Zi(i,y),c}for(g=r(i,g);!v.done;y++,v=u.next())null!==(v=p(g,i,y,v.value,l))&&(e&&null!==v.alternate&&g.delete(null===v.key?y:v.key),s=a(v,s,y),null===h?c=v:h.sibling=v,h=v);return e&&g.forEach((function(e){return t(i,e)})),io&&Zi(i,y),c}return function e(r,o,a,u){if("object"===typeof a&&null!==a&&a.type===I&&null===a.key&&(a=a.props.children),"object"===typeof a&&null!==a){switch(a.$$typeof){case m:e:{for(var l=a.key,c=o;null!==c;){if(c.key===l){if((l=a.type)===I){if(7===c.tag){n(r,c.sibling),(o=i(c,a.props.children)).return=r,r=o;break e}}else if(c.elementType===l||"object"===typeof l&&null!==l&&l.$$typeof===D&&Wo(l)===c.type){n(r,c.sibling),(o=i(c,a.props)).ref=Go(r,c,a),o.return=r,r=o;break e}n(r,c);break}t(r,c),c=c.sibling}a.type===I?((o=Nl(a.props.children,r.mode,u,a.key)).return=r,r=o):((u=Ul(a.type,a.key,a.props,null,r.mode,u)).ref=Go(r,o,a),u.return=r,r=u)}return s(r);case k:e:{for(c=a.key;null!==o;){if(o.key===c){if(4===o.tag&&o.stateNode.containerInfo===a.containerInfo&&o.stateNode.implementation===a.implementation){n(r,o.sibling),(o=i(o,a.children||[])).return=r,r=o;break e}n(r,o);break}t(r,o),o=o.sibling}(o=Kl(a,r.mode,u)).return=r,r=o}return s(r);case D:return e(r,o,(c=a._init)(a._payload),u)}if(te(a))return g(r,o,a,u);if(U(a))return y(r,o,a,u);Vo(r,a)}return"string"===typeof a&&""!==a||"number"===typeof a?(a=""+a,null!==o&&6===o.tag?(n(r,o.sibling),(o=i(o,a)).return=r,r=o):(n(r,o),(o=Ol(a,r.mode,u)).return=r,r=o),s(r)):n(r,o)}}var Xo=Jo(!0),Zo=Jo(!1),$o={},ea=wi($o),ta=wi($o),na=wi($o);function ra(e){if(e===$o)throw Error(o(174));return e}function ia(e,t){switch(xi(na,t),xi(ta,e),xi(ea,$o),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ue(null,"");break;default:t=ue(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Ei(ea),xi(ea,t)}function oa(){Ei(ea),Ei(ta),Ei(na)}function aa(e){ra(na.current);var t=ra(ea.current),n=ue(t,e.type);t!==n&&(xi(ta,e),xi(ea,n))}function sa(e){ta.current===e&&(Ei(ea),Ei(ta))}var ua=wi(0);function la(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ca=[];function ha(){for(var e=0;e<ca.length;e++)ca[e]._workInProgressVersionPrimary=null;ca.length=0}var fa=_.ReactCurrentDispatcher,da=_.ReactCurrentBatchConfig,pa=0,ga=null,ya=null,Aa=null,va=!1,ba=!1,_a=0,ma=0;function ka(){throw Error(o(321))}function Ia(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!sr(e[n],t[n]))return!1;return!0}function wa(e,t,n,r,i,a){if(pa=a,ga=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,fa.current=null===e||null===e.memoizedState?ss:us,e=n(r,i),ba){a=0;do{if(ba=!1,_a=0,25<=a)throw Error(o(301));a+=1,Aa=ya=null,t.updateQueue=null,fa.current=ls,e=n(r,i)}while(ba)}if(fa.current=as,t=null!==ya&&null!==ya.next,pa=0,Aa=ya=ga=null,va=!1,t)throw Error(o(300));return e}function Ea(){var e=0!==_a;return _a=0,e}function xa(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===Aa?ga.memoizedState=Aa=e:Aa=Aa.next=e,Aa}function Ca(){if(null===ya){var e=ga.alternate;e=null!==e?e.memoizedState:null}else e=ya.next;var t=null===Aa?ga.memoizedState:Aa.next;if(null!==t)Aa=t,ya=e;else{if(null===e)throw Error(o(310));e={memoizedState:(ya=e).memoizedState,baseState:ya.baseState,baseQueue:ya.baseQueue,queue:ya.queue,next:null},null===Aa?ga.memoizedState=Aa=e:Aa=Aa.next=e}return Aa}function Sa(e,t){return"function"===typeof t?t(e):t}function Ba(e){var t=Ca(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=ya,i=r.baseQueue,a=n.pending;if(null!==a){if(null!==i){var s=i.next;i.next=a.next,a.next=s}r.baseQueue=i=a,n.pending=null}if(null!==i){a=i.next,r=r.baseState;var u=s=null,l=null,c=a;do{var h=c.lane;if((pa&h)===h)null!==l&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var f={lane:h,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};null===l?(u=l=f,s=r):l=l.next=f,ga.lanes|=h,Tu|=h}c=c.next}while(null!==c&&c!==a);null===l?s=r:l.next=u,sr(r,t.memoizedState)||(_s=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=l,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{a=i.lane,ga.lanes|=a,Tu|=a,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Qa(e){var t=Ca(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,a=t.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{a=e(a,s.action),s=s.next}while(s!==i);sr(a,t.memoizedState)||(_s=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function La(){}function Da(e,t){var n=ga,r=Ca(),i=t(),a=!sr(r.memoizedState,i);if(a&&(r.memoizedState=i,_s=!0),r=r.queue,Ha(Ua.bind(null,n,r,e),[e]),r.getSnapshot!==t||a||null!==Aa&&1&Aa.memoizedState.tag){if(n.flags|=2048,Ka(9,Pa.bind(null,n,r,i,t),void 0,null),null===Qu)throw Error(o(349));0!==(30&pa)||Ma(n,t,i)}return i}function Ma(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=ga.updateQueue)?(t={lastEffect:null,stores:null},ga.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Pa(e,t,n,r){t.value=n,t.getSnapshot=r,Na(t)&&Ta(e)}function Ua(e,t,n){return n((function(){Na(t)&&Ta(e)}))}function Na(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!sr(e,n)}catch(r){return!0}}function Ta(e){var t=Qo(e,1);null!==t&&rl(t,e,1,-1)}function Oa(e){var t=xa();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Sa,lastRenderedState:e},t.queue=e,e=e.dispatch=ns.bind(null,ga,e),[t.memoizedState,e]}function Ka(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=ga.updateQueue)?(t={lastEffect:null,stores:null},ga.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Ra(){return Ca().memoizedState}function Fa(e,t,n,r){var i=xa();ga.flags|=e,i.memoizedState=Ka(1|t,n,void 0,void 0===r?null:r)}function Ya(e,t,n,r){var i=Ca();r=void 0===r?null:r;var o=void 0;if(null!==ya){var a=ya.memoizedState;if(o=a.destroy,null!==r&&Ia(r,a.deps))return void(i.memoizedState=Ka(t,n,o,r))}ga.flags|=e,i.memoizedState=Ka(1|t,n,o,r)}function za(e,t){return Fa(8390656,8,e,t)}function Ha(e,t){return Ya(2048,8,e,t)}function ja(e,t){return Ya(4,2,e,t)}function qa(e,t){return Ya(4,4,e,t)}function Ga(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Va(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Ya(4,4,Ga.bind(null,t,e),n)}function Wa(){}function Ja(e,t){var n=Ca();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Ia(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Xa(e,t){var n=Ca();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Ia(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Za(e,t,n){return 0===(21&pa)?(e.baseState&&(e.baseState=!1,_s=!0),e.memoizedState=n):(sr(n,t)||(n=gt(),ga.lanes|=n,Tu|=n,e.baseState=!0),t)}function $a(e,t){var n=bt;bt=0!==n&&4>n?n:4,e(!0);var r=da.transition;da.transition={};try{e(!1),t()}finally{bt=n,da.transition=r}}function es(){return Ca().memoizedState}function ts(e,t,n){var r=nl(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},rs(e))is(t,n);else if(null!==(n=Bo(e,t,n,r))){rl(n,e,r,tl()),os(n,t,r)}}function ns(e,t,n){var r=nl(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(rs(e))is(t,i);else{var o=e.alternate;if(0===e.lanes&&(null===o||0===o.lanes)&&null!==(o=t.lastRenderedReducer))try{var a=t.lastRenderedState,s=o(a,n);if(i.hasEagerState=!0,i.eagerState=s,sr(s,a)){var u=t.interleaved;return null===u?(i.next=i,So(t)):(i.next=u.next,u.next=i),void(t.interleaved=i)}}catch(l){}null!==(n=Bo(e,t,i,r))&&(rl(n,e,r,i=tl()),os(n,t,r))}}function rs(e){var t=e.alternate;return e===ga||null!==t&&t===ga}function is(e,t){ba=va=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function os(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,vt(e,n)}}var as={readContext:xo,useCallback:ka,useContext:ka,useEffect:ka,useImperativeHandle:ka,useInsertionEffect:ka,useLayoutEffect:ka,useMemo:ka,useReducer:ka,useRef:ka,useState:ka,useDebugValue:ka,useDeferredValue:ka,useTransition:ka,useMutableSource:ka,useSyncExternalStore:ka,useId:ka,unstable_isNewReconciler:!1},ss={readContext:xo,useCallback:function(e,t){return xa().memoizedState=[e,void 0===t?null:t],e},useContext:xo,useEffect:za,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Fa(4194308,4,Ga.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Fa(4194308,4,e,t)},useInsertionEffect:function(e,t){return Fa(4,2,e,t)},useMemo:function(e,t){var n=xa();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=xa();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=ts.bind(null,ga,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},xa().memoizedState=e},useState:Oa,useDebugValue:Wa,useDeferredValue:function(e){return xa().memoizedState=e},useTransition:function(){var e=Oa(!1),t=e[0];return e=$a.bind(null,e[1]),xa().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=ga,i=xa();if(io){if(void 0===n)throw Error(o(407));n=n()}else{if(n=t(),null===Qu)throw Error(o(349));0!==(30&pa)||Ma(r,t,n)}i.memoizedState=n;var a={value:n,getSnapshot:t};return i.queue=a,za(Ua.bind(null,r,a,e),[e]),r.flags|=2048,Ka(9,Pa.bind(null,r,a,n,t),void 0,null),n},useId:function(){var e=xa(),t=Qu.identifierPrefix;if(io){var n=Xi;t=":"+t+"R"+(n=(Ji&~(1<<32-at(Ji)-1)).toString(32)+n),0<(n=_a++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=ma++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},us={readContext:xo,useCallback:Ja,useContext:xo,useEffect:Ha,useImperativeHandle:Va,useInsertionEffect:ja,useLayoutEffect:qa,useMemo:Xa,useReducer:Ba,useRef:Ra,useState:function(){return Ba(Sa)},useDebugValue:Wa,useDeferredValue:function(e){return Za(Ca(),ya.memoizedState,e)},useTransition:function(){return[Ba(Sa)[0],Ca().memoizedState]},useMutableSource:La,useSyncExternalStore:Da,useId:es,unstable_isNewReconciler:!1},ls={readContext:xo,useCallback:Ja,useContext:xo,useEffect:Ha,useImperativeHandle:Va,useInsertionEffect:ja,useLayoutEffect:qa,useMemo:Xa,useReducer:Qa,useRef:Ra,useState:function(){return Qa(Sa)},useDebugValue:Wa,useDeferredValue:function(e){var t=Ca();return null===ya?t.memoizedState=e:Za(t,ya.memoizedState,e)},useTransition:function(){return[Qa(Sa)[0],Ca().memoizedState]},useMutableSource:La,useSyncExternalStore:Da,useId:es,unstable_isNewReconciler:!1};function cs(e,t){try{var n="",r=t;do{n+=F(r),r=r.return}while(r);var i=n}catch(o){i="\nError generating stack: "+o.message+"\n"+o.stack}return{value:e,source:t,stack:i,digest:null}}function hs(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function fs(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var ds="function"===typeof WeakMap?WeakMap:Map;function ps(e,t,n){(n=Po(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){ju||(ju=!0,qu=r),fs(0,t)},n}function gs(e,t,n){(n=Po(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){fs(0,t)}}var o=e.stateNode;return null!==o&&"function"===typeof o.componentDidCatch&&(n.callback=function(){fs(0,t),"function"!==typeof r&&(null===Gu?Gu=new Set([this]):Gu.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function ys(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new ds;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=xl.bind(null,e,t,n),t.then(e,e))}function As(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function vs(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Po(-1,1)).tag=2,Uo(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var bs=_.ReactCurrentOwner,_s=!1;function ms(e,t,n,r){t.child=null===e?Zo(t,null,n,r):Xo(t,e.child,n,r)}function ks(e,t,n,r,i){n=n.render;var o=t.ref;return Eo(t,i),r=wa(e,t,n,r,o,i),n=Ea(),null===e||_s?(io&&n&&eo(t),t.flags|=1,ms(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,js(e,t,i))}function Is(e,t,n,r,i){if(null===e){var o=n.type;return"function"!==typeof o||Ml(o)||void 0!==o.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Ul(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,ws(e,t,o,r,i))}if(o=e.child,0===(e.lanes&i)){var a=o.memoizedProps;if((n=null!==(n=n.compare)?n:ur)(a,r)&&e.ref===t.ref)return js(e,t,i)}return t.flags|=1,(e=Pl(o,r)).ref=t.ref,e.return=t,t.child=e}function ws(e,t,n,r,i){if(null!==e){var o=e.memoizedProps;if(ur(o,r)&&e.ref===t.ref){if(_s=!1,t.pendingProps=r=o,0===(e.lanes&i))return t.lanes=e.lanes,js(e,t,i);0!==(131072&e.flags)&&(_s=!0)}}return Cs(e,t,n,r,i)}function Es(e,t,n){var r=t.pendingProps,i=r.children,o=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},xi(Pu,Mu),Mu|=n;else{if(0===(1073741824&n))return e=null!==o?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,xi(Pu,Mu),Mu|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==o?o.baseLanes:n,xi(Pu,Mu),Mu|=r}else null!==o?(r=o.baseLanes|n,t.memoizedState=null):r=n,xi(Pu,Mu),Mu|=r;return ms(e,t,i,n),t.child}function xs(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Cs(e,t,n,r,i){var o=Di(n)?Qi:Si.current;return o=Li(t,o),Eo(t,i),n=wa(e,t,n,r,o,i),r=Ea(),null===e||_s?(io&&r&&eo(t),t.flags|=1,ms(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,js(e,t,i))}function Ss(e,t,n,r,i){if(Di(n)){var o=!0;Ni(t)}else o=!1;if(Eo(t,i),null===t.stateNode)Hs(e,t),Ho(t,n,r),qo(t,n,r,i),r=!0;else if(null===e){var a=t.stateNode,s=t.memoizedProps;a.props=s;var u=a.context,l=n.contextType;"object"===typeof l&&null!==l?l=xo(l):l=Li(t,l=Di(n)?Qi:Si.current);var c=n.getDerivedStateFromProps,h="function"===typeof c||"function"===typeof a.getSnapshotBeforeUpdate;h||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==r||u!==l)&&jo(t,a,r,l),Lo=!1;var f=t.memoizedState;a.state=f,Oo(t,r,a,i),u=t.memoizedState,s!==r||f!==u||Bi.current||Lo?("function"===typeof c&&(Fo(t,n,c,r),u=t.memoizedState),(s=Lo||zo(t,n,s,r,f,u,l))?(h||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||("function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"===typeof a.componentDidMount&&(t.flags|=4194308)):("function"===typeof a.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=u),a.props=r,a.state=u,a.context=l,r=s):("function"===typeof a.componentDidMount&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,Mo(e,t),s=t.memoizedProps,l=t.type===t.elementType?s:Ao(t.type,s),a.props=l,h=t.pendingProps,f=a.context,"object"===typeof(u=n.contextType)&&null!==u?u=xo(u):u=Li(t,u=Di(n)?Qi:Si.current);var d=n.getDerivedStateFromProps;(c="function"===typeof d||"function"===typeof a.getSnapshotBeforeUpdate)||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==h||f!==u)&&jo(t,a,r,u),Lo=!1,f=t.memoizedState,a.state=f,Oo(t,r,a,i);var p=t.memoizedState;s!==h||f!==p||Bi.current||Lo?("function"===typeof d&&(Fo(t,n,d,r),p=t.memoizedState),(l=Lo||zo(t,n,l,r,f,p,u)||!1)?(c||"function"!==typeof a.UNSAFE_componentWillUpdate&&"function"!==typeof a.componentWillUpdate||("function"===typeof a.componentWillUpdate&&a.componentWillUpdate(r,p,u),"function"===typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,p,u)),"function"===typeof a.componentDidUpdate&&(t.flags|=4),"function"===typeof a.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof a.componentDidUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),a.props=r,a.state=p,a.context=u,r=l):("function"!==typeof a.componentDidUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),r=!1)}return Bs(e,t,n,r,o,i)}function Bs(e,t,n,r,i,o){xs(e,t);var a=0!==(128&t.flags);if(!r&&!a)return i&&Ti(t,n,!1),js(e,t,o);r=t.stateNode,bs.current=t;var s=a&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&a?(t.child=Xo(t,e.child,null,o),t.child=Xo(t,null,s,o)):ms(e,t,s,o),t.memoizedState=r.state,i&&Ti(t,n,!0),t.child}function Qs(e){var t=e.stateNode;t.pendingContext?Pi(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Pi(0,t.context,!1),ia(e,t.containerInfo)}function Ls(e,t,n,r,i){return po(),go(i),t.flags|=256,ms(e,t,n,r),t.child}var Ds,Ms,Ps,Us,Ns={dehydrated:null,treeContext:null,retryLane:0};function Ts(e){return{baseLanes:e,cachePool:null,transitions:null}}function Os(e,t,n){var r,i=t.pendingProps,a=ua.current,s=!1,u=0!==(128&t.flags);if((r=u)||(r=(null===e||null!==e.memoizedState)&&0!==(2&a)),r?(s=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(a|=1),xi(ua,1&a),null===e)return lo(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(u=i.children,e=i.fallback,s?(i=t.mode,s=t.child,u={mode:"hidden",children:u},0===(1&i)&&null!==s?(s.childLanes=0,s.pendingProps=u):s=Tl(u,i,0,null),e=Nl(e,i,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=Ts(n),t.memoizedState=Ns,e):Ks(t,u));if(null!==(a=e.memoizedState)&&null!==(r=a.dehydrated))return function(e,t,n,r,i,a,s){if(n)return 256&t.flags?(t.flags&=-257,Rs(e,t,s,r=hs(Error(o(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(a=r.fallback,i=t.mode,r=Tl({mode:"visible",children:r.children},i,0,null),(a=Nl(a,i,s,null)).flags|=2,r.return=t,a.return=t,r.sibling=a,t.child=r,0!==(1&t.mode)&&Xo(t,e.child,null,s),t.child.memoizedState=Ts(s),t.memoizedState=Ns,a);if(0===(1&t.mode))return Rs(e,t,s,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var u=r.dgst;return r=u,Rs(e,t,s,r=hs(a=Error(o(419)),r,void 0))}if(u=0!==(s&e.childLanes),_s||u){if(null!==(r=Qu)){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|s))?0:i)&&i!==a.retryLane&&(a.retryLane=i,Qo(e,i),rl(r,e,i,-1))}return yl(),Rs(e,t,s,r=hs(Error(o(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=Sl.bind(null,e),i._reactRetry=t,null):(e=a.treeContext,ro=li(i.nextSibling),no=t,io=!0,oo=null,null!==e&&(Gi[Vi++]=Ji,Gi[Vi++]=Xi,Gi[Vi++]=Wi,Ji=e.id,Xi=e.overflow,Wi=t),t=Ks(t,r.children),t.flags|=4096,t)}(e,t,u,i,r,a,n);if(s){s=i.fallback,u=t.mode,r=(a=e.child).sibling;var l={mode:"hidden",children:i.children};return 0===(1&u)&&t.child!==a?((i=t.child).childLanes=0,i.pendingProps=l,t.deletions=null):(i=Pl(a,l)).subtreeFlags=14680064&a.subtreeFlags,null!==r?s=Pl(r,s):(s=Nl(s,u,n,null)).flags|=2,s.return=t,i.return=t,i.sibling=s,t.child=i,i=s,s=t.child,u=null===(u=e.child.memoizedState)?Ts(n):{baseLanes:u.baseLanes|n,cachePool:null,transitions:u.transitions},s.memoizedState=u,s.childLanes=e.childLanes&~n,t.memoizedState=Ns,i}return e=(s=e.child).sibling,i=Pl(s,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function Ks(e,t){return(t=Tl({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Rs(e,t,n,r){return null!==r&&go(r),Xo(t,e.child,null,n),(e=Ks(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Fs(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),wo(e.return,t,n)}function Ys(e,t,n,r,i){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function zs(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(ms(e,t,r.children,n),0!==(2&(r=ua.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Fs(e,n,t);else if(19===e.tag)Fs(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(xi(ua,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===la(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Ys(t,!1,i,n,o);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===la(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Ys(t,!0,n,null,o);break;case"together":Ys(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Hs(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function js(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Tu|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(o(153));if(null!==t.child){for(n=Pl(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Pl(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function qs(e,t){if(!io)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Gs(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Vs(e,t,n){var r=t.pendingProps;switch(to(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Gs(t),null;case 1:case 17:return Di(t.type)&&Mi(),Gs(t),null;case 3:return r=t.stateNode,oa(),Ei(Bi),Ei(Si),ha(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(ho(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==oo&&(sl(oo),oo=null))),Ms(e,t),Gs(t),null;case 5:sa(t);var i=ra(na.current);if(n=t.type,null!==e&&null!=t.stateNode)Ps(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(o(166));return Gs(t),null}if(e=ra(ea.current),ho(t)){r=t.stateNode,n=t.type;var a=t.memoizedProps;switch(r[fi]=t,r[di]=a,e=0!==(1&t.mode),n){case"dialog":Kr("cancel",r),Kr("close",r);break;case"iframe":case"object":case"embed":Kr("load",r);break;case"video":case"audio":for(i=0;i<Ur.length;i++)Kr(Ur[i],r);break;case"source":Kr("error",r);break;case"img":case"image":case"link":Kr("error",r),Kr("load",r);break;case"details":Kr("toggle",r);break;case"input":J(r,a),Kr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},Kr("invalid",r);break;case"textarea":ie(r,a),Kr("invalid",r)}for(var u in ve(n,a),i=null,a)if(a.hasOwnProperty(u)){var l=a[u];"children"===u?"string"===typeof l?r.textContent!==l&&(!0!==a.suppressHydrationWarning&&Zr(r.textContent,l,e),i=["children",l]):"number"===typeof l&&r.textContent!==""+l&&(!0!==a.suppressHydrationWarning&&Zr(r.textContent,l,e),i=["children",""+l]):s.hasOwnProperty(u)&&null!=l&&"onScroll"===u&&Kr("scroll",r)}switch(n){case"input":q(r),$(r,a,!0);break;case"textarea":q(r),ae(r);break;case"select":case"option":break;default:"function"===typeof a.onClick&&(r.onclick=$r)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{u=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=se(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=u.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=u.createElement(n,{is:r.is}):(e=u.createElement(n),"select"===n&&(u=e,r.multiple?u.multiple=!0:r.size&&(u.size=r.size))):e=u.createElementNS(e,n),e[fi]=t,e[di]=r,Ds(e,t,!1,!1),t.stateNode=e;e:{switch(u=be(n,r),n){case"dialog":Kr("cancel",e),Kr("close",e),i=r;break;case"iframe":case"object":case"embed":Kr("load",e),i=r;break;case"video":case"audio":for(i=0;i<Ur.length;i++)Kr(Ur[i],e);i=r;break;case"source":Kr("error",e),i=r;break;case"img":case"image":case"link":Kr("error",e),Kr("load",e),i=r;break;case"details":Kr("toggle",e),i=r;break;case"input":J(e,r),i=W(e,r),Kr("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=T({},r,{value:void 0}),Kr("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),Kr("invalid",e)}for(a in ve(n,i),l=i)if(l.hasOwnProperty(a)){var c=l[a];"style"===a?ye(e,c):"dangerouslySetInnerHTML"===a?null!=(c=c?c.__html:void 0)&&he(e,c):"children"===a?"string"===typeof c?("textarea"!==n||""!==c)&&fe(e,c):"number"===typeof c&&fe(e,""+c):"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&"autoFocus"!==a&&(s.hasOwnProperty(a)?null!=c&&"onScroll"===a&&Kr("scroll",e):null!=c&&b(e,a,c,u))}switch(n){case"input":q(e),$(e,r,!1);break;case"textarea":q(e),ae(e);break;case"option":null!=r.value&&e.setAttribute("value",""+H(r.value));break;case"select":e.multiple=!!r.multiple,null!=(a=r.value)?ne(e,!!r.multiple,a,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=$r)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Gs(t),null;case 6:if(e&&null!=t.stateNode)Us(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(o(166));if(n=ra(na.current),ra(ea.current),ho(t)){if(r=t.stateNode,n=t.memoizedProps,r[fi]=t,(a=r.nodeValue!==n)&&null!==(e=no))switch(e.tag){case 3:Zr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Zr(r.nodeValue,n,0!==(1&e.mode))}a&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[fi]=t,t.stateNode=r}return Gs(t),null;case 13:if(Ei(ua),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(io&&null!==ro&&0!==(1&t.mode)&&0===(128&t.flags))fo(),po(),t.flags|=98560,a=!1;else if(a=ho(t),null!==r&&null!==r.dehydrated){if(null===e){if(!a)throw Error(o(318));if(!(a=null!==(a=t.memoizedState)?a.dehydrated:null))throw Error(o(317));a[fi]=t}else po(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Gs(t),a=!1}else null!==oo&&(sl(oo),oo=null),a=!0;if(!a)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&ua.current)?0===Uu&&(Uu=3):yl())),null!==t.updateQueue&&(t.flags|=4),Gs(t),null);case 4:return oa(),Ms(e,t),null===e&&Yr(t.stateNode.containerInfo),Gs(t),null;case 10:return Io(t.type._context),Gs(t),null;case 19:if(Ei(ua),null===(a=t.memoizedState))return Gs(t),null;if(r=0!==(128&t.flags),null===(u=a.rendering))if(r)qs(a,!1);else{if(0!==Uu||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(u=la(e))){for(t.flags|=128,qs(a,!1),null!==(r=u.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(a=n).flags&=14680066,null===(u=a.alternate)?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=u.childLanes,a.lanes=u.lanes,a.child=u.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=u.memoizedProps,a.memoizedState=u.memoizedState,a.updateQueue=u.updateQueue,a.type=u.type,e=u.dependencies,a.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return xi(ua,1&ua.current|2),t.child}e=e.sibling}null!==a.tail&&Xe()>zu&&(t.flags|=128,r=!0,qs(a,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=la(u))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),qs(a,!0),null===a.tail&&"hidden"===a.tailMode&&!u.alternate&&!io)return Gs(t),null}else 2*Xe()-a.renderingStartTime>zu&&1073741824!==n&&(t.flags|=128,r=!0,qs(a,!1),t.lanes=4194304);a.isBackwards?(u.sibling=t.child,t.child=u):(null!==(n=a.last)?n.sibling=u:t.child=u,a.last=u)}return null!==a.tail?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=Xe(),t.sibling=null,n=ua.current,xi(ua,r?1&n|2:1&n),t):(Gs(t),null);case 22:case 23:return fl(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Mu)&&(Gs(t),6&t.subtreeFlags&&(t.flags|=8192)):Gs(t),null;case 24:case 25:return null}throw Error(o(156,t.tag))}function Ws(e,t){switch(to(t),t.tag){case 1:return Di(t.type)&&Mi(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return oa(),Ei(Bi),Ei(Si),ha(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return sa(t),null;case 13:if(Ei(ua),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(o(340));po()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Ei(ua),null;case 4:return oa(),null;case 10:return Io(t.type._context),null;case 22:case 23:return fl(),null;default:return null}}Ds=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Ms=function(){},Ps=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,ra(ea.current);var o,a=null;switch(n){case"input":i=W(e,i),r=W(e,r),a=[];break;case"select":i=T({},i,{value:void 0}),r=T({},r,{value:void 0}),a=[];break;case"textarea":i=re(e,i),r=re(e,r),a=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=$r)}for(c in ve(n,r),n=null,i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&null!=i[c])if("style"===c){var u=i[c];for(o in u)u.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else"dangerouslySetInnerHTML"!==c&&"children"!==c&&"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&"autoFocus"!==c&&(s.hasOwnProperty(c)?a||(a=[]):(a=a||[]).push(c,null));for(c in r){var l=r[c];if(u=null!=i?i[c]:void 0,r.hasOwnProperty(c)&&l!==u&&(null!=l||null!=u))if("style"===c)if(u){for(o in u)!u.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&u[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(a||(a=[]),a.push(c,n)),n=l;else"dangerouslySetInnerHTML"===c?(l=l?l.__html:void 0,u=u?u.__html:void 0,null!=l&&u!==l&&(a=a||[]).push(c,l)):"children"===c?"string"!==typeof l&&"number"!==typeof l||(a=a||[]).push(c,""+l):"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&(s.hasOwnProperty(c)?(null!=l&&"onScroll"===c&&Kr("scroll",e),a||u===l||(a=[])):(a=a||[]).push(c,l))}n&&(a=a||[]).push("style",n);var c=a;(t.updateQueue=c)&&(t.flags|=4)}},Us=function(e,t,n,r){n!==r&&(t.flags|=4)};var Js=!1,Xs=!1,Zs="function"===typeof WeakSet?WeakSet:Set,$s=null;function eu(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){El(e,t,r)}else n.current=null}function tu(e,t,n){try{n()}catch(r){El(e,t,r)}}var nu=!1;function ru(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var o=i.destroy;i.destroy=void 0,void 0!==o&&tu(t,n,o)}i=i.next}while(i!==r)}}function iu(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function ou(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function au(e){var t=e.alternate;null!==t&&(e.alternate=null,au(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[fi],delete t[di],delete t[gi],delete t[yi],delete t[Ai])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function su(e){return 5===e.tag||3===e.tag||4===e.tag}function uu(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||su(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function lu(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=$r));else if(4!==r&&null!==(e=e.child))for(lu(e,t,n),e=e.sibling;null!==e;)lu(e,t,n),e=e.sibling}function cu(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(cu(e,t,n),e=e.sibling;null!==e;)cu(e,t,n),e=e.sibling}var hu=null,fu=!1;function du(e,t,n){for(n=n.child;null!==n;)pu(e,t,n),n=n.sibling}function pu(e,t,n){if(ot&&"function"===typeof ot.onCommitFiberUnmount)try{ot.onCommitFiberUnmount(it,n)}catch(s){}switch(n.tag){case 5:Xs||eu(n,t);case 6:var r=hu,i=fu;hu=null,du(e,t,n),fu=i,null!==(hu=r)&&(fu?(e=hu,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):hu.removeChild(n.stateNode));break;case 18:null!==hu&&(fu?(e=hu,n=n.stateNode,8===e.nodeType?ui(e.parentNode,n):1===e.nodeType&&ui(e,n),Yt(e)):ui(hu,n.stateNode));break;case 4:r=hu,i=fu,hu=n.stateNode.containerInfo,fu=!0,du(e,t,n),hu=r,fu=i;break;case 0:case 11:case 14:case 15:if(!Xs&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var o=i,a=o.destroy;o=o.tag,void 0!==a&&(0!==(2&o)||0!==(4&o))&&tu(n,t,a),i=i.next}while(i!==r)}du(e,t,n);break;case 1:if(!Xs&&(eu(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){El(n,t,s)}du(e,t,n);break;case 21:du(e,t,n);break;case 22:1&n.mode?(Xs=(r=Xs)||null!==n.memoizedState,du(e,t,n),Xs=r):du(e,t,n);break;default:du(e,t,n)}}function gu(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Zs),t.forEach((function(t){var r=Bl.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function yu(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var a=e,s=t,u=s;e:for(;null!==u;){switch(u.tag){case 5:hu=u.stateNode,fu=!1;break e;case 3:case 4:hu=u.stateNode.containerInfo,fu=!0;break e}u=u.return}if(null===hu)throw Error(o(160));pu(a,s,i),hu=null,fu=!1;var l=i.alternate;null!==l&&(l.return=null),i.return=null}catch(c){El(i,t,c)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)Au(t,e),t=t.sibling}function Au(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(yu(t,e),vu(e),4&r){try{ru(3,e,e.return),iu(3,e)}catch(y){El(e,e.return,y)}try{ru(5,e,e.return)}catch(y){El(e,e.return,y)}}break;case 1:yu(t,e),vu(e),512&r&&null!==n&&eu(n,n.return);break;case 5:if(yu(t,e),vu(e),512&r&&null!==n&&eu(n,n.return),32&e.flags){var i=e.stateNode;try{fe(i,"")}catch(y){El(e,e.return,y)}}if(4&r&&null!=(i=e.stateNode)){var a=e.memoizedProps,s=null!==n?n.memoizedProps:a,u=e.type,l=e.updateQueue;if(e.updateQueue=null,null!==l)try{"input"===u&&"radio"===a.type&&null!=a.name&&X(i,a),be(u,s);var c=be(u,a);for(s=0;s<l.length;s+=2){var h=l[s],f=l[s+1];"style"===h?ye(i,f):"dangerouslySetInnerHTML"===h?he(i,f):"children"===h?fe(i,f):b(i,h,f,c)}switch(u){case"input":Z(i,a);break;case"textarea":oe(i,a);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var p=a.value;null!=p?ne(i,!!a.multiple,p,!1):d!==!!a.multiple&&(null!=a.defaultValue?ne(i,!!a.multiple,a.defaultValue,!0):ne(i,!!a.multiple,a.multiple?[]:"",!1))}i[di]=a}catch(y){El(e,e.return,y)}}break;case 6:if(yu(t,e),vu(e),4&r){if(null===e.stateNode)throw Error(o(162));i=e.stateNode,a=e.memoizedProps;try{i.nodeValue=a}catch(y){El(e,e.return,y)}}break;case 3:if(yu(t,e),vu(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Yt(t.containerInfo)}catch(y){El(e,e.return,y)}break;case 4:default:yu(t,e),vu(e);break;case 13:yu(t,e),vu(e),8192&(i=e.child).flags&&(a=null!==i.memoizedState,i.stateNode.isHidden=a,!a||null!==i.alternate&&null!==i.alternate.memoizedState||(Yu=Xe())),4&r&&gu(e);break;case 22:if(h=null!==n&&null!==n.memoizedState,1&e.mode?(Xs=(c=Xs)||h,yu(t,e),Xs=c):yu(t,e),vu(e),8192&r){if(c=null!==e.memoizedState,(e.stateNode.isHidden=c)&&!h&&0!==(1&e.mode))for($s=e,h=e.child;null!==h;){for(f=$s=h;null!==$s;){switch(p=(d=$s).child,d.tag){case 0:case 11:case 14:case 15:ru(4,d,d.return);break;case 1:eu(d,d.return);var g=d.stateNode;if("function"===typeof g.componentWillUnmount){r=d,n=d.return;try{t=r,g.props=t.memoizedProps,g.state=t.memoizedState,g.componentWillUnmount()}catch(y){El(r,n,y)}}break;case 5:eu(d,d.return);break;case 22:if(null!==d.memoizedState){ku(f);continue}}null!==p?(p.return=d,$s=p):ku(f)}h=h.sibling}e:for(h=null,f=e;;){if(5===f.tag){if(null===h){h=f;try{i=f.stateNode,c?"function"===typeof(a=i.style).setProperty?a.setProperty("display","none","important"):a.display="none":(u=f.stateNode,s=void 0!==(l=f.memoizedProps.style)&&null!==l&&l.hasOwnProperty("display")?l.display:null,u.style.display=ge("display",s))}catch(y){El(e,e.return,y)}}}else if(6===f.tag){if(null===h)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(y){El(e,e.return,y)}}else if((22!==f.tag&&23!==f.tag||null===f.memoizedState||f===e)&&null!==f.child){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;null===f.sibling;){if(null===f.return||f.return===e)break e;h===f&&(h=null),f=f.return}h===f&&(h=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:yu(t,e),vu(e),4&r&&gu(e);case 21:}}function vu(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(su(n)){var r=n;break e}n=n.return}throw Error(o(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(fe(i,""),r.flags&=-33),cu(e,uu(e),i);break;case 3:case 4:var a=r.stateNode.containerInfo;lu(e,uu(e),a);break;default:throw Error(o(161))}}catch(s){El(e,e.return,s)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function bu(e,t,n){$s=e,_u(e,t,n)}function _u(e,t,n){for(var r=0!==(1&e.mode);null!==$s;){var i=$s,o=i.child;if(22===i.tag&&r){var a=null!==i.memoizedState||Js;if(!a){var s=i.alternate,u=null!==s&&null!==s.memoizedState||Xs;s=Js;var l=Xs;if(Js=a,(Xs=u)&&!l)for($s=i;null!==$s;)u=(a=$s).child,22===a.tag&&null!==a.memoizedState?Iu(i):null!==u?(u.return=a,$s=u):Iu(i);for(;null!==o;)$s=o,_u(o,t,n),o=o.sibling;$s=i,Js=s,Xs=l}mu(e)}else 0!==(8772&i.subtreeFlags)&&null!==o?(o.return=i,$s=o):mu(e)}}function mu(e){for(;null!==$s;){var t=$s;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Xs||iu(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Xs)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:Ao(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;null!==a&&Ko(t,a,r);break;case 3:var s=t.updateQueue;if(null!==s){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Ko(t,s,n)}break;case 5:var u=t.stateNode;if(null===n&&4&t.flags){n=u;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var c=t.alternate;if(null!==c){var h=c.memoizedState;if(null!==h){var f=h.dehydrated;null!==f&&Yt(f)}}}break;default:throw Error(o(163))}Xs||512&t.flags&&ou(t)}catch(d){El(t,t.return,d)}}if(t===e){$s=null;break}if(null!==(n=t.sibling)){n.return=t.return,$s=n;break}$s=t.return}}function ku(e){for(;null!==$s;){var t=$s;if(t===e){$s=null;break}var n=t.sibling;if(null!==n){n.return=t.return,$s=n;break}$s=t.return}}function Iu(e){for(;null!==$s;){var t=$s;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{iu(4,t)}catch(u){El(t,n,u)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(u){El(t,i,u)}}var o=t.return;try{ou(t)}catch(u){El(t,o,u)}break;case 5:var a=t.return;try{ou(t)}catch(u){El(t,a,u)}}}catch(u){El(t,t.return,u)}if(t===e){$s=null;break}var s=t.sibling;if(null!==s){s.return=t.return,$s=s;break}$s=t.return}}var wu,Eu=Math.ceil,xu=_.ReactCurrentDispatcher,Cu=_.ReactCurrentOwner,Su=_.ReactCurrentBatchConfig,Bu=0,Qu=null,Lu=null,Du=0,Mu=0,Pu=wi(0),Uu=0,Nu=null,Tu=0,Ou=0,Ku=0,Ru=null,Fu=null,Yu=0,zu=1/0,Hu=null,ju=!1,qu=null,Gu=null,Vu=!1,Wu=null,Ju=0,Xu=0,Zu=null,$u=-1,el=0;function tl(){return 0!==(6&Bu)?Xe():-1!==$u?$u:$u=Xe()}function nl(e){return 0===(1&e.mode)?1:0!==(2&Bu)&&0!==Du?Du&-Du:null!==yo.transition?(0===el&&(el=gt()),el):0!==(e=bt)?e:e=void 0===(e=window.event)?16:Jt(e.type)}function rl(e,t,n,r){if(50<Xu)throw Xu=0,Zu=null,Error(o(185));At(e,n,r),0!==(2&Bu)&&e===Qu||(e===Qu&&(0===(2&Bu)&&(Ou|=n),4===Uu&&ul(e,Du)),il(e,r),1===n&&0===Bu&&0===(1&t.mode)&&(zu=Xe()+500,Ki&&Yi()))}function il(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,o=e.pendingLanes;0<o;){var a=31-at(o),s=1<<a,u=i[a];-1===u?0!==(s&n)&&0===(s&r)||(i[a]=dt(s,t)):u<=t&&(e.expiredLanes|=s),o&=~s}}(e,t);var r=ft(e,e===Qu?Du:0);if(0===r)null!==n&&Ve(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Ve(n),1===t)0===e.tag?function(e){Ki=!0,Fi(e)}(ll.bind(null,e)):Fi(ll.bind(null,e)),ai((function(){0===(6&Bu)&&Yi()})),n=null;else{switch(_t(r)){case 1:n=$e;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Ql(n,ol.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function ol(e,t){if($u=-1,el=0,0!==(6&Bu))throw Error(o(327));var n=e.callbackNode;if(Il()&&e.callbackNode!==n)return null;var r=ft(e,e===Qu?Du:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=Al(e,r);else{t=r;var i=Bu;Bu|=2;var a=gl();for(Qu===e&&Du===t||(Hu=null,zu=Xe()+500,dl(e,t));;)try{bl();break}catch(u){pl(e,u)}ko(),xu.current=a,Bu=i,null!==Lu?t=0:(Qu=null,Du=0,t=Uu)}if(0!==t){if(2===t&&(0!==(i=pt(e))&&(r=i,t=al(e,i))),1===t)throw n=Nu,dl(e,0),ul(e,r),il(e,Xe()),n;if(6===t)ul(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!sr(o(),i))return!1}catch(s){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=Al(e,r))&&(0!==(a=pt(e))&&(r=a,t=al(e,a))),1===t))throw n=Nu,dl(e,0),ul(e,r),il(e,Xe()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(o(345));case 2:case 5:kl(e,Fu,Hu);break;case 3:if(ul(e,r),(130023424&r)===r&&10<(t=Yu+500-Xe())){if(0!==ft(e,0))break;if(((i=e.suspendedLanes)&r)!==r){tl(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(kl.bind(null,e,Fu,Hu),t);break}kl(e,Fu,Hu);break;case 4:if(ul(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var s=31-at(r);a=1<<s,(s=t[s])>i&&(i=s),r&=~a}if(r=i,10<(r=(120>(r=Xe()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Eu(r/1960))-r)){e.timeoutHandle=ri(kl.bind(null,e,Fu,Hu),r);break}kl(e,Fu,Hu);break;default:throw Error(o(329))}}}return il(e,Xe()),e.callbackNode===n?ol.bind(null,e):null}function al(e,t){var n=Ru;return e.current.memoizedState.isDehydrated&&(dl(e,t).flags|=256),2!==(e=Al(e,t))&&(t=Fu,Fu=n,null!==t&&sl(t)),e}function sl(e){null===Fu?Fu=e:Fu.push.apply(Fu,e)}function ul(e,t){for(t&=~Ku,t&=~Ou,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-at(t),r=1<<n;e[n]=-1,t&=~r}}function ll(e){if(0!==(6&Bu))throw Error(o(327));Il();var t=ft(e,0);if(0===(1&t))return il(e,Xe()),null;var n=Al(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=al(e,r))}if(1===n)throw n=Nu,dl(e,0),ul(e,t),il(e,Xe()),n;if(6===n)throw Error(o(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,kl(e,Fu,Hu),il(e,Xe()),null}function cl(e,t){var n=Bu;Bu|=1;try{return e(t)}finally{0===(Bu=n)&&(zu=Xe()+500,Ki&&Yi())}}function hl(e){null!==Wu&&0===Wu.tag&&0===(6&Bu)&&Il();var t=Bu;Bu|=1;var n=Su.transition,r=bt;try{if(Su.transition=null,bt=1,e)return e()}finally{bt=r,Su.transition=n,0===(6&(Bu=t))&&Yi()}}function fl(){Mu=Pu.current,Ei(Pu)}function dl(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==Lu)for(n=Lu.return;null!==n;){var r=n;switch(to(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Mi();break;case 3:oa(),Ei(Bi),Ei(Si),ha();break;case 5:sa(r);break;case 4:oa();break;case 13:case 19:Ei(ua);break;case 10:Io(r.type._context);break;case 22:case 23:fl()}n=n.return}if(Qu=e,Lu=e=Pl(e.current,null),Du=Mu=t,Uu=0,Nu=null,Ku=Ou=Tu=0,Fu=Ru=null,null!==Co){for(t=0;t<Co.length;t++)if(null!==(r=(n=Co[t]).interleaved)){n.interleaved=null;var i=r.next,o=n.pending;if(null!==o){var a=o.next;o.next=i,r.next=a}n.pending=r}Co=null}return e}function pl(e,t){for(;;){var n=Lu;try{if(ko(),fa.current=as,va){for(var r=ga.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}va=!1}if(pa=0,Aa=ya=ga=null,ba=!1,_a=0,Cu.current=null,null===n||null===n.return){Uu=1,Nu=t,Lu=null;break}e:{var a=e,s=n.return,u=n,l=t;if(t=Du,u.flags|=32768,null!==l&&"object"===typeof l&&"function"===typeof l.then){var c=l,h=u,f=h.tag;if(0===(1&h.mode)&&(0===f||11===f||15===f)){var d=h.alternate;d?(h.updateQueue=d.updateQueue,h.memoizedState=d.memoizedState,h.lanes=d.lanes):(h.updateQueue=null,h.memoizedState=null)}var p=As(s);if(null!==p){p.flags&=-257,vs(p,s,u,0,t),1&p.mode&&ys(a,c,t),l=c;var g=(t=p).updateQueue;if(null===g){var y=new Set;y.add(l),t.updateQueue=y}else g.add(l);break e}if(0===(1&t)){ys(a,c,t),yl();break e}l=Error(o(426))}else if(io&&1&u.mode){var A=As(s);if(null!==A){0===(65536&A.flags)&&(A.flags|=256),vs(A,s,u,0,t),go(cs(l,u));break e}}a=l=cs(l,u),4!==Uu&&(Uu=2),null===Ru?Ru=[a]:Ru.push(a),a=s;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t,To(a,ps(0,l,t));break e;case 1:u=l;var v=a.type,b=a.stateNode;if(0===(128&a.flags)&&("function"===typeof v.getDerivedStateFromError||null!==b&&"function"===typeof b.componentDidCatch&&(null===Gu||!Gu.has(b)))){a.flags|=65536,t&=-t,a.lanes|=t,To(a,gs(a,u,t));break e}}a=a.return}while(null!==a)}ml(n)}catch(_){t=_,Lu===n&&null!==n&&(Lu=n=n.return);continue}break}}function gl(){var e=xu.current;return xu.current=as,null===e?as:e}function yl(){0!==Uu&&3!==Uu&&2!==Uu||(Uu=4),null===Qu||0===(268435455&Tu)&&0===(268435455&Ou)||ul(Qu,Du)}function Al(e,t){var n=Bu;Bu|=2;var r=gl();for(Qu===e&&Du===t||(Hu=null,dl(e,t));;)try{vl();break}catch(i){pl(e,i)}if(ko(),Bu=n,xu.current=r,null!==Lu)throw Error(o(261));return Qu=null,Du=0,Uu}function vl(){for(;null!==Lu;)_l(Lu)}function bl(){for(;null!==Lu&&!We();)_l(Lu)}function _l(e){var t=wu(e.alternate,e,Mu);e.memoizedProps=e.pendingProps,null===t?ml(e):Lu=t,Cu.current=null}function ml(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Vs(n,t,Mu)))return void(Lu=n)}else{if(null!==(n=Ws(n,t)))return n.flags&=32767,void(Lu=n);if(null===e)return Uu=6,void(Lu=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Lu=t);Lu=t=e}while(null!==t);0===Uu&&(Uu=5)}function kl(e,t,n){var r=bt,i=Su.transition;try{Su.transition=null,bt=1,function(e,t,n,r){do{Il()}while(null!==Wu);if(0!==(6&Bu))throw Error(o(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(o(177));e.callbackNode=null,e.callbackPriority=0;var a=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-at(n),o=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~o}}(e,a),e===Qu&&(Lu=Qu=null,Du=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Vu||(Vu=!0,Ql(tt,(function(){return Il(),null}))),a=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||a){a=Su.transition,Su.transition=null;var s=bt;bt=1;var u=Bu;Bu|=4,Cu.current=null,function(e,t){if(ei=Ht,dr(e=fr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch(m){n=null;break e}var s=0,u=-1,l=-1,c=0,h=0,f=e,d=null;t:for(;;){for(var p;f!==n||0!==i&&3!==f.nodeType||(u=s+i),f!==a||0!==r&&3!==f.nodeType||(l=s+r),3===f.nodeType&&(s+=f.nodeValue.length),null!==(p=f.firstChild);)d=f,f=p;for(;;){if(f===e)break t;if(d===n&&++c===i&&(u=s),d===a&&++h===r&&(l=s),null!==(p=f.nextSibling))break;d=(f=d).parentNode}f=p}n=-1===u||-1===l?null:{start:u,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},Ht=!1,$s=t;null!==$s;)if(e=(t=$s).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,$s=e;else for(;null!==$s;){t=$s;try{var g=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==g){var y=g.memoizedProps,A=g.memoizedState,v=t.stateNode,b=v.getSnapshotBeforeUpdate(t.elementType===t.type?y:Ao(t.type,y),A);v.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var _=t.stateNode.containerInfo;1===_.nodeType?_.textContent="":9===_.nodeType&&_.documentElement&&_.removeChild(_.documentElement);break;default:throw Error(o(163))}}catch(m){El(t,t.return,m)}if(null!==(e=t.sibling)){e.return=t.return,$s=e;break}$s=t.return}g=nu,nu=!1}(e,n),Au(n,e),pr(ti),Ht=!!ei,ti=ei=null,e.current=n,bu(n,e,i),Je(),Bu=u,bt=s,Su.transition=a}else e.current=n;if(Vu&&(Vu=!1,Wu=e,Ju=i),a=e.pendingLanes,0===a&&(Gu=null),function(e){if(ot&&"function"===typeof ot.onCommitFiberRoot)try{ot.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),il(e,Xe()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(ju)throw ju=!1,e=qu,qu=null,e;0!==(1&Ju)&&0!==e.tag&&Il(),a=e.pendingLanes,0!==(1&a)?e===Zu?Xu++:(Xu=0,Zu=e):Xu=0,Yi()}(e,t,n,r)}finally{Su.transition=i,bt=r}return null}function Il(){if(null!==Wu){var e=_t(Ju),t=Su.transition,n=bt;try{if(Su.transition=null,bt=16>e?16:e,null===Wu)var r=!1;else{if(e=Wu,Wu=null,Ju=0,0!==(6&Bu))throw Error(o(331));var i=Bu;for(Bu|=4,$s=e.current;null!==$s;){var a=$s,s=a.child;if(0!==(16&$s.flags)){var u=a.deletions;if(null!==u){for(var l=0;l<u.length;l++){var c=u[l];for($s=c;null!==$s;){var h=$s;switch(h.tag){case 0:case 11:case 15:ru(8,h,a)}var f=h.child;if(null!==f)f.return=h,$s=f;else for(;null!==$s;){var d=(h=$s).sibling,p=h.return;if(au(h),h===c){$s=null;break}if(null!==d){d.return=p,$s=d;break}$s=p}}}var g=a.alternate;if(null!==g){var y=g.child;if(null!==y){g.child=null;do{var A=y.sibling;y.sibling=null,y=A}while(null!==y)}}$s=a}}if(0!==(2064&a.subtreeFlags)&&null!==s)s.return=a,$s=s;else e:for(;null!==$s;){if(0!==(2048&(a=$s).flags))switch(a.tag){case 0:case 11:case 15:ru(9,a,a.return)}var v=a.sibling;if(null!==v){v.return=a.return,$s=v;break e}$s=a.return}}var b=e.current;for($s=b;null!==$s;){var _=(s=$s).child;if(0!==(2064&s.subtreeFlags)&&null!==_)_.return=s,$s=_;else e:for(s=b;null!==$s;){if(0!==(2048&(u=$s).flags))try{switch(u.tag){case 0:case 11:case 15:iu(9,u)}}catch(k){El(u,u.return,k)}if(u===s){$s=null;break e}var m=u.sibling;if(null!==m){m.return=u.return,$s=m;break e}$s=u.return}}if(Bu=i,Yi(),ot&&"function"===typeof ot.onPostCommitFiberRoot)try{ot.onPostCommitFiberRoot(it,e)}catch(k){}r=!0}return r}finally{bt=n,Su.transition=t}}return!1}function wl(e,t,n){e=Uo(e,t=ps(0,t=cs(n,t),1),1),t=tl(),null!==e&&(At(e,1,t),il(e,t))}function El(e,t,n){if(3===e.tag)wl(e,e,n);else for(;null!==t;){if(3===t.tag){wl(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Gu||!Gu.has(r))){t=Uo(t,e=gs(t,e=cs(n,e),1),1),e=tl(),null!==t&&(At(t,1,e),il(t,e));break}}t=t.return}}function xl(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=tl(),e.pingedLanes|=e.suspendedLanes&n,Qu===e&&(Du&n)===n&&(4===Uu||3===Uu&&(130023424&Du)===Du&&500>Xe()-Yu?dl(e,0):Ku|=n),il(e,t)}function Cl(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ct,0===(130023424&(ct<<=1))&&(ct=4194304)));var n=tl();null!==(e=Qo(e,t))&&(At(e,t,n),il(e,n))}function Sl(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Cl(e,n)}function Bl(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(o(314))}null!==r&&r.delete(t),Cl(e,n)}function Ql(e,t){return Ge(e,t)}function Ll(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Dl(e,t,n,r){return new Ll(e,t,n,r)}function Ml(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Pl(e,t){var n=e.alternate;return null===n?((n=Dl(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Ul(e,t,n,r,i,a){var s=2;if(r=e,"function"===typeof e)Ml(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case I:return Nl(n.children,i,a,t);case w:s=8,i|=8;break;case E:return(e=Dl(12,n,t,2|i)).elementType=E,e.lanes=a,e;case B:return(e=Dl(13,n,t,i)).elementType=B,e.lanes=a,e;case Q:return(e=Dl(19,n,t,i)).elementType=Q,e.lanes=a,e;case M:return Tl(n,i,a,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case x:s=10;break e;case C:s=9;break e;case S:s=11;break e;case L:s=14;break e;case D:s=16,r=null;break e}throw Error(o(130,null==e?e:typeof e,""))}return(t=Dl(s,n,t,i)).elementType=e,t.type=r,t.lanes=a,t}function Nl(e,t,n,r){return(e=Dl(7,e,r,t)).lanes=n,e}function Tl(e,t,n,r){return(e=Dl(22,e,r,t)).elementType=M,e.lanes=n,e.stateNode={isHidden:!1},e}function Ol(e,t,n){return(e=Dl(6,e,null,t)).lanes=n,e}function Kl(e,t,n){return(t=Dl(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Rl(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=yt(0),this.expirationTimes=yt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=yt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Fl(e,t,n,r,i,o,a,s,u){return e=new Rl(e,t,n,s,u),1===t?(t=1,!0===o&&(t|=8)):t=0,o=Dl(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Do(o),e}function Yl(e){if(!e)return Ci;e:{if(Ye(e=e._reactInternals)!==e||1!==e.tag)throw Error(o(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Di(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(o(171))}if(1===e.tag){var n=e.type;if(Di(n))return Ui(e,n,t)}return t}function zl(e,t,n,r,i,o,a,s,u){return(e=Fl(n,r,!0,e,0,o,0,s,u)).context=Yl(null),n=e.current,(o=Po(r=tl(),i=nl(n))).callback=void 0!==t&&null!==t?t:null,Uo(n,o,i),e.current.lanes=i,At(e,i,r),il(e,r),e}function Hl(e,t,n,r){var i=t.current,o=tl(),a=nl(i);return n=Yl(n),null===t.context?t.context=n:t.pendingContext=n,(t=Po(o,a)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Uo(i,t,a))&&(rl(e,i,a,o),No(e,i,a)),a}function jl(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function ql(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Gl(e,t){ql(e,t),(e=e.alternate)&&ql(e,t)}wu=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Bi.current)_s=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return _s=!1,function(e,t,n){switch(t.tag){case 3:Qs(t),po();break;case 5:aa(t);break;case 1:Di(t.type)&&Ni(t);break;case 4:ia(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;xi(vo,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(xi(ua,1&ua.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Os(e,t,n):(xi(ua,1&ua.current),null!==(e=js(e,t,n))?e.sibling:null);xi(ua,1&ua.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return zs(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),xi(ua,ua.current),r)break;return null;case 22:case 23:return t.lanes=0,Es(e,t,n)}return js(e,t,n)}(e,t,n);_s=0!==(131072&e.flags)}else _s=!1,io&&0!==(1048576&t.flags)&&$i(t,qi,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Hs(e,t),e=t.pendingProps;var i=Li(t,Si.current);Eo(t,n),i=wa(null,t,r,e,i,n);var a=Ea();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Di(r)?(a=!0,Ni(t)):a=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Do(t),i.updater=Yo,t.stateNode=i,i._reactInternals=t,qo(t,r,e,n),t=Bs(null,t,r,!0,a,n)):(t.tag=0,io&&a&&eo(t),ms(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Hs(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Ml(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===S)return 11;if(e===L)return 14}return 2}(r),e=Ao(r,e),i){case 0:t=Cs(null,t,r,e,n);break e;case 1:t=Ss(null,t,r,e,n);break e;case 11:t=ks(null,t,r,e,n);break e;case 14:t=Is(null,t,r,Ao(r.type,e),n);break e}throw Error(o(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Cs(e,t,r,i=t.elementType===r?i:Ao(r,i),n);case 1:return r=t.type,i=t.pendingProps,Ss(e,t,r,i=t.elementType===r?i:Ao(r,i),n);case 3:e:{if(Qs(t),null===e)throw Error(o(387));r=t.pendingProps,i=(a=t.memoizedState).element,Mo(e,t),Oo(t,r,null,n);var s=t.memoizedState;if(r=s.element,a.isDehydrated){if(a={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=a,t.memoizedState=a,256&t.flags){t=Ls(e,t,r,n,i=cs(Error(o(423)),t));break e}if(r!==i){t=Ls(e,t,r,n,i=cs(Error(o(424)),t));break e}for(ro=li(t.stateNode.containerInfo.firstChild),no=t,io=!0,oo=null,n=Zo(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(po(),r===i){t=js(e,t,n);break e}ms(e,t,r,n)}t=t.child}return t;case 5:return aa(t),null===e&&lo(t),r=t.type,i=t.pendingProps,a=null!==e?e.memoizedProps:null,s=i.children,ni(r,i)?s=null:null!==a&&ni(r,a)&&(t.flags|=32),xs(e,t),ms(e,t,s,n),t.child;case 6:return null===e&&lo(t),null;case 13:return Os(e,t,n);case 4:return ia(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Xo(t,null,r,n):ms(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,ks(e,t,r,i=t.elementType===r?i:Ao(r,i),n);case 7:return ms(e,t,t.pendingProps,n),t.child;case 8:case 12:return ms(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,a=t.memoizedProps,s=i.value,xi(vo,r._currentValue),r._currentValue=s,null!==a)if(sr(a.value,s)){if(a.children===i.children&&!Bi.current){t=js(e,t,n);break e}}else for(null!==(a=t.child)&&(a.return=t);null!==a;){var u=a.dependencies;if(null!==u){s=a.child;for(var l=u.firstContext;null!==l;){if(l.context===r){if(1===a.tag){(l=Po(-1,n&-n)).tag=2;var c=a.updateQueue;if(null!==c){var h=(c=c.shared).pending;null===h?l.next=l:(l.next=h.next,h.next=l),c.pending=l}}a.lanes|=n,null!==(l=a.alternate)&&(l.lanes|=n),wo(a.return,n,t),u.lanes|=n;break}l=l.next}}else if(10===a.tag)s=a.type===t.type?null:a.child;else if(18===a.tag){if(null===(s=a.return))throw Error(o(341));s.lanes|=n,null!==(u=s.alternate)&&(u.lanes|=n),wo(s,n,t),s=a.sibling}else s=a.child;if(null!==s)s.return=a;else for(s=a;null!==s;){if(s===t){s=null;break}if(null!==(a=s.sibling)){a.return=s.return,s=a;break}s=s.return}a=s}ms(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Eo(t,n),r=r(i=xo(i)),t.flags|=1,ms(e,t,r,n),t.child;case 14:return i=Ao(r=t.type,t.pendingProps),Is(e,t,r,i=Ao(r.type,i),n);case 15:return ws(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Ao(r,i),Hs(e,t),t.tag=1,Di(r)?(e=!0,Ni(t)):e=!1,Eo(t,n),Ho(t,r,i),qo(t,r,i,n),Bs(null,t,r,!0,e,n);case 19:return zs(e,t,n);case 22:return Es(e,t,n)}throw Error(o(156,t.tag))};var Vl="function"===typeof reportError?reportError:function(e){console.error(e)};function Wl(e){this._internalRoot=e}function Jl(e){this._internalRoot=e}function Xl(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Zl(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function $l(){}function ec(e,t,n,r,i){var o=n._reactRootContainer;if(o){var a=o;if("function"===typeof i){var s=i;i=function(){var e=jl(a);s.call(e)}}Hl(t,a,e,i)}else a=function(e,t,n,r,i){if(i){if("function"===typeof r){var o=r;r=function(){var e=jl(a);o.call(e)}}var a=zl(t,r,e,0,null,!1,0,"",$l);return e._reactRootContainer=a,e[pi]=a.current,Yr(8===e.nodeType?e.parentNode:e),hl(),a}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var s=r;r=function(){var e=jl(u);s.call(e)}}var u=Fl(e,0,!1,null,0,!1,0,"",$l);return e._reactRootContainer=u,e[pi]=u.current,Yr(8===e.nodeType?e.parentNode:e),hl((function(){Hl(t,u,n,r)})),u}(n,t,e,i,r);return jl(a)}Jl.prototype.render=Wl.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(o(409));Hl(e,t,null,null)},Jl.prototype.unmount=Wl.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;hl((function(){Hl(null,e,null,null)})),t[pi]=null}},Jl.prototype.unstable_scheduleHydration=function(e){if(e){var t=wt();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Mt.length&&0!==t&&t<Mt[n].priority;n++);Mt.splice(n,0,e),0===n&&Tt(e)}},mt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ht(t.pendingLanes);0!==n&&(vt(t,1|n),il(t,Xe()),0===(6&Bu)&&(zu=Xe()+500,Yi()))}break;case 13:hl((function(){var t=Qo(e,1);if(null!==t){var n=tl();rl(t,e,1,n)}})),Gl(e,1)}},kt=function(e){if(13===e.tag){var t=Qo(e,134217728);if(null!==t)rl(t,e,134217728,tl());Gl(e,134217728)}},It=function(e){if(13===e.tag){var t=nl(e),n=Qo(e,t);if(null!==n)rl(n,e,t,tl());Gl(e,t)}},wt=function(){return bt},Et=function(e,t){var n=bt;try{return bt=e,t()}finally{bt=n}},ke=function(e,t,n){switch(t){case"input":if(Z(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=mi(r);if(!i)throw Error(o(90));G(r),Z(r,i)}}}break;case"textarea":oe(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Se=cl,Be=hl;var tc={usingClientEntryPoint:!1,Events:[bi,_i,mi,xe,Ce,cl]},nc={findFiberByHostInstance:vi,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},rc={bundleType:nc.bundleType,version:nc.version,rendererPackageName:nc.rendererPackageName,rendererConfig:nc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:_.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=je(e))?null:e.stateNode},findFiberByHostInstance:nc.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var ic=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ic.isDisabled&&ic.supportsFiber)try{it=ic.inject(rc),ot=ic}catch(ce){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tc,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Xl(t))throw Error(o(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:k,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Xl(e))throw Error(o(299));var n=!1,r="",i=Vl;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=Fl(e,1,!1,null,0,n,0,r,i),e[pi]=t.current,Yr(8===e.nodeType?e.parentNode:e),new Wl(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(o(188));throw e=Object.keys(e).join(","),Error(o(268,e))}return e=null===(e=je(t))?null:e.stateNode},t.flushSync=function(e){return hl(e)},t.hydrate=function(e,t,n){if(!Zl(t))throw Error(o(200));return ec(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Xl(e))throw Error(o(405));var r=null!=n&&n.hydratedSources||null,i=!1,a="",s=Vl;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(a=n.identifierPrefix),void 0!==n.onRecoverableError&&(s=n.onRecoverableError)),t=zl(t,null,e,1,null!=n?n:null,i,0,a,s),e[pi]=t.current,Yr(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Jl(t)},t.render=function(e,t,n){if(!Zl(t))throw Error(o(200));return ec(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Zl(e))throw Error(o(40));return!!e._reactRootContainer&&(hl((function(){ec(null,null,e,!1,(function(){e._reactRootContainer=null,e[pi]=null}))})),!0)},t.unstable_batchedUpdates=cl,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Zl(n))throw Error(o(200));if(null==e||void 0===e._reactInternals)throw Error(o(38));return ec(e,t,n,!1,r)},t.version="18.2.0-next-9e3b772b8-20220608"},1250:function(e,t,n){"use strict";var r=n(4164);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},4164:function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(4463)},6374:function(e,t,n){"use strict";var r=n(2791),i=Symbol.for("react.element"),o=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,s=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u={key:!0,ref:!0,__self:!0,__source:!0};function l(e,t,n){var r,o={},l=null,c=null;for(r in void 0!==n&&(l=""+n),void 0!==t.key&&(l=""+t.key),void 0!==t.ref&&(c=t.ref),t)a.call(t,r)&&!u.hasOwnProperty(r)&&(o[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===o[r]&&(o[r]=t[r]);return{$$typeof:i,type:e,key:l,ref:c,props:o,_owner:s.current}}t.Fragment=o,t.jsx=l,t.jsxs=l},9117:function(e,t){"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),u=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),d=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},g=Object.assign,y={};function A(e,t,n){this.props=e,this.context=t,this.refs=y,this.updater=n||p}function v(){}function b(e,t,n){this.props=e,this.context=t,this.refs=y,this.updater=n||p}A.prototype.isReactComponent={},A.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},A.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},v.prototype=A.prototype;var _=b.prototype=new v;_.constructor=b,g(_,A.prototype),_.isPureReactComponent=!0;var m=Array.isArray,k=Object.prototype.hasOwnProperty,I={current:null},w={key:!0,ref:!0,__self:!0,__source:!0};function E(e,t,r){var i,o={},a=null,s=null;if(null!=t)for(i in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(a=""+t.key),t)k.call(t,i)&&!w.hasOwnProperty(i)&&(o[i]=t[i]);var u=arguments.length-2;if(1===u)o.children=r;else if(1<u){for(var l=Array(u),c=0;c<u;c++)l[c]=arguments[c+2];o.children=l}if(e&&e.defaultProps)for(i in u=e.defaultProps)void 0===o[i]&&(o[i]=u[i]);return{$$typeof:n,type:e,key:a,ref:s,props:o,_owner:I.current}}function x(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var C=/\/+/g;function S(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function B(e,t,i,o,a){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var u=!1;if(null===e)u=!0;else switch(s){case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case n:case r:u=!0}}if(u)return a=a(u=e),e=""===o?"."+S(u,0):o,m(a)?(i="",null!=e&&(i=e.replace(C,"$&/")+"/"),B(a,t,i,"",(function(e){return e}))):null!=a&&(x(a)&&(a=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(a,i+(!a.key||u&&u.key===a.key?"":(""+a.key).replace(C,"$&/")+"/")+e)),t.push(a)),1;if(u=0,o=""===o?".":o+":",m(e))for(var l=0;l<e.length;l++){var c=o+S(s=e[l],l);u+=B(s,t,i,c,a)}else if(c=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=d&&e[d]||e["@@iterator"])?e:null}(e),"function"===typeof c)for(e=c.call(e),l=0;!(s=e.next()).done;)u+=B(s=s.value,t,i,c=o+S(s,l++),a);else if("object"===s)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return u}function Q(e,t,n){if(null==e)return e;var r=[],i=0;return B(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function L(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var D={current:null},M={transition:null},P={ReactCurrentDispatcher:D,ReactCurrentBatchConfig:M,ReactCurrentOwner:I};t.Children={map:Q,forEach:function(e,t,n){Q(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return Q(e,(function(){t++})),t},toArray:function(e){return Q(e,(function(e){return e}))||[]},only:function(e){if(!x(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=A,t.Fragment=i,t.Profiler=a,t.PureComponent=b,t.StrictMode=o,t.Suspense=c,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=P,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=g({},e.props),o=e.key,a=e.ref,s=e._owner;if(null!=t){if(void 0!==t.ref&&(a=t.ref,s=I.current),void 0!==t.key&&(o=""+t.key),e.type&&e.type.defaultProps)var u=e.type.defaultProps;for(l in t)k.call(t,l)&&!w.hasOwnProperty(l)&&(i[l]=void 0===t[l]&&void 0!==u?u[l]:t[l])}var l=arguments.length-2;if(1===l)i.children=r;else if(1<l){u=Array(l);for(var c=0;c<l;c++)u[c]=arguments[c+2];i.children=u}return{$$typeof:n,type:e.type,key:o,ref:a,props:i,_owner:s}},t.createContext=function(e){return(e={$$typeof:u,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:s,_context:e},e.Consumer=e},t.createElement=E,t.createFactory=function(e){var t=E.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:l,render:e}},t.isValidElement=x,t.lazy=function(e){return{$$typeof:f,_payload:{_status:-1,_result:e},_init:L}},t.memo=function(e,t){return{$$typeof:h,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=M.transition;M.transition={};try{e()}finally{M.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return D.current.useCallback(e,t)},t.useContext=function(e){return D.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return D.current.useDeferredValue(e)},t.useEffect=function(e,t){return D.current.useEffect(e,t)},t.useId=function(){return D.current.useId()},t.useImperativeHandle=function(e,t,n){return D.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return D.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return D.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return D.current.useMemo(e,t)},t.useReducer=function(e,t,n){return D.current.useReducer(e,t,n)},t.useRef=function(e){return D.current.useRef(e)},t.useState=function(e){return D.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return D.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return D.current.useTransition()},t.version="18.2.0"},2791:function(e,t,n){"use strict";e.exports=n(9117)},184:function(e,t,n){"use strict";e.exports=n(6374)},8451:function(e){e.exports=function(e){if(function(e){return!!e&&(e instanceof TypeError||e instanceof SyntaxError||e instanceof ReferenceError||e instanceof EvalError||e instanceof RangeError||e instanceof URIError||"ERR_ASSERTION"===e.code)}(e))throw function(e){queueMicrotask((function(){throw e}))}(e),e}},6813:function(e,t){"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<o(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,a=i>>>1;r<a;){var s=2*(r+1)-1,u=e[s],l=s+1,c=e[l];if(0>o(u,n))l<i&&0>o(c,u)?(e[r]=c,e[l]=n,r=l):(e[r]=u,e[s]=n,r=s);else{if(!(l<i&&0>o(c,n)))break e;e[r]=c,e[l]=n,r=l}}}return t}function o(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var a=performance;t.unstable_now=function(){return a.now()}}else{var s=Date,u=s.now();t.unstable_now=function(){return s.now()-u}}var l=[],c=[],h=1,f=null,d=3,p=!1,g=!1,y=!1,A="function"===typeof setTimeout?setTimeout:null,v="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function _(e){for(var t=r(c);null!==t;){if(null===t.callback)i(c);else{if(!(t.startTime<=e))break;i(c),t.sortIndex=t.expirationTime,n(l,t)}t=r(c)}}function m(e){if(y=!1,_(e),!g)if(null!==r(l))g=!0,M(k);else{var t=r(c);null!==t&&P(m,t.startTime-e)}}function k(e,n){g=!1,y&&(y=!1,v(x),x=-1),p=!0;var o=d;try{for(_(n),f=r(l);null!==f&&(!(f.expirationTime>n)||e&&!B());){var a=f.callback;if("function"===typeof a){f.callback=null,d=f.priorityLevel;var s=a(f.expirationTime<=n);n=t.unstable_now(),"function"===typeof s?f.callback=s:f===r(l)&&i(l),_(n)}else i(l);f=r(l)}if(null!==f)var u=!0;else{var h=r(c);null!==h&&P(m,h.startTime-n),u=!1}return u}finally{f=null,d=o,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var I,w=!1,E=null,x=-1,C=5,S=-1;function B(){return!(t.unstable_now()-S<C)}function Q(){if(null!==E){var e=t.unstable_now();S=e;var n=!0;try{n=E(!0,e)}finally{n?I():(w=!1,E=null)}}else w=!1}if("function"===typeof b)I=function(){b(Q)};else if("undefined"!==typeof MessageChannel){var L=new MessageChannel,D=L.port2;L.port1.onmessage=Q,I=function(){D.postMessage(null)}}else I=function(){A(Q,0)};function M(e){E=e,w||(w=!0,I())}function P(e,n){x=A((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){g||p||(g=!0,M(k))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return r(l)},t.unstable_next=function(e){switch(d){case 1:case 2:case 3:var t=3;break;default:t=d}var n=d;d=t;try{return e()}finally{d=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=d;d=e;try{return t()}finally{d=n}},t.unstable_scheduleCallback=function(e,i,o){var a=t.unstable_now();switch("object"===typeof o&&null!==o?o="number"===typeof(o=o.delay)&&0<o?a+o:a:o=a,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:h++,callback:i,priorityLevel:e,startTime:o,expirationTime:s=o+s,sortIndex:-1},o>a?(e.sortIndex=o,n(c,e),null===r(l)&&e===r(c)&&(y?(v(x),x=-1):y=!0,P(m,o-a))):(e.sortIndex=s,n(l,e),g||p||(g=!0,M(k))),e},t.unstable_shouldYield=B,t.unstable_wrapCallback=function(e){var t=d;return function(){var n=d;d=t;try{return e.apply(this,arguments)}finally{d=n}}}},5296:function(e,t,n){"use strict";e.exports=n(6813)},6948:function(e,t,n){var r=n(1596),i=n(3311),o=r;e.exports=function(){return new o},e.exports.ready=function(e){i.ready((function(){e()}))},e.exports.WASM_SUPPORTED=i.WASM_SUPPORTED,e.exports.WASM_LOADED=!1;e.exports.SHA256_BYTES=32;i.ready((function(t){t||(e.exports.WASM_LOADED=!0,e.exports=o=i)}))},1596:function(e,t,n){var r=n(7424).default,i=n(3577),o=n(4587);e.exports=c;var a=e.exports.SHA256_BYTES=32,s=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function u(e,t,n,r){return((e>>>17|e<<15)^(e>>>19|e<<13)^e>>>10)+t+(((n>>>7|n<<25)^(n>>>18|n<<14)^n>>>3)+r)<<0}function l(e,t){for(var n,i,o,a=r(e,8),l=a[0],c=a[1],h=a[2],d=a[3],p=a[4],g=a[5],y=a[6],A=a[7],v=new Uint32Array(64),b=0;b<16;b++)v[b]=f(t[b]);for(var _=16;_<64;_++)v[_]=u(v[_-2],v[_-7],v[_-15],v[_-16]);for(var m=0;m<64;m+=4)k(m);function k(e){n=l&c^l&h^c&h,i=(l>>>2|l<<30)^(l>>>13|l<<19)^(l>>>22|l<<10),o=A+(p&g^~p&y)+((p>>>6|p<<26)^(p>>>11|p<<21)^(p>>>25|p<<7))+v[e]+s[e],A=d+o,n=(d=o+(i+n))&l^d&c^l&c,i=(d>>>2|d<<30)^(d>>>13|d<<19)^(d>>>22|d<<10),o=y+(A&p^~A&g)+((A>>>6|A<<26)^(A>>>11|A<<21)^(A>>>25|A<<7))+v[e+1]+s[e+1],y=h+o,n=(h=o+(i+n))&d^h&l^d&l,i=(h>>>2|h<<30)^(h>>>13|h<<19)^(h>>>22|h<<10),o=g+(y&A^~y&p)+((y>>>6|y<<26)^(y>>>11|y<<21)^(y>>>25|y<<7))+v[e+2]+s[e+2],g=c+o,n=(c=o+(i+n))&h^c&d^h&d,i=(c>>>2|c<<30)^(c>>>13|c<<19)^(c>>>22|c<<10),o=p+(g&y^~g&A)+((g>>>6|g<<26)^(g>>>11|g<<21)^(g>>>25|g<<7))+v[e+3]+s[e+3],p=l+o,l=o+(i+n)}e[0]=e[0]+l,e[1]=e[1]+c,e[2]=e[2]+h,e[3]=e[3]+d,e[4]=e[4]+p,e[5]=e[5]+g,e[6]=e[6]+y,e[7]=e[7]+A}function c(){return this instanceof c?(this.buffer=new ArrayBuffer(64),this.bytesRead=0,this.pos=0,this.digestLength=a,this.finalised=!1,this.load=new Uint8Array(this.buffer),this.words=new Uint32Array(this.buffer),this.state=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),this):new c}function h(e){if(!(this instanceof h))return new h(e);this.pad=o.alloc(64),this.inner=c(),this.outer=c();var t=o.alloc(32);e.byteLength>64&&(c().update(e).digest(t),e=t),this.pad.fill(54);for(var n=0;n<e.byteLength;n++)this.pad[n]^=e[n];this.inner.update(this.pad),this.pad.fill(92);for(var r=0;r<e.byteLength;r++)this.pad[r]^=e[r];this.outer.update(this.pad),this.pad.fill(0),t.fill(0)}function f(e){return(16711935&e)>>>8|(16711935&e)<<24|((4278255360&e)<<8|(4278255360&e)>>>24)}c.prototype.update=function(e,t){i(!1===this.finalised,"Hash instance finalised");var n=function(e,t){var n=o.from(e,t);return[n,n.byteLength]}(e,t),a=r(n,2),s=a[0],u=a[1],c=0;for(this.bytesRead+=u;u>0&&(this.load.set(s.subarray(c,c+64-this.pos),this.pos),c+=64-this.pos,!((u-=64-this.pos)<0));)this.pos=0,l(this.state,this.words);return this.pos=63&this.bytesRead,this.load.fill(0,this.pos),this},c.prototype.digest=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;i(!1===this.finalised,"Hash instance finalised"),this.finalised=!0,this.load.fill(0,this.pos),this.load[this.pos]=128,this.pos>55&&(l(this.state,this.words),this.words.fill(0),this.pos=0);var n=new DataView(this.buffer);n.setUint32(56,this.bytesRead/Math.pow(2,29)),n.setUint32(60,this.bytesRead<<3),l(this.state,this.words);var r=new Uint8Array(this.state.map(f).buffer);if(!e)return new Uint8Array(r);if("string"===typeof e)return o.toString(r,e);i(e instanceof Uint8Array,"input must be Uint8Array or Buffer"),i(e.byteLength>=this.digestLength+t,"input not large enough for digest");for(var a=0;a<this.digestLength;a++)e[a+t]=r[a];return e},h.prototype.update=function(e,t){return this.inner.update(e,t),this},h.prototype.digest=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.outer.update(this.inner.digest()),this.outer.digest(e,t)},c.HMAC=h},3311:function(e,t,n){var r=n(7424).default,i=n(861).default,o=n(3577),a=n(4587),s="undefined"!==typeof WebAssembly&&n(6257)({imports:{debug:{log:function(){for(var e,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];(e=console).log.apply(e,i(n.map((function(e){return(e>>>0).toString(16).padStart(8,"0")}))))},log_tee:function(e){return console.log((e>>>0).toString(16).padStart(8,"0")),e}}}}),u=0,l=[];e.exports=f;var c=e.exports.SHA256_BYTES=32,h=108;function f(){if(!(this instanceof f))return new f;if(!s)throw new Error("WASM not loaded. Wait for Sha256.ready(cb)");l.length||(l.push(u),u+=h),this.finalized=!1,this.digestLength=c,this.pointer=l.pop(),this.pos=0,this._memory=new Uint8Array(s.memory.buffer),this._memory.fill(0,this.pointer,this.pointer+h),this.pointer+this.digestLength>this._memory.length&&this._realloc(this.pointer+h)}function d(e){if(!(this instanceof d))return new d(e);this.pad=a.alloc(64),this.inner=f(),this.outer=f();var t=a.alloc(32);e.byteLength>64&&(f().update(e).digest(t),e=t),this.pad.fill(54);for(var n=0;n<e.byteLength;n++)this.pad[n]^=e[n];this.inner.update(this.pad),this.pad.fill(92);for(var r=0;r<e.byteLength;r++)this.pad[r]^=e[r];this.outer.update(this.pad),this.pad.fill(0),t.fill(0)}function p(){}f.prototype._realloc=function(e){s.memory.grow(Math.max(0,Math.ceil(Math.abs(e-this._memory.length)/65536))),this._memory=new Uint8Array(s.memory.buffer)},f.prototype.update=function(e,t){o(!1===this.finalized,"Hash instance finalized"),u%4!==0&&(u+=4-u%4),o(u%4===0,"input shoud be aligned for int32");var n,i=function(e,t){var n=a.from(e,t);return[n,n.byteLength]}(e,t),l=r(i,2),c=l[0],h=l[1];return o(c instanceof Uint8Array,"input must be Uint8Array or Buffer"),u+h>this._memory.length&&this._realloc(u+e.length),this._memory.fill(0,u,u+(h+(n=64)-1&-n)-64),this._memory.set(c.subarray(0,64-this.pos),this.pointer+40+this.pos),this._memory.set(c.subarray(64-this.pos),u),this.pos=this.pos+h&63,s.sha256(this.pointer,u,h,0),this},f.prototype.digest=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;o(!1===this.finalized,"Hash instance finalized"),this.finalized=!0,l.push(this.pointer);var n=this.pointer+40+this.pos;this._memory.fill(0,n,this.pointer+40+64),s.sha256(this.pointer,u,0,1);var r=this._memory.subarray(this.pointer,this.pointer+this.digestLength);if(!e)return r;if("string"===typeof e)return a.toString(r,e);o(e instanceof Uint8Array,"output must be Uint8Array or Buffer"),o(e.byteLength>=this.digestLength+t,"output must have at least 'SHA256_BYTES' bytes remaining");for(var i=0;i<this.digestLength;i++)e[i+t]=r[i];return e},f.WASM=s,f.WASM_SUPPORTED="undefined"!==typeof WebAssembly,f.ready=function(e){return e||(e=p),s?(e(),Promise.resolve()):e(new Error("WebAssembly not supported"))},f.prototype.ready=f.ready,d.prototype.update=function(e,t){return this.inner.update(e,t),this},d.prototype.digest=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.outer.update(this.inner.digest()),this.outer.digest(e,t)},f.HMAC=d},6257:function(e){var t,n,r=function(){for(var e=new Uint8Array(128),t=0;t<64;t++)e[t<26?t+65:t<52?t+71:t<62?t-4:4*t-205]=t;return function(t){for(var n=t.length,r=new Uint8Array(3*(n-("="==t[n-1])-("="==t[n-2]))/4|0),i=0,o=0;i<n;){var a=e[t.charCodeAt(i++)],s=e[t.charCodeAt(i++)],u=e[t.charCodeAt(i++)],l=e[t.charCodeAt(i++)];r[o++]=a<<2|s>>4,r[o++]=s<<4|u>>2,r[o++]=u<<6|l}return r}}(),i=(t={"wasm-binary:./sha256.wat":function(e,t){t.exports=r("AGFzbQEAAAABNAVgAX8Bf2AIf39/f39/f38AYAR/f39/AX9gEX9/f39/f39/f39/f39/f39/AGAEf39/fwADBgUAAQIDBAUDAQABBikIfwFBAAt/AUEAC38BQQALfwFBAAt/AUEAC38BQQALfwFBAAt/AUEACwcTAgZtZW1vcnkCAAZzaGEyNTYABAreFwUZACAAQf+B/AdxQQh4IABBgP6DeHFBCHdyC7wDAQZ/IwQjBXEjBEF/cyMGcXMhCiMAIwFxIwAjAnFzIwEjAnFzIQsjAEECeCMAQQ14cyMAQRZ4cyEMIwRBBngjBEELeHMjBEEZeHMhDSMHIApqIA1qIABqIARqIQggDCALaiEJIwMgCGokByAIIAlqJAMjByMEcSMHQX9zIwVxcyEKIwMjAHEjAyMBcXMjACMBcXMhCyMDQQJ4IwNBDXhzIwNBFnhzIQwjB0EGeCMHQQt4cyMHQRl4cyENIwYgCmogDWogAWogBWohCCAMIAtqIQkjAiAIaiQGIAggCWokAiMGIwdxIwZBf3MjBHFzIQojAiMDcSMCIwBxcyMDIwBxcyELIwJBAngjAkENeHMjAkEWeHMhDCMGQQZ4IwZBC3hzIwZBGXhzIQ0jBSAKaiANaiACaiAGaiEIIAwgC2ohCSMBIAhqJAUgCCAJaiQBIwUjBnEjBUF/cyMHcXMhCiMBIwJxIwEjA3FzIwIjA3FzIQsjAUECeCMBQQ14cyMBQRZ4cyEMIwVBBngjBUELeHMjBUEZeHMhDSMEIApqIA1qIANqIAdqIQggDCALaiEJIwAgCGokBCAIIAlqJAALKwAgAEEReCAAQRN4cyAAQQp2cyABaiACQQd4IAJBEnhzIAJBA3ZzIANqagvLCwEwfyAAKAJoRQRAIABB58yn0AY2AgAgAEGF3Z7bezYCBCAAQfLmu+MDNgIIIABBuuq/qno2AgwgAEH/pLmIBTYCECAAQYzRldh5NgIUIABBq7OP/AE2AhggAEGZmoPfBTYCHCAAQQE2AmgLIAAoAgAkACAAKAIEJAEgACgCCCQCIAAoAgwkAyAAKAIQJAQgACgCFCQFIAAoAhgkBiAAKAIcJAcgARAAIQEgAhAAIQIgAxAAIQMgBBAAIQQgBRAAIQUgBhAAIQYgBxAAIQcgCBAAIQggCRAAIQkgChAAIQogCxAAIQsgDBAAIQwgDRAAIQ0gDhAAIQ4gDxAAIQ8gEBAAIRAgASACIAMgBEGY36iUBEGRid2JB0HP94Oue0Glt9fNfhABIAUgBiAHIAhB24TbygNB8aPEzwVBpIX+kXlB1b3x2HoQASAJIAogCyAMQZjVnsB9QYG2jZQBQb6LxqECQcP7sagFEAEgDSAOIA8gEEH0uvmVB0H+4/qGeEGnjfDeeUH04u+MfBABIA8gCiACIAEQAiEBIBAgCyADIAIQAiECIAEgDCAEIAMQAiEDIAIgDSAFIAQQAiEEIAMgDiAGIAUQAiEFIAQgDyAHIAYQAiEGIAUgECAIIAcQAiEHIAYgASAJIAgQAiEIIAcgAiAKIAkQAiEJIAggAyALIAoQAiEKIAkgBCAMIAsQAiELIAogBSANIAwQAiEMIAsgBiAOIA0QAiENIAwgByAPIA4QAiEOIA0gCCAQIA8QAiEPIA4gCSABIBAQAiEQIAEgAiADIARBwdPtpH5Bho/5/X5BxruG/gBBzMOyoAIQASAFIAYgByAIQe/YpO8CQaqJ0tMEQdzTwuUFQdqR5rcHEAEgCSAKIAsgDEHSovnBeUHtjMfBekHIz4yAe0HH/+X6exABIA0gDiAPIBBB85eAt3xBx6KerX1B0capNkHn0qShARABIA8gCiACIAEQAiEBIBAgCyADIAIQAiECIAEgDCAEIAMQAiEDIAIgDSAFIAQQAiEEIAMgDiAGIAUQAiEFIAQgDyAHIAYQAiEGIAUgECAIIAcQAiEHIAYgASAJIAgQAiEIIAcgAiAKIAkQAiEJIAggAyALIAoQAiEKIAkgBCAMIAsQAiELIAogBSANIAwQAiEMIAsgBiAOIA0QAiENIAwgByAPIA4QAiEOIA0gCCAQIA8QAiEPIA4gCSABIBAQAiEQIAEgAiADIARBhZXcvQJBuMLs8AJB/Nux6QRBk5rgmQUQASAFIAYgByAIQdTmqagGQbuVqLMHQa6Si454QYXZyJN5EAEgCSAKIAsgDEGh0f+VekHLzOnAekHwlq6SfEGjo7G7fBABIA0gDiAPIBBBmdDLjH1BpIzktH1Bheu4oH9B8MCqgwEQASAPIAogAiABEAIhASAQIAsgAyACEAIhAiABIAwgBCADEAIhAyACIA0gBSAEEAIhBCADIA4gBiAFEAIhBSAEIA8gByAGEAIhBiAFIBAgCCAHEAIhByAGIAEgCSAIEAIhCCAHIAIgCiAJEAIhCSAIIAMgCyAKEAIhCiAJIAQgDCALEAIhCyAKIAUgDSAMEAIhDCALIAYgDiANEAIhDSAMIAcgDyAOEAIhDiANIAggECAPEAIhDyAOIAkgASAQEAIhECABIAIgAyAEQZaCk80BQYjY3fEBQczuoboCQbX5wqUDEAEgBSAGIAcgCEGzmfDIA0HK1OL2BEHPlPPcBUHz37nBBhABIAkgCiALIAxB7oW+pAdB78aVxQdBlPChpnhBiISc5ngQASANIA4gDyAQQfr/+4V5QevZwaJ6QffH5vd7QfLxxbN8EAEgACAAKAIAIwBqNgIAIAAgACgCBCMBajYCBCAAIAAoAggjAmo2AgggACAAKAIMIwNqNgIMIAAgACgCECMEajYCECAAIAAoAhQjBWo2AhQgACAAKAIYIwZqNgIYIAAgACgCHCMHajYCHAuKCAIBfhJ/IAApAyAhBCAEp0E/cSACaiEGIAQgAq18IQQgACAENwMgAkAgACgCKCEHIAAoAiwhCCAAKAIwIQkgACgCNCEKIAAoAjghCyAAKAI8IQwgACgCQCENIAAoAkQhDiAAKAJIIQ8gACgCTCEQIAAoAlAhESAAKAJUIRIgACgCWCETIAAoAlwhFCAAKAJgIRUgACgCZCEWIAZBwABrIgZBAEgNACAAIAcgCCAJIAogCyAMIA0gDiAPIBAgESASIBMgFCAVIBYQAwNAIAEoAgAhByABKAIEIQggASgCCCEJIAEoAgwhCiABKAIQIQsgASgCFCEMIAEoAhghDSABKAIcIQ4gASgCICEPIAEoAiQhECABKAIoIREgASgCLCESIAEoAjAhEyABKAI0IRQgASgCOCEVIAEoAjwhFiABQcAAaiEBIAZBwABrIgZBAEgEQCAAIAc2AiggACAINgIsIAAgCTYCMCAAIAo2AjQgACALNgI4IAAgDDYCPCAAIA02AkAgACAONgJEIAAgDzYCSCAAIBA2AkwgACARNgJQIAAgEjYCVCAAIBM2AlggACAUNgJcIAAgFTYCYCAAIBY2AmQMAgsgACAHIAggCSAKIAsgDCANIA4gDyAQIBEgEiATIBQgFSAWEAMMAAsLIANBAUYEQCAEp0E/cSEGQYABIAZBA3FBA3R0IQUCQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAgBkECdg4PAwQFBgcICQoLDA0ODxABAgsLIAUgFXIhFUEAIQULIAUgFnIhFkEAIQUgACAHIAggCSAKIAsgDCANIA4gDyAQIBEgEiATIBQgFSAWEAMgACAENwMgQQAhB0EAIQhBACEJQQAhCkEAIQtBACEMQQAhDUEAIQ5BACEPQQAhEEEAIRFBACESQQAhE0EAIRRBACEVQQAhFgsgBSAHciEHQQAhBQsgBSAIciEIQQAhBQsgBSAJciEJQQAhBQsgBSAKciEKQQAhBQsgBSALciELQQAhBQsgBSAMciEMQQAhBQsgBSANciENQQAhBQsgBSAOciEOQQAhBQsgBSAPciEPQQAhBQsgBSAQciEQQQAhBQsgBSARciERQQAhBQsgBSASciESQQAhBQsgBSATciETQQAhBQsgBSAUciEUQQAhBQsgBEIdiKcQACEVIARCA4anEAAhFiAAIAcgCCAJIAogCyAMIA0gDiAPIBAgESASIBMgFCAVIBYQAyAAIAAoAgAQADYCACAAIAAoAgQQADYCBCAAIAAoAggQADYCCCAAIAAoAgwQADYCDCAAIAAoAhAQADYCECAAIAAoAhQQADYCFCAAIAAoAhgQADYCGCAAIAAoAhwQADYCHAsL")}},function(){return n||(0,t[Object.keys(t)[0]])((n={exports:{}}).exports,n),n.exports})(),o=new WebAssembly.Module(i);e.exports=function(e){return new WebAssembly.Instance(o,e).exports}},7215:function(e,t,n){var r=n(5161),i=n(4049),o=r;e.exports=function(){return new o},e.exports.ready=function(e){i.ready((function(){e()}))},e.exports.WASM_SUPPORTED=i.SUPPORTED,e.exports.WASM_LOADED=!1;e.exports.SHA512_BYTES=64;i.ready((function(t){t||(e.exports.WASM_LOADED=!0,e.exports=o=i)}))},5161:function(e,t,n){var r=n(7424).default,i=n(3577),o=n(4587);e.exports=u;var a=128,s=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function u(){return this instanceof u?(this.hh=new Int32Array(8),this.hl=new Int32Array(8),this.buffer=new Uint8Array(128),this.finalised=!1,this.bytesRead=0,this.pos=0,this.hh[0]=1779033703,this.hh[1]=3144134277,this.hh[2]=1013904242,this.hh[3]=2773480762,this.hh[4]=1359893119,this.hh[5]=2600822924,this.hh[6]=528734635,this.hh[7]=1541459225,this.hl[0]=4089235720,this.hl[1]=2227873595,this.hl[2]=4271175723,this.hl[3]=1595750129,this.hl[4]=2917565137,this.hl[5]=725511199,this.hl[6]=4215389547,this.hl[7]=327033209,this):new u}function l(e,t,n,r){e[t]=n>>24&255,e[t+1]=n>>16&255,e[t+2]=n>>8&255,e[t+3]=255&n,e[t+4]=r>>24&255,e[t+5]=r>>16&255,e[t+6]=r>>8&255,e[t+7]=255&r}function c(e,t,n,r){for(var i,o,a,u,l,c,h,f,d,p,g,y,A,v,b,_,m,k,I,w,E,x,C,S,B,Q,L=new Int32Array(16),D=new Int32Array(16),M=e[0],P=e[1],U=e[2],N=e[3],T=e[4],O=e[5],K=e[6],R=e[7],F=t[0],Y=t[1],z=t[2],H=t[3],j=t[4],q=t[5],G=t[6],V=t[7],W=0;r>=128;){for(I=0;I<16;I++)w=8*I+W,L[I]=n[w+0]<<24|n[w+1]<<16|n[w+2]<<8|n[w+3],D[I]=n[w+4]<<24|n[w+5]<<16|n[w+6]<<8|n[w+7];for(I=0;I<80;I++)if(i=M,o=P,a=U,u=N,l=T,c=O,h=K,R,d=F,p=Y,g=z,y=H,A=j,v=q,b=G,V,C=65535&(x=V),S=x>>>16,B=65535&(E=R),Q=E>>>16,C+=65535&(x=(j>>>14|T<<18)^(j>>>18|T<<14)^(T>>>9|j<<23)),S+=x>>>16,B+=65535&(E=(T>>>14|j<<18)^(T>>>18|j<<14)^(j>>>9|T<<23)),Q+=E>>>16,C+=65535&(x=j&q^~j&G),S+=x>>>16,B+=65535&(E=T&O^~T&K),Q+=E>>>16,C+=65535&(x=s[2*I+1]),S+=x>>>16,B+=65535&(E=s[2*I]),Q+=E>>>16,E=L[I%16],S+=(x=D[I%16])>>>16,B+=65535&E,Q+=E>>>16,B+=(S+=(C+=65535&x)>>>16)>>>16,C=65535&(x=k=65535&C|S<<16),S=x>>>16,B=65535&(E=m=65535&B|(Q+=B>>>16)<<16),Q=E>>>16,C+=65535&(x=(F>>>28|M<<4)^(M>>>2|F<<30)^(M>>>7|F<<25)),S+=x>>>16,B+=65535&(E=(M>>>28|F<<4)^(F>>>2|M<<30)^(F>>>7|M<<25)),Q+=E>>>16,S+=(x=F&Y^F&z^Y&z)>>>16,B+=65535&(E=M&P^M&U^P&U),Q+=E>>>16,f=65535&(B+=(S+=(C+=65535&x)>>>16)>>>16)|(Q+=B>>>16)<<16,_=65535&C|S<<16,C=65535&(x=y),S=x>>>16,B=65535&(E=u),Q=E>>>16,S+=(x=k)>>>16,B+=65535&(E=m),Q+=E>>>16,P=i,U=o,N=a,T=u=65535&(B+=(S+=(C+=65535&x)>>>16)>>>16)|(Q+=B>>>16)<<16,O=l,K=c,R=h,M=f,Y=d,z=p,H=g,j=y=65535&C|S<<16,q=A,G=v,V=b,F=_,I%16===15)for(w=0;w<16;w++)E=L[w],C=65535&(x=D[w]),S=x>>>16,B=65535&E,Q=E>>>16,E=L[(w+9)%16],C+=65535&(x=D[(w+9)%16]),S+=x>>>16,B+=65535&E,Q+=E>>>16,m=L[(w+1)%16],C+=65535&(x=((k=D[(w+1)%16])>>>1|m<<31)^(k>>>8|m<<24)^(k>>>7|m<<25)),S+=x>>>16,B+=65535&(E=(m>>>1|k<<31)^(m>>>8|k<<24)^m>>>7),Q+=E>>>16,m=L[(w+14)%16],S+=(x=((k=D[(w+14)%16])>>>19|m<<13)^(m>>>29|k<<3)^(k>>>6|m<<26))>>>16,B+=65535&(E=(m>>>19|k<<13)^(k>>>29|m<<3)^m>>>6),Q+=E>>>16,Q+=(B+=(S+=(C+=65535&x)>>>16)>>>16)>>>16,L[w]=65535&B|Q<<16,D[w]=65535&C|S<<16;C=65535&(x=F),S=x>>>16,B=65535&(E=M),Q=E>>>16,E=e[0],S+=(x=t[0])>>>16,B+=65535&E,Q+=E>>>16,Q+=(B+=(S+=(C+=65535&x)>>>16)>>>16)>>>16,e[0]=M=65535&B|Q<<16,t[0]=F=65535&C|S<<16,C=65535&(x=Y),S=x>>>16,B=65535&(E=P),Q=E>>>16,E=e[1],S+=(x=t[1])>>>16,B+=65535&E,Q+=E>>>16,Q+=(B+=(S+=(C+=65535&x)>>>16)>>>16)>>>16,e[1]=P=65535&B|Q<<16,t[1]=Y=65535&C|S<<16,C=65535&(x=z),S=x>>>16,B=65535&(E=U),Q=E>>>16,E=e[2],S+=(x=t[2])>>>16,B+=65535&E,Q+=E>>>16,Q+=(B+=(S+=(C+=65535&x)>>>16)>>>16)>>>16,e[2]=U=65535&B|Q<<16,t[2]=z=65535&C|S<<16,C=65535&(x=H),S=x>>>16,B=65535&(E=N),Q=E>>>16,E=e[3],S+=(x=t[3])>>>16,B+=65535&E,Q+=E>>>16,Q+=(B+=(S+=(C+=65535&x)>>>16)>>>16)>>>16,e[3]=N=65535&B|Q<<16,t[3]=H=65535&C|S<<16,C=65535&(x=j),S=x>>>16,B=65535&(E=T),Q=E>>>16,E=e[4],S+=(x=t[4])>>>16,B+=65535&E,Q+=E>>>16,Q+=(B+=(S+=(C+=65535&x)>>>16)>>>16)>>>16,e[4]=T=65535&B|Q<<16,t[4]=j=65535&C|S<<16,C=65535&(x=q),S=x>>>16,B=65535&(E=O),Q=E>>>16,E=e[5],S+=(x=t[5])>>>16,B+=65535&E,Q+=E>>>16,Q+=(B+=(S+=(C+=65535&x)>>>16)>>>16)>>>16,e[5]=O=65535&B|Q<<16,t[5]=q=65535&C|S<<16,C=65535&(x=G),S=x>>>16,B=65535&(E=K),Q=E>>>16,E=e[6],S+=(x=t[6])>>>16,B+=65535&E,Q+=E>>>16,Q+=(B+=(S+=(C+=65535&x)>>>16)>>>16)>>>16,e[6]=K=65535&B|Q<<16,t[6]=G=65535&C|S<<16,C=65535&(x=V),S=x>>>16,B=65535&(E=R),Q=E>>>16,E=e[7],S+=(x=t[7])>>>16,B+=65535&E,Q+=E>>>16,Q+=(B+=(S+=(C+=65535&x)>>>16)>>>16)>>>16,e[7]=R=65535&B|Q<<16,t[7]=V=65535&C|S<<16,W+=128,r-=128}}function h(e){if(!(this instanceof h))return new h(e);this.pad=o.alloc(128),this.inner=u(),this.outer=u();var t=o.alloc(64);e.byteLength>128&&(u().update(e).digest(t),e=t),this.pad.fill(54);for(var n=0;n<e.byteLength;n++)this.pad[n]^=e[n];this.inner.update(this.pad),this.pad.fill(92);for(var r=0;r<e.byteLength;r++)this.pad[r]^=e[r];this.outer.update(this.pad),this.pad.fill(0),t.fill(0)}u.prototype.update=function(e,t){i(!1===this.finalised,"Hash instance finalised");var n=function(e,t){var n=o.from(e,t);return[n,n.byteLength]}(e,t),s=r(n,2),u=s[0],l=s[1];this.bytesRead+=l;var h=l+this.pos&-128;this.buffer.set(u.subarray(0,a-this.pos),this.pos);var f=this.pos;return(l-=a-this.pos)>=0&&(c(this.hh,this.hl,this.buffer,128),this.pos=0),l>127&&(c(this.hh,this.hl,u.subarray(a-f,h-f),h-a),l%=128),this.buffer.set(u.subarray(u.byteLength-l)),this.pos=127&this.bytesRead,this.buffer.fill(0,this.pos),this},u.prototype.digest=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(i(!1===this.finalised,"Hash instance finalised"),this.finalised=!0,this.buffer.fill(0,this.pos),this.buffer[this.pos]=128,this.pos>111&&(c(this.hh,this.hl,this.buffer,128),this.buffer.fill(0),this.pos=0),l(this.buffer,120,this.bytesRead/536870912|0,this.bytesRead<<3),c(this.hh,this.hl,this.buffer,128),e instanceof Uint8Array&&e.byteLength>63){for(var n=0;n<8;n++)l(e,8*n+t,this.hh[n],this.hl[n]);return e}for(var r=new Uint8Array(64),a=0;a<8;a++)l(r,8*a,this.hh[a],this.hl[a]);return"string"===typeof e?o.toString(r,e):r},h.prototype.update=function(e,t){return this.inner.update(e,t),this},h.prototype.digest=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.outer.update(this.inner.digest()),this.outer.digest(e,t)},u.HMAC=h},4049:function(e,t,n){var r=n(7424).default,i=n(861).default,o=n(3577),a=n(4587),s="undefined"!==typeof WebAssembly&&n(5380)({imports:{debug:{log:function(){for(var e,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];(e=console).log.apply(e,i(n.map((function(e){return(e>>>0).toString(16).padStart(8,"0")}))))},log_tee:function(e){return console.log((e>>>0).toString(16).padStart(8,"0")),e}}}}),u=0,l=[];e.exports=d;var c=e.exports.SHA512_BYTES=64,h=216,f=128;function d(){if(!(this instanceof d))return new d;if(!s)throw new Error("WASM not loaded. Wait for Sha512.ready(cb)");l.length||(l.push(u),u+=h),this.finalized=!1,this.digestLength=c,this.pointer=l.pop(),this.pos=0,this.wasm=s,this._memory=new Uint8Array(s.memory.buffer),this._memory.fill(0,this.pointer,this.pointer+h),this.pointer+this.digestLength>this._memory.length&&this._realloc(this.pointer+h)}function p(e){if(!(this instanceof p))return new p(e);this.pad=a.alloc(128),this.inner=d(),this.outer=d();var t=a.alloc(64);e.byteLength>128&&(d().update(e).digest(t),e=t),this.pad.fill(54);for(var n=0;n<e.byteLength;n++)this.pad[n]^=e[n];this.inner.update(this.pad),this.pad.fill(92);for(var r=0;r<e.byteLength;r++)this.pad[r]^=e[r];this.outer.update(this.pad),this.pad.fill(0),t.fill(0)}function g(){}d.prototype._realloc=function(e){s.memory.grow(Math.max(0,Math.ceil(Math.abs(e-this._memory.length)/65536))),this._memory=new Uint8Array(s.memory.buffer)},d.prototype.update=function(e,t){o(!1===this.finalized,"Hash instance finalized"),u%8!==0&&(u+=8-u%8),o(u%8===0,"input should be aligned for int64");var n,i=function(e,t){var n=a.from(e,t);return[n,n.byteLength]}(e,t),l=r(i,2),c=l[0],h=l[1];return o(c instanceof Uint8Array,"input must be Uint8Array or Buffer"),u+e.length>this._memory.length&&this._realloc(u+e.length),this._memory.fill(0,u,u+(h+(n=f)-1&-n)-f),this._memory.set(c.subarray(0,f-this.pos),this.pointer+80+this.pos),this._memory.set(c.subarray(f-this.pos),u),this.pos=this.pos+h&127,s.sha512(this.pointer,u,h,0),this},d.prototype.digest=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;o(!1===this.finalized,"Hash instance finalized"),this.finalized=!0,l.push(this.pointer);var n=this.pointer+80+this.pos;this._memory.fill(0,n,this.pointer+80+f),s.sha512(this.pointer,u,0,1);var r=this._memory.subarray(this.pointer,this.pointer+this.digestLength);if(!e)return r;if("string"===typeof e)return a.toString(r,e);o(e instanceof Uint8Array,"output must be Uint8Array or Buffer"),o(e.byteLength>=this.digestLength+t,"output must have at least 'SHA512_BYTES' bytes remaining");for(var i=0;i<this.digestLength;i++)e[i+t]=r[i];return e},d.WASM=s,d.WASM_SUPPORTED="undefined"!==typeof WebAssembly,d.ready=function(e){return e||(e=g),s?(e(),Promise.resolve()):e(new Error("WebAssembly not supported"))},d.prototype.ready=d.ready,p.prototype.update=function(e,t){return this.inner.update(e,t),this},p.prototype.digest=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.outer.update(this.inner.digest()),this.outer.digest(e,t)},d.HMAC=p},5380:function(e){var t,n,r=function(){for(var e=new Uint8Array(128),t=0;t<64;t++)e[t<26?t+65:t<52?t+71:t<62?t-4:4*t-205]=t;return function(t){for(var n=t.length,r=new Uint8Array(3*(n-("="==t[n-1])-("="==t[n-2]))/4|0),i=0,o=0;i<n;){var a=e[t.charCodeAt(i++)],s=e[t.charCodeAt(i++)],u=e[t.charCodeAt(i++)],l=e[t.charCodeAt(i++)];r[o++]=a<<2|s>>4,r[o++]=s<<4|u>>2,r[o++]=u<<6|l}return r}}(),i=(t={"wasm-binary:./sha512.wat":function(e,t){t.exports=r("AGFzbQEAAAABNAVgAX4BfmAIfn5+fn5+fn4AYAR+fn5+AX5gEX9+fn5+fn5+fn5+fn5+fn5+AGAEf39/fwADBgUAAQIDBAUDAQABBikIfgFCAAt+AUIAC34BQgALfgFCAAt+AUIAC34BQgALfgFCAAt+AUIACwcTAgZtZW1vcnkCAAZzaGE1MTIABAqZHgVCACAAQoCA/P+PgECDQhCJIABC//+DgPD/P4NCEIqEIQAgAEL/gfyH8J/A/wCDQgiJIABCgP6D+I/gv4B/g0IIioQLvAMBBn4jBCMFgyMEQn+FIwaDhSEKIwAjAYMjACMCg4UjASMCg4UhCyMAQhyKIwBCIoqFIwBCJ4qFIQwjBEIOiiMEQhKKhSMEQimKhSENIwcgCnwgDXwgAHwgBHwhCCAMIAt8IQkjAyAIfCQHIAggCXwkAyMHIwSDIwdCf4UjBYOFIQojAyMAgyMDIwGDhSMAIwGDhSELIwNCHIojA0IiioUjA0InioUhDCMHQg6KIwdCEoqFIwdCKYqFIQ0jBiAKfCANfCABfCAFfCEIIAwgC3whCSMCIAh8JAYgCCAJfCQCIwYjB4MjBkJ/hSMEg4UhCiMCIwODIwIjAIOFIwMjAIOFIQsjAkIciiMCQiKKhSMCQieKhSEMIwZCDoojBkISioUjBkIpioUhDSMFIAp8IA18IAJ8IAZ8IQggDCALfCEJIwEgCHwkBSAIIAl8JAEjBSMGgyMFQn+FIweDhSEKIwEjAoMjASMDg4UjAyMCg4UhCyMBQhyKIwFCIoqFIwFCJ4qFIQwjBUIOiiMFQhKKhSMFQimKhSENIwQgCnwgDXwgA3wgB3whCCAMIAt8IQkjACAIfCQEIAggCXwkAAsrACAAQhOKIABCPYqFIABCBoiFIAF8IAJCAYogAkIIioUgAkIHiIUgA3x8C6QRACAAKQPQAUIAUQRAIABCiJLznf/M+YTqADcDACAAQrvOqqbY0Ouzu383AwggAEKr8NP0r+68tzw3AxAgAELx7fT4paf9p6V/NwMYIABC0YWa7/rPlIfRADcDICAAQp/Y+dnCkdqCm383AyggAELr+obav7X2wR83AzAgAEL5wvibkaOz8NsANwM4IABCATcD0AELIAApAwAkACAAKQMIJAEgACkDECQCIAApAxgkAyAAKQMgJAQgACkDKCQFIAApAzAkBiAAKQM4JAcgARAAIQEgAhAAIQIgAxAAIQMgBBAAIQQgBRAAIQUgBhAAIQYgBxAAIQcgCBAAIQggCRAAIQkgChAAIQogCxAAIQsgDBAAIQwgDRAAIQ0gDhAAIQ4gDxAAIQ8gEBAAIRAgASACIAMgBEKi3KK5jfOLxcIAQs3LvZ+SktGb8QBCr/a04v75vuC1f0K8t6eM2PT22mkQASAFIAYgByAIQrjqopq/y7CrOUKZoJewm77E+NkAQpuf5fjK1OCfkn9CmIK2093al46rfxABIAkgCiALIAxCwoSMmIrT6oNYQr7fwauU4NbBEkKM5ZL35LfhmCRC4un+r724n4bVABABIA0gDiAPIBBC75Luk8+ul9/yAEKxrdrY47+s74B/QrWknK7y1IHum39ClM2k+8yu/M1BEAEgDyAKIAIgARACIQEgECALIAMgAhACIQIgASAMIAQgAxACIQMgAiANIAUgBBACIQQgAyAOIAYgBRACIQUgBCAPIAcgBhACIQYgBSAQIAggBxACIQcgBiABIAkgCBACIQggByACIAogCRACIQkgCCADIAsgChACIQogCSAEIAwgCxACIQsgCiAFIA0gDBACIQwgCyAGIA4gDRACIQ0gDCAHIA8gDhACIQ4gDSAIIBAgDxACIQ8gDiAJIAEgEBACIRAgASACIAMgBELSlcX3mbjazWRC48u8wuPwkd9vQrWrs9zouOfgD0LluLK9x7mohiQQASAFIAYgByAIQvWErMn1jcv0LUKDyZv1ppWhusoAQtT3h+rLu6rY3ABCtafFmKib4vz2ABABIAkgCiALIAxCq7+b866qlJ+Yf0KQ5NDt0s3xmKh/Qr/C7MeJ+cmBsH9C5J289/v436y/fxABIA0gDiAPIBBCwp+i7bP+gvBGQqXOqpj5qOTTVULvhI6AnuqY5QZC8Ny50PCsypQUEAEgDyAKIAIgARACIQEgECALIAMgAhACIQIgASAMIAQgAxACIQMgAiANIAUgBBACIQQgAyAOIAYgBRACIQUgBCAPIAcgBhACIQYgBSAQIAggBxACIQcgBiABIAkgCBACIQggByACIAogCRACIQkgCCADIAsgChACIQogCSAEIAwgCxACIQsgCiAFIA0gDBACIQwgCyAGIA4gDRACIQ0gDCAHIA8gDhACIQ4gDSAIIBAgDxACIQ8gDiAJIAEgEBACIRAgASACIAMgBEL838i21NDC2ydCppKb4YWnyI0uQu3VkNbFv5uWzQBC3+fW7Lmig5zTABABIAUgBiAHIAhC3se93cjqnIXlAEKo5d7js9eCtfYAQubdtr/kpbLhgX9Cu+qIpNGQi7mSfxABIAkgCiALIAxC5IbE55SU+t+if0KB4Ijiu8mZjah/QpGv4oeN7uKlQkKw/NKysLSUtkcQASANIA4gDyAQQpikvbedg7rJUUKQ0parxcTBzFZCqsDEu9WwjYd0Qrij75WDjqi1EBABIA8gCiACIAEQAiEBIBAgCyADIAIQAiECIAEgDCAEIAMQAiEDIAIgDSAFIAQQAiEEIAMgDiAGIAUQAiEFIAQgDyAHIAYQAiEGIAUgECAIIAcQAiEHIAYgASAJIAgQAiEIIAcgAiAKIAkQAiEJIAggAyALIAoQAiEKIAkgBCAMIAsQAiELIAogBSANIAwQAiEMIAsgBiAOIA0QAiENIAwgByAPIA4QAiEOIA0gCCAQIA8QAiEPIA4gCSABIBAQAiEQIAEgAiADIARCyKHLxuuisNIZQtPWhoqFgdubHkKZ17v8zemdpCdCqJHtjN6Wr9g0EAEgBSAGIAcgCELjtKWuvJaDjjlCy5WGmq7JquzOAELzxo+798myztsAQqPxyrW9/puX6AAQASAJIAogCyAMQvzlvu/l3eDH9ABC4N7cmPTt2NL4AELy1sKPyoKe5IR/QuzzkNOBwcDjjH8QASANIA4gDyAQQqi8jJui/7/fkH9C6fuK9L2dm6ikf0KV8pmW+/7o/L5/QqumyZuunt64RhABIA8gCiACIAEQAiEBIBAgCyADIAIQAiECIAEgDCAEIAMQAiEDIAIgDSAFIAQQAiEEIAMgDiAGIAUQAiEFIAQgDyAHIAYQAiEGIAUgECAIIAcQAiEHIAYgASAJIAgQAiEIIAcgAiAKIAkQAiEJIAggAyALIAoQAiEKIAkgBCAMIAsQAiELIAogBSANIAwQAiEMIAsgBiAOIA0QAiENIAwgByAPIA4QAiEOIA0gCCAQIA8QAiEPIA4gCSABIBAQAiEQIAEgAiADIARCnMOZ0e7Zz5NKQoeEg47ymK7DUUKe1oPv7Lqf7WpC+KK78/7v0751EAEgBSAGIAcgCEK6392Qp/WZ+AZCprGiltq437EKQq6b5PfLgOafEUKbjvGY0ebCuBsQASAJIAogCyAMQoT7kZjS/t3tKEKTyZyGtO+q5TJCvP2mrqHBr888QsyawODJ+NmOwwAQASANIA4gDyAQQraF+dnsl/XizABCqvyV48+zyr/ZAELs9dvWs/Xb5d8AQpewndLEsYai7AAQASAAIAApAwAjAHw3AwAgACAAKQMIIwF8NwMIIAAgACkDECMCfDcDECAAIAApAxgjA3w3AxggACAAKQMgIwR8NwMgIAAgACkDKCMFfDcDKCAAIAApAzAjBnw3AzAgACAAKQM4Iwd8NwM4C8MIARV+IAApA0AhBCAAKQNIIQUgBEL/AIMgAq18IQggBCEGIAQgAq18IQQgACAENwNAIAQgBlQEQCAFQgF8IQUgACAFNwNICwJAIAApA1AhCSAAKQNYIQogACkDYCELIAApA2ghDCAAKQNwIQ0gACkDeCEOIAApA4ABIQ8gACkDiAEhECAAKQOQASERIAApA5gBIRIgACkDoAEhEyAAKQOoASEUIAApA7ABIRUgACkDuAEhFiAAKQPAASEXIAApA8gBIRggCEKAAX0iCEIAUw0AIAAgCSAKIAsgDCANIA4gDyAQIBEgEiATIBQgFSAWIBcgGBADA0AgASkDACEJIAEpAwghCiABKQMQIQsgASkDGCEMIAEpAyAhDSABKQMoIQ4gASkDMCEPIAEpAzghECABKQNAIREgASkDSCESIAEpA1AhEyABKQNYIRQgASkDYCEVIAEpA2ghFiABKQNwIRcgASkDeCEYIAFBgAFqIQEgCEKAAX0iCEIAUwRAIAAgCTcDUCAAIAo3A1ggACALNwNgIAAgDDcDaCAAIA03A3AgACAONwN4IAAgDzcDgAEgACAQNwOIASAAIBE3A5ABIAAgEjcDmAEgACATNwOgASAAIBQ3A6gBIAAgFTcDsAEgACAWNwO4ASAAIBc3A8ABIAAgGDcDyAEMAgsgACAJIAogCyAMIA0gDiAPIBAgESASIBMgFCAVIBYgFyAYEAMMAAsLIANBAUYEQCAEQv8AgyEIQoABIAhCB4NCA4aGIQcCQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAgCKdBA3YODwMEBQYHCAkKCwwNDg8QAQILCyAHIBeEIRdCACEHCyAHIBiEIRhCACEHIAAgCSAKIAsgDCANIA4gDyAQIBEgEiATIBQgFSAWIBcgGBADIAAgBDcDQEIAIQlCACEKQgAhC0IAIQxCACENQgAhDkIAIQ9CACEQQgAhEUIAIRJCACETQgAhFEIAIRVCACEWQgAhF0IAIRgLIAcgCYQhCUIAIQcLIAcgCoQhCkIAIQcLIAcgC4QhC0IAIQcLIAcgDIQhDEIAIQcLIAcgDYQhDUIAIQcLIAcgDoQhDkIAIQcLIAcgD4QhD0IAIQcLIAcgEIQhEEIAIQcLIAcgEYQhEUIAIQcLIAcgEoQhEkIAIQcLIAcgE4QhE0IAIQcLIAcgFIQhFEIAIQcLIAcgFYQhFUIAIQcLIAcgFoQhFkIAIQcLIARCPYggBUIDiHwQACEXIARCCH4QACEYIAAgCSAKIAsgDCANIA4gDyAQIBEgEiATIBQgFSAWIBcgGBADIAAgACkDABAANwMAIAAgACkDCBAANwMIIAAgACkDEBAANwMQIAAgACkDGBAANwMYIAAgACkDIBAANwMgIAAgACkDKBAANwMoIAAgACkDMBAANwMwIAAgACkDOBAANwM4Cws=")}},function(){return n||(0,t[Object.keys(t)[0]])((n={exports:{}}).exports,n),n.exports})(),o=new WebAssembly.Module(i);e.exports=function(e){return new WebAssembly.Instance(o,e).exports}},2018:function(e,t,n){var r=n(6690).default,i=n(9728).default,o=n(7984);e.exports=function(e){return new a(e)};var a=function(e){"use strict";function t(e){r(this,t),this.priorities=[],this.equals=e&&e.equals||null}return i(t,[{key:"length",get:function(){return this.priorities.reduce(c,0)}},{key:e,value:function(){return new s(this)}},{key:"head",value:function(){for(var e=this.priorities.length-1;e>=0;e--){var t=this.priorities[e];if(t.length)return u(t,0)}return null}},{key:"tail",value:function(){for(var e=0;e<this.priorities.length;e++){var t=this.priorities[e];if(t.length)return u(t,0)}return null}},{key:"prev",value:function(e){return e?l(this.priorities,e,1):this.tail()}},{key:"next",value:function(e){return e?l(this.priorities,e,-1):this.head()}},{key:"shift",value:function(){return this.remove(this.head())}},{key:"pop",value:function(){return this.remove(this.tail())}},{key:"add",value:function(e){for(var t=e.priority||0;t>=this.priorities.length;)this.priorities.push([]);return o.add(this.priorities[t],e),e}},{key:"remove",value:function(e){return e&&(void 0!==e._index||(e=this.find(e)))?o.remove(this.priorities[e.priority||0],e):null}},{key:"has",value:function(e){if(void 0===e._index)return this.find(e);var t=e.priority||0;return!(t>=this.priorities.length)&&o.has(this.priorities[t],e)}},{key:"find",value:function(e){if(void 0!==e._index)return e;var t=e.priority||0,n=this.priorities;if(t>=n.length)return null;for(var r=n[t],i=0;i<r.length;i++)if(this.equals(r[i],e))return r[i];return null}}]),t}(Symbol.iterator),s=function(){"use strict";function e(t){r(this,e),this.prev=null,this.queue=t}return i(e,[{key:"next",value:function(){var e=this.queue.next(this.prev);return this.prev=e,{done:!e,value:e}}}]),e}();function u(e,t){var n=t+Math.floor(Math.random()*(e.length-t));return o.swap(e,e[n],e[t]),e[t]}function l(e,t,n){for(var r=t.priority||0,i=(t._index||0)+1;;){if(r<0||r>=e.length)return null;var o=e[r];if(!(i>=o.length))return u(o,i);r+=n,i=0}}function c(e,t){return e+t.length}},8982:function(e,t,n){var r=n(4587),i=n(2087);function o(e,t){return t===e.BYTES_PER_ELEMENT?e:new(1===t?Uint8Array:2===t?Uint16Array:Uint32Array)(e.buffer,e.byteOffset,e.byteLength/t)}function a(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t;return function(i){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r.allocUnsafe(i.byteLength);if(i.byteLength%16!==0)throw new Error("Buffer length must be a multiple of 16");if(i.byteLength!==a.byteLength)throw new Error("Length of result buffer is insufficient");var s=i.BYTES_PER_ELEMENT;return 1===s?e(i,o(a,s)):2===s?t(i,o(a,s)):n(i,o(a,s)),a}}function s(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t;return function(i,a){var s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:r.allocUnsafe(i.byteLength);if(i.byteLength%16!==0)throw new Error("Buffer length must be a multiple of 16");if(i.byteLength!==a.byteLength||i.byteLength!==s.byteLength)throw new Error("Buffers must be the same length");var u=i.BYTES_PER_ELEMENT;return 1===u?e(i,a,o(s,u)):2===u?t(i,a,o(s,u)):n(i,a,o(s,u)),s}}t.allo=function(e){if(e.byteLength%16!==0)throw new Error("Buffer length must be a multiple of 16");for(var t=Math.pow(2,8*e.BYTES_PER_ELEMENT)-1,n=0,r=e.length;n<r;n++)if(e[n]!==t)return!1;return!0},t.allz=function(e){if(e.byteLength%16!==0)throw new Error("Buffer length must be a multiple of 16");for(var t=0,n=e.length;t<n;t++)if(0!==e[t])return!1;return!0},t.and=s((function(e,t,n){for(var r=0,i=n.length;r<i;r++)n[r]=e[r]&t[r]})),t.clear=s((function(e,t,n){for(var r=0,i=n.length;r<i;r++)n[r]=e[r]&~t[r]})),t.clo=a((function(e,t){for(var n=0,r=e.length;n<r;n++)t[n]=24-i.clo(e[n])}),(function(e,t){for(var n=0,r=e.length;n<r;n++)t[n]=16-i.clo(e[n])}),(function(e,t){for(var n=0,r=e.length;n<r;n++)t[n]=i.clo(e[n])})),t.clz=a((function(e,t){for(var n=0,r=e.length;n<r;n++)t[n]=24-i.clz(e[n])}),(function(e,t){for(var n=0,r=e.length;n<r;n++)t[n]=16-i.clz(e[n])}),(function(e,t){for(var n=0,r=e.length;n<r;n++)t[n]=i.clz(e[n])})),t.cnt=a((function(e,t){for(var n=0,r=e.length;n<r;n++)t[n]=255&i.cnt(e[n])}),(function(e,t){for(var n=0,r=e.length;n<r;n++)t[n]=65535&i.cnt(e[n])}),(function(e,t){for(var n=0,r=e.length;n<r;n++)t[n]=i.cnt(e[n])})),t.cto=a((function(e,t){for(var n=0,r=e.length;n<r;n++)t[n]=Math.min(i.cto(e[n]),8)}),(function(e,t){for(var n=0,r=e.length;n<r;n++)t[n]=Math.min(i.cto(e[n]),16)}),(function(e,t){for(var n=0,r=e.length;n<r;n++)t[n]=i.cto(e[n])})),t.ctz=a((function(e,t){for(var n=0,r=e.length;n<r;n++)t[n]=Math.min(i.ctz(e[n]),8)}),(function(e,t){for(var n=0,r=e.length;n<r;n++)t[n]=Math.min(i.ctz(e[n]),16)}),(function(e,t){for(var n=0,r=e.length;n<r;n++)t[n]=i.ctz(e[n])})),t.not=a((function(e,t){for(var n=0,r=e.length;n<r;n++)t[n]=~e[n]})),t.or=s((function(e,t,n){for(var r=0,i=n.length;r<i;r++)n[r]=e[r]|t[r]})),t.sum=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t;return function(r){if(r.byteLength%16!==0)throw new Error("Buffer length must be a multiple of 16");var i=r.BYTES_PER_ELEMENT;return 1===i?e(r):2===i?t(r):n(r)}}((function(e){for(var t=0n,n=0,r=e.length;n<r;n++)t+=BigInt(e[n]);return t})),t.xor=s((function(e,t,n){for(var r=0,i=n.length;r<i;r++)n[r]=e[r]^t[r]}))},2087:function(e,t){var n=t.clz=function(e){return Math.clz32(e)};t.clo=function(e){return n(~e)};var r=t.ctz=function(e){return 32-(0===e?0:n(e&-e)+1)};t.cto=function(e){return r(~e)},t.cnt=function(e){return e=16843009*(e=(e=(858993459&(e-=e>>>1&1431655765))+(e>>>2&858993459))+(e>>>4)&252645135)>>>24}},7738:function(e){function t(e,t){var n=e.l+t.l,r={h:e.h+t.h+(n/2>>>31)>>>0,l:n>>>0};e.h=r.h,e.l=r.l}function n(e,t){e.h^=t.h,e.h>>>=0,e.l^=t.l,e.l>>>=0}function r(e,t){var n={h:e.h<<t|e.l>>>32-t,l:e.l<<t|e.h>>>32-t};e.h=n.h,e.l=n.l}function i(e){var t=e.l;e.l=e.h,e.h=t}function o(e,o,a,s){t(e,o),t(a,s),r(o,13),r(s,16),n(o,e),n(s,a),i(e),t(a,o),t(e,s),r(o,17),r(s,21),n(o,a),n(s,e),i(a)}function a(e,t){return e[t+3]<<24|e[t+2]<<16|e[t+1]<<8|e[t]}e.exports=function(e,t,r){var i,s={h:a(r,4),l:a(r,0)},u={h:a(r,12),l:a(r,8)},l={h:s.h,l:s.l},c=s,h={h:u.h,l:u.l},f=u,d=0,p=t.length,g=p-7,y=new Uint8Array(new ArrayBuffer(8));n(l,{h:1936682341,l:1886610805}),n(h,{h:1685025377,l:1852075885}),n(c,{h:1819895653,l:1852142177}),n(f,{h:1952801890,l:2037671283});for(;d<g;)n(f,i={h:a(t,d+4),l:a(t,d)}),o(l,h,c,f),o(l,h,c,f),n(l,i),d+=8;y[7]=p;var A=0;for(;d<p;)y[A++]=t[d++];for(;A<7;)y[A++]=0;i={h:y[7]<<24|y[6]<<16|y[5]<<8|y[4],l:y[3]<<24|y[2]<<16|y[1]<<8|y[0]},n(f,i),o(l,h,c,f),o(l,h,c,f),n(l,i),n(c,{h:0,l:255}),o(l,h,c,f),o(l,h,c,f),o(l,h,c,f),o(l,h,c,f);var v=l;n(v,h),n(v,c),n(v,f),e[0]=255&v.l,e[1]=v.l>>8&255,e[2]=v.l>>16&255,e[3]=v.l>>24&255,e[4]=255&v.h,e[5]=v.h>>8&255,e[6]=v.h>>16&255,e[7]=v.h>>24&255}},3292:function(e,t,n){var r=n(3577),i="undefined"!==typeof WebAssembly&&n(74)(),o=n(7738);e.exports=l;var a=l.BYTES=8,s=l.KEYBYTES=16;l.WASM_SUPPORTED=!!i,l.WASM_LOADED=!!i;var u=new Uint8Array(i?i.memory.buffer:0);function l(e,t,n,l){var c;return n||(n=new Uint8Array(8)),!0!==l&&(r(n.length>=a,"output must be at least "+a),r(t.length>=s,"key must be at least "+s)),i?(e.length+24>u.length&&(c=e.length+24,i.memory.grow(Math.max(0,Math.ceil(Math.abs(c-u.length)/65536))),u=new Uint8Array(i.memory.buffer)),u.set(t,8),u.set(e,24),i.siphash(24,e.length),n.set(u.subarray(0,8))):o(n,e,t),n}},74:function(e){var t,n,r=function(){for(var e=new Uint8Array(128),t=0;t<64;t++)e[t<26?t+65:t<52?t+71:t<62?t-4:4*t-205]=t;return function(t){for(var n=t.length,r=new Uint8Array(3*(n-("="==t[n-1])-("="==t[n-2]))/4|0),i=0,o=0;i<n;){var a=e[t.charCodeAt(i++)],s=e[t.charCodeAt(i++)],u=e[t.charCodeAt(i++)],l=e[t.charCodeAt(i++)];r[o++]=a<<2|s>>4,r[o++]=s<<4|u>>2,r[o++]=u<<6|l}return r}}(),i=(t={"wasm-binary:./siphash24.wat":function(e,t){t.exports=r("AGFzbQEAAAABBgFgAn9/AAMCAQAFBQEBCpBOBxQCBm1lbW9yeQIAB3NpcGhhc2gAAArdCAHaCAIIfgJ/QvXKzYPXrNu38wAhAkLt3pHzlszct+QAIQNC4eSV89bs2bzsACEEQvPK0cunjNmy9AAhBUEIKQMAIQdBECkDACEIIAGtQjiGIQYgAUEHcSELIAAgAWogC2shCiAFIAiFIQUgBCAHhSEEIAMgCIUhAyACIAeFIQICQANAIAAgCkYNASAAKQMAIQkgBSAJhSEFIAIgA3whAiADQg2JIQMgAyAChSEDIAJCIIkhAiAEIAV8IQQgBUIQiSEFIAUgBIUhBSACIAV8IQIgBUIViSEFIAUgAoUhBSAEIAN8IQQgA0IRiSEDIAMgBIUhAyAEQiCJIQQgAiADfCECIANCDYkhAyADIAKFIQMgAkIgiSECIAQgBXwhBCAFQhCJIQUgBSAEhSEFIAIgBXwhAiAFQhWJIQUgBSAChSEFIAQgA3whBCADQhGJIQMgAyAEhSEDIARCIIkhBCACIAmFIQIgAEEIaiEADAALCwJAAkACQAJAAkACQAJAAkAgCw4HBwYFBAMCAQALIAYgADEABkIwhoQhBgsgBiAAMQAFQiiGhCEGCyAGIAAxAARCIIaEIQYLIAYgADEAA0IYhoQhBgsgBiAAMQACQhCGhCEGCyAGIAAxAAFCCIaEIQYLIAYgADEAAIQhBgsgBSAGhSEFIAIgA3whAiADQg2JIQMgAyAChSEDIAJCIIkhAiAEIAV8IQQgBUIQiSEFIAUgBIUhBSACIAV8IQIgBUIViSEFIAUgAoUhBSAEIAN8IQQgA0IRiSEDIAMgBIUhAyAEQiCJIQQgAiADfCECIANCDYkhAyADIAKFIQMgAkIgiSECIAQgBXwhBCAFQhCJIQUgBSAEhSEFIAIgBXwhAiAFQhWJIQUgBSAChSEFIAQgA3whBCADQhGJIQMgAyAEhSEDIARCIIkhBCACIAaFIQIgBEL/AYUhBCACIAN8IQIgA0INiSEDIAMgAoUhAyACQiCJIQIgBCAFfCEEIAVCEIkhBSAFIASFIQUgAiAFfCECIAVCFYkhBSAFIAKFIQUgBCADfCEEIANCEYkhAyADIASFIQMgBEIgiSEEIAIgA3whAiADQg2JIQMgAyAChSEDIAJCIIkhAiAEIAV8IQQgBUIQiSEFIAUgBIUhBSACIAV8IQIgBUIViSEFIAUgAoUhBSAEIAN8IQQgA0IRiSEDIAMgBIUhAyAEQiCJIQQgAiADfCECIANCDYkhAyADIAKFIQMgAkIgiSECIAQgBXwhBCAFQhCJIQUgBSAEhSEFIAIgBXwhAiAFQhWJIQUgBSAChSEFIAQgA3whBCADQhGJIQMgAyAEhSEDIARCIIkhBCACIAN8IQIgA0INiSEDIAMgAoUhAyACQiCJIQIgBCAFfCEEIAVCEIkhBSAFIASFIQUgAiAFfCECIAVCFYkhBSAFIAKFIQUgBCADfCEEIANCEYkhAyADIASFIQMgBEIgiSEEQQAgAiADIAQgBYWFhTcDAAs=")}},function(){return n||(0,t[Object.keys(t)[0]])((n={exports:{}}).exports,n),n.exports})(),o=new WebAssembly.Module(i);e.exports=function(e){return new WebAssembly.Instance(o,e).exports}},6024:function(e,t,n){var r=n(8286),i=r.crypto_stream_chacha20_ietf,o=r.crypto_stream_chacha20_ietf_xor_ic,a=n(8856).crypto_verify_16,s=n(7837),u=n(3577),l=32,c=12,h=16,f=Number.MAX_SAFE_INTEGER,d=new Uint8Array(16);function p(e,t,n,r,a,g,A){if(null===r)return p(e,t,n,new Uint8Array(0),a,g,A);u(e.byteLength===n.byteLength,"ciphertext should be same length than message"),u(g.byteLength===c,"npub should be 'crypto_aead_chacha20poly1305_ietf_NPUBBYTES' long"),u(A.byteLength===l,"k should be 'crypto_aead_chacha20poly1305_ietf_KEYBYTES' long"),u(n.byteLength<=f,"message is too large"),u(t.byteLength<=h,"mac should be 'crypto_aead_chacha20poly1305_ietf_ABYTES' long");var v=new Uint8Array(64),b=new Uint8Array(8);i(v,g,A);var _=new s(v);return v.fill(0),_.update(r,0,r.byteLength),_.update(d,0,16-r.byteLength&15),o(e,n,g,1,A),_.update(e,0,n.byteLength),_.update(d,0,16-n.byteLength&15),y(b,0,r.byteLength),_.update(b,0,b.byteLength),y(b,0,n.byteLength),_.update(b,0,b.byteLength),_.finish(t,0),b.fill(0),h}function g(e,t,n,r,p,A,v){if(null===p)return g(e,t,n,r,new Uint8Array(0),A,v);u(n.byteLength===e.byteLength,"message should be same length than ciphertext"),u(A.byteLength===c,"npub should be 'crypto_aead_chacha20poly1305_ietf_NPUBBYTES' long"),u(v.byteLength===l,"k should be 'crypto_aead_chacha20poly1305_ietf_KEYBYTES' long"),u(e.byteLength<=f,"message is too large"),u(r.byteLength<=h,"mac should be 'crypto_aead_chacha20poly1305_ietf_ABYTES' long");var b=new Uint8Array(64),_=new Uint8Array(8),m=new Uint8Array(h);i(b,A,v);var k=new s(b);b.fill(0),k.update(p,0,p.byteLength),k.update(d,0,16-p.byteLength&15);var I=n.byteLength;k.update(n,0,I),k.update(d,0,16-I&15),y(_,0,p.byteLength),k.update(_,0,_.byteLength),y(_,0,I),k.update(_,0,_.byteLength),k.finish(m,0),u(16===m.byteLength);var w=a(m,0,r,0);if(m.fill(0),_.fill(0),!w)throw e.fill(0),new Error("could not verify data");o(e,n,A,1,v)}function y(e,t,n){e.fill(0,0,8);var r=new DataView(e.buffer,e.byteOffset,e.byteLength);r.setUint32(t,4294967295&n,!0),r.setUint32(t+4,n/Math.pow(2,32)&4294967295,!0)}e.exports={crypto_aead_chacha20poly1305_ietf_encrypt:function e(t,n,r,i,o,a){if(null===r)return e(t,n,new Uint8Array(0),i,o,a);u(t.byteLength===n.byteLength+h,"ciphertext should be 'crypto_aead_chacha20poly1305_ietf_ABYTES' longer than message"),u(o.byteLength===c,"npub should be 'crypto_aead_chacha20poly1305_ietf_NPUBBYTES' long"),u(a.byteLength===l,"k should be 'crypto_aead_chacha20poly1305_ietf_KEYBYTES' long"),u(n.byteLength<=f,"message is too large");var s=p(t.subarray(0,n.byteLength),t.subarray(n.byteLength),n,r,i,o,a);return n.byteLength+s},crypto_aead_chacha20poly1305_ietf_encrypt_detached:p,crypto_aead_chacha20poly1305_ietf_decrypt:function e(t,n,r,i,o,a){if(null===i)return e(t,n,r,new Uint8Array(0),o,a);if(u(t.byteLength===r.byteLength-h,"message should be 'crypto_aead_chacha20poly1305_ietf_ABYTES' shorter than ciphertext"),u(o.byteLength===c,"npub should be 'crypto_aead_chacha20poly1305_ietf_NPUBBYTES' long"),u(a.byteLength===l,"k should be 'crypto_aead_chacha20poly1305_ietf_KEYBYTES' long"),u(t.byteLength<=f,"message is too large"),r.byteLength<h)throw new Error("could not verify data");return g(t,n,r.subarray(0,r.byteLength-h),r.subarray(r.byteLength-h),i,o,a),r.byteLength-h},crypto_aead_chacha20poly1305_ietf_decrypt_detached:g,crypto_aead_chacha20poly1305_ietf_ABYTES:h,crypto_aead_chacha20poly1305_ietf_KEYBYTES:l,crypto_aead_chacha20poly1305_ietf_NPUBBYTES:c,crypto_aead_chacha20poly1305_ietf_NSECBYTES:0,crypto_aead_chacha20poly1305_ietf_MESSAGEBYTES_MAX:f}},8670:function(e,t,n){var r=n(8856).crypto_verify_32,i=n(7215),o=n(3577);e.exports={crypto_auth_BYTES:32,crypto_auth_KEYBYTES:32,crypto_auth:function(e,t,n){o(32===e.byteLength,"out should be 'crypto_auth_BYTES' in length"),o(32===n.byteLength,"key should be 'crypto_auth_KEYBYTES' in length");var r=new Uint8Array(64),a=i.HMAC(n);a.update(t),a.digest(r),e.set(r.subarray(0,32))},crypto_auth_verify:function(e,t,n){o(32===e.byteLength,"h should be 'crypto_auth_BYTES' in length"),o(32===n.byteLength,"key should be 'crypto_auth_KEYBYTES' in length");var a=i.HMAC(n).update(t).digest();return r(e,0,a,0)}}},7122:function(e,t,n){var r=n(876).crypto_hash_sha512,i=n(6621),o=i.crypto_scalarmult,a=i.crypto_scalarmult_base,s=n(4138).randombytes,u=n(9372).crypto_generichash_batch,l=n(1340).crypto_stream_xsalsa20_MESSAGEBYTES_MAX,c=n(4063),h=c.crypto_secretbox_open_easy,f=c.crypto_secretbox_easy,d=c.crypto_secretbox_detached,p=c.crypto_secretbox_open_detached,g=n(3676),y=n(3577),A=32,v=32,b=24,_=48,m=32,k=32,I=16,w=l-16;function E(e,t){return B(e,A),B(t,v),s(t,32),a(e,t)}function x(e,t,n){var r=new Uint8Array(16),i=new Uint8Array(32);return y(0===o(i,n,t)),g.core_hsalsa20(e,r,i,g.SIGMA),!0}function C(e,t,n,r,i,o){B(t,I),B(r,b),B(i,A),B(o,v);var a=new Uint8Array(k);y(x(a,i,o));var s=function(e,t,n,r,i){return d(e,t,n,r,i)}(e,t,n,r,a);return Q(a),s}function S(e,t,n,r,i,o){var a=new Uint8Array(k);y(x(a,i,o));var s=function(e,t,n,r,i){return p(e,t,n,r,i)}(e,t,n,r,a);return Q(a),s}function B(e,t){if(!e||t&&e.length<t)throw new Error("Argument must be a buffer"+(t?" of length "+t:""))}function Q(e){for(var t=0;t<e.length;t++)e[t]=0}e.exports={crypto_box_easy:function(e,t,n,r,i){return y(e.length>=t.length+I,"c should be at least 'm.length + crypto_box_MACBYTES' bytes"),y(t.length<=w,"m should be at most 'crypto_box_MESSAGEBYTES_MAX' bytes"),C(e.subarray(I,t.length+I),e.subarray(0,I),t,n,r,i)},crypto_box_open_easy:function(e,t,n,r,i){return y(t.length>=e.length+I,"c should be at least 'm.length + crypto_box_MACBYTES' bytes"),S(e,t.subarray(I,e.length+I),t.subarray(0,I),n,r,i)},crypto_box_keypair:E,crypto_box_seed_keypair:function(e,t,n){y(e.byteLength===A,"pk should be 'crypto_box_PUBLICKEYBYTES' bytes"),y(t.byteLength===v,"sk should be 'crypto_box_SECRETKEYBYTES' bytes"),y(t.byteLength===m,"sk should be 'crypto_box_SEEDBYTES' bytes");var i=new Uint8Array(64);return r(i,n,32),t.set(i.subarray(0,32)),i.fill(0),a(e,t)},crypto_box_seal:function(e,t,n){B(e,_+t.length),B(n,A);var r=e.subarray(0,A),i=new Uint8Array(v);E(r,i);var a=new Uint8Array(b);u(a,[r,n]);var s=new Uint8Array(A);o(s,i,n);var l=new Uint8Array(k),c=new Uint8Array(16);g.core_hsalsa20(l,c,s,g.SIGMA),f(e.subarray(r.length),t,a,l),Q(i)},crypto_box_seal_open:function(e,t,n,r){B(t,_),B(e,t.length-_),B(n,A),B(r,v);var i=t.subarray(0,A),a=new Uint8Array(b);u(a,[i,n]);var s=new Uint8Array(A);o(s,r,i);var l=new Uint8Array(k),c=new Uint8Array(16);return g.core_hsalsa20(l,c,s,g.SIGMA),h(e,t.subarray(i.length),a,l)},crypto_box_PUBLICKEYBYTES:A,crypto_box_SECRETKEYBYTES:v,crypto_box_NONCEBYTES:b,crypto_box_ZEROBYTES:32,crypto_box_BOXZEROBYTES:16,crypto_box_SEALBYTES:_,crypto_box_SEEDBYTES:m,crypto_box_BEFORENMBYTES:k,crypto_box_MACBYTES:I}},9372:function(e,t,n){var r=n(2917);if(1!==new Uint16Array([1])[0])throw new Error("Big endian architecture is not supported.");e.exports.crypto_generichash_PRIMITIVE="blake2b",e.exports.crypto_generichash_BYTES_MIN=r.BYTES_MIN,e.exports.crypto_generichash_BYTES_MAX=r.BYTES_MAX,e.exports.crypto_generichash_BYTES=r.BYTES,e.exports.crypto_generichash_KEYBYTES_MIN=r.KEYBYTES_MIN,e.exports.crypto_generichash_KEYBYTES_MAX=r.KEYBYTES_MAX,e.exports.crypto_generichash_KEYBYTES=r.KEYBYTES,e.exports.crypto_generichash_WASM_SUPPORTED=r.WASM_SUPPORTED,e.exports.crypto_generichash_WASM_LOADED=!1,e.exports.crypto_generichash=function(e,t,n){r(e.length,n).update(t).final(e)},e.exports.crypto_generichash_ready=r.ready,e.exports.crypto_generichash_batch=function(e,t,n){for(var i=r(e.length,n),o=0;o<t.length;o++)i.update(t[o]);i.final(e)},e.exports.crypto_generichash_instance=function(t,n){return null==n&&(n=e.exports.crypto_generichash_BYTES),r(n,t)},r.ready((function(t){e.exports.crypto_generichash_WASM_LOADED=r.WASM_LOADED}))},876:function(e,t,n){var r=n(7215),i=n(3577);if(1!==new Uint16Array([1])[0])throw new Error("Big endian architecture is not supported.");var o=64,a=o;function s(e,t,n){return i(e.byteLength===o,"out must be 'crypto_hash_sha512_BYTES' bytes long"),r().update(t.subarray(0,n)).digest(e),0}e.exports={crypto_hash:function(e,t,n){return s(e,t,n)},crypto_hash_sha512:s,crypto_hash_sha512_BYTES:o,crypto_hash_BYTES:a}},3178:function(e,t,n){var r=n(6948),i=n(3577);if(1!==new Uint16Array([1])[0])throw new Error("Big endian architecture is not supported.");var o=32;e.exports={crypto_hash_sha256:function(e,t,n){return i(e.byteLength===o,"out must be 'crypto_hash_sha256_BYTES' bytes long"),r().update(t.subarray(0,n)).digest(e),0},crypto_hash_sha256_BYTES:o}},1478:function(e,t,n){var r=n(3577),i=n(4138).randombytes_buf,o=n(2917);e.exports.crypto_kdf_PRIMITIVE="blake2b",e.exports.crypto_kdf_BYTES_MIN=16,e.exports.crypto_kdf_BYTES_MAX=64,e.exports.crypto_kdf_CONTEXTBYTES=8,e.exports.crypto_kdf_KEYBYTES=32,e.exports.crypto_kdf_derive_from_key=function(t,n,i,a){r(t.length>=e.exports.crypto_kdf_BYTES_MIN,"subkey must be at least crypto_kdf_BYTES_MIN"),r(n>=0&&n<=9007199254740991,"subkey_id must be safe integer"),r(i.length>=e.exports.crypto_kdf_CONTEXTBYTES,"context must be at least crypto_kdf_CONTEXTBYTES");var s=new Uint8Array(o.PERSONALBYTES),u=new Uint8Array(o.SALTBYTES);s.set(i,0,e.exports.crypto_kdf_CONTEXTBYTES),function(e,t){var n=1,r=0;for(e[0]=255&t;++r<8&&(n*=256);)e[r]=t/n&255}(u,n);var l=Math.min(t.length,e.exports.crypto_kdf_BYTES_MAX);o(l,a.subarray(0,e.exports.crypto_kdf_KEYBYTES),u,s,!0).final(t)},e.exports.crypto_kdf_keygen=function(t){r(t.length>=e.exports.crypto_kdf_KEYBYTES,"out.length must be crypto_kdf_KEYBYTES"),i(t.subarray(0,e.exports.crypto_kdf_KEYBYTES))}},8852:function(e,t,n){var r=n(6621).crypto_scalarmult_base,i=n(9372).crypto_generichash,o=n(4138).randombytes_buf,a=n(3577),s=32,u=32,l=32;e.exports={crypto_kx_keypair:function(e,t){return a(e.byteLength===u,"pk must be 'crypto_kx_PUBLICKEYBYTES' bytes"),a(t.byteLength===l,"sk must be 'crypto_kx_SECRETKEYBYTES' bytes"),o(t,l),r(e,t)},crypto_kx_seed_keypair:function(e,t,n){return a(e.byteLength===u,"pk must be 'crypto_kx_PUBLICKEYBYTES' bytes"),a(t.byteLength===l,"sk must be 'crypto_kx_SECRETKEYBYTES' bytes"),a(n.byteLength===s,"seed must be 'crypto_kx_SEEDBYTES' bytes"),i(t,n),r(e,t)},crypto_kx_SEEDBYTES:s,crypto_kx_SECRETKEYBYTES:l,crypto_kx_PUBLICKEYBYTES:u}},7353:function(e,t,n){var r=n(3577),i=n(7837),o=n(8856).crypto_verify_16,a=16,s=32;function u(e,t,n){r(e.byteLength===a,"mac must be 'crypto_onetimeauth_BYTES' bytes"),r(null!=t.byteLength,"msg must be buffer"),r(n.byteLength===s,"key must be 'crypto_onetimeauth_KEYBYTES' bytes");var o=new i(n);o.update(t,0,t.byteLength),o.finish(e,0)}e.exports={crypto_onetimeauth:u,crypto_onetimeauth_verify:function(e,t,n){r(e.byteLength===a,"mac must be 'crypto_onetimeauth_BYTES' bytes"),r(null!=t.byteLength,"msg must be buffer"),r(n.byteLength===s,"key must be 'crypto_onetimeauth_KEYBYTES' bytes");var i=new Uint8Array(16);return u(i,t,n),o(e,0,i,0)},crypto_onetimeauth_BYTES:a,crypto_onetimeauth_KEYBYTES:s,crypto_onetimeauth_PRIMITIVE:"poly1305"}},6621:function(e,t,n){var r=n(335),i=r._9,o=r._121665,a=r.gf,s=r.inv25519,u=r.pack25519,l=r.unpack25519,c=r.sel25519,h=r.A,f=r.M,d=r.Z,p=r.S,g=32,y=32;function A(e,t,n){v(e,g),v(t,y),v(n,g);var r,i,A=new Uint8Array(32),b=new Float64Array(80),_=a(),m=a(),k=a(),I=a(),w=a(),E=a();for(i=0;i<31;i++)A[i]=t[i];for(A[31]=127&t[31]|64,A[0]&=248,l(b,n),i=0;i<16;i++)m[i]=b[i],I[i]=_[i]=k[i]=0;for(_[0]=I[0]=1,i=254;i>=0;--i)r=A[i>>>3]>>>(7&i)&1,c(_,m,r),c(k,I,r),h(w,_,k),d(_,_,k),h(k,m,I),d(m,m,I),p(I,w),p(E,_),f(_,k,_),f(k,m,w),h(w,_,k),d(_,_,k),p(m,_),d(k,I,E),f(_,k,o),h(_,_,I),f(k,k,_),f(_,I,E),f(I,m,b),p(m,w),c(_,m,r),c(k,I,r);for(i=0;i<16;i++)b[i+16]=_[i],b[i+32]=k[i],b[i+48]=m[i],b[i+64]=I[i];var x=b.subarray(32),C=b.subarray(16);return s(x,x),f(C,C,x),u(e,C),0}function v(e,t){if(!e||t&&e.length<t)throw new Error("Argument must be a buffer"+(t?" of length "+t:""))}e.exports={crypto_scalarmult:A,crypto_scalarmult_base:function(e,t){return A(e,t,i)},crypto_scalarmult_BYTES:g,crypto_scalarmult_SCALARBYTES:y}},4063:function(e,t,n){var r=n(3577),i=n(1340),o=i.crypto_stream,a=i.crypto_stream_xor,s=n(7353),u=s.crypto_onetimeauth,l=s.crypto_onetimeauth_verify,c=s.crypto_onetimeauth_BYTES,h=s.crypto_onetimeauth_KEYBYTES,f=32,d=24,p=32,g=16,y=16;function A(e,t,n,i){r(e.byteLength===t.byteLength,"c must be 'm.byteLength' bytes");var o=t.byteLength;r(o>=p,"mlen must be at least 'crypto_secretbox_ZEROBYTES'"),r(n.byteLength===d,"n must be 'crypto_secretbox_NONCEBYTES' bytes"),r(i.byteLength===f,"k must be 'crypto_secretbox_KEYBYTES' bytes"),a(e,t,n,i),u(e.subarray(g,g+c),e.subarray(g+c,e.byteLength),e.subarray(0,h)),e.fill(0,0,g)}function v(e,t,n,i){r(t.byteLength===e.byteLength,"c must be 'm.byteLength' bytes");var s=e.byteLength;r(s>=p,"mlen must be at least 'crypto_secretbox_ZEROBYTES'"),r(n.byteLength===d,"n must be 'crypto_secretbox_NONCEBYTES' bytes"),r(i.byteLength===f,"k must be 'crypto_secretbox_KEYBYTES' bytes");var u=new Uint8Array(h);return o(u,n,i),!1!==l(t.subarray(g,g+c),t.subarray(g+c,t.byteLength),u)&&(a(e,t,n,i),e.fill(0,0,32),!0)}function b(e,t,n,i){r(e.byteLength===t.byteLength+y,"o must be 'msg.byteLength + crypto_secretbox_MACBYTES' bytes"),r(n.byteLength===d,"n must be 'crypto_secretbox_NONCEBYTES' bytes"),r(i.byteLength===f,"k must be 'crypto_secretbox_KEYBYTES' bytes");var o=new Uint8Array(p+t.byteLength),a=new Uint8Array(o.byteLength);o.set(t,p),A(a,o,n,i),e.set(a.subarray(g))}function _(e,t,n,i){r(t.byteLength===e.byteLength+y,"box must be 'msg.byteLength + crypto_secretbox_MACBYTES' bytes"),r(n.byteLength===d,"n must be 'crypto_secretbox_NONCEBYTES' bytes"),r(i.byteLength===f,"k must be 'crypto_secretbox_KEYBYTES' bytes");var o=new Uint8Array(g+t.byteLength),a=new Uint8Array(o.byteLength);return o.set(t,g),!1!==v(a,o,n,i)&&(e.set(a.subarray(p)),!0)}e.exports={crypto_secretbox:A,crypto_secretbox_open:v,crypto_secretbox_detached:function(e,t,n,i,o){r(e.byteLength===n.byteLength,"o must be 'msg.byteLength' bytes"),r(t.byteLength===y,"mac must be 'crypto_secretbox_MACBYTES' bytes"),r(i.byteLength===d,"n must be 'crypto_secretbox_NONCEBYTES' bytes"),r(o.byteLength===f,"k must be 'crypto_secretbox_KEYBYTES' bytes");var a=new Uint8Array(n.byteLength+t.byteLength);return b(a,n,i,o),t.set(a.subarray(0,t.byteLength)),e.set(a.subarray(t.byteLength)),!0},crypto_secretbox_open_detached:function(e,t,n,i,o){r(t.byteLength===e.byteLength,"o must be 'msg.byteLength' bytes"),r(n.byteLength===y,"mac must be 'crypto_secretbox_MACBYTES' bytes"),r(i.byteLength===d,"n must be 'crypto_secretbox_NONCEBYTES' bytes"),r(o.byteLength===f,"k must be 'crypto_secretbox_KEYBYTES' bytes");var a=new Uint8Array(t.byteLength+n.byteLength);return a.set(n),a.set(t,n.byteLength),_(e,a,i,o)},crypto_secretbox_easy:b,crypto_secretbox_open_easy:_,crypto_secretbox_KEYBYTES:f,crypto_secretbox_NONCEBYTES:d,crypto_secretbox_ZEROBYTES:p,crypto_secretbox_BOXZEROBYTES:g,crypto_secretbox_MACBYTES:y}},4249:function(e,t,n){var r=n(3577),i=n(4138).randombytes_buf,o=n(8286),a=o.crypto_stream_chacha20_ietf,s=o.crypto_stream_chacha20_ietf_xor,u=o.crypto_stream_chacha20_ietf_xor_ic,l=o.crypto_stream_chacha20_ietf_KEYBYTES,c=n(6098),h=c.crypto_core_hchacha20,f=c.crypto_core_hchacha20_INPUTBYTES,d=n(7837),p=n(633),g=p.sodium_increment,y=p.sodium_is_zero,A=p.sodium_memcmp,v=4,b=8,_=32,m=24,k=17,I=Number.MAX_SAFE_INTEGER,w=Number.MAX_SAFE_INTEGER,E=new Uint8Array([0]),x=new Uint8Array([1]),C=new Uint8Array([2]),S=new Uint8Array([x|C]),B=_+b+v+8,Q=0,L=_,D=L+b+v,M=new Uint8Array(16);function P(e,t){var n=1,r=0;for(e[0]=255&t;++r<8&&(n*=256);)e[r]=t/n&255}function U(e){r(e.byteLength===B,"state is should be crypto_secretstream_xchacha20poly1305_STATEBYTES long");for(var t=e.subarray(L,D),n=0;n<v;n++)t[n]=0;t[0]=1}function N(e){r(e.byteLength===B,"state is should be crypto_secretstream_xchacha20poly1305_STATEBYTES long");var t,n=e.subarray(Q,L),i=e.subarray(L,D),o=new Uint8Array(l+b);for(t=0;t<l;t++)o[t]=n[t];for(t=0;t<b;t++)o[l+t]=i[v+t];for(s(o,o,i,n),t=0;t<l;t++)n[t]=o[t];for(t=0;t<b;t++)i[v+t]=o[l+t];U(e)}function T(e,t,n){for(var r=0;r<n;r++)e[r]^=t[r]}e.exports={crypto_secretstream_xchacha20poly1305_keygen:function(e){r(e.length===_),i(e)},crypto_secretstream_xchacha20poly1305_init_push:function(e,t,n){r(e.byteLength===B,"state is should be crypto_secretstream_xchacha20poly1305_STATEBYTES long"),r(t instanceof Uint8Array&&t.length===m,"out not byte array of length crypto_secretstream_xchacha20poly1305_HEADERBYTES"),r(n instanceof Uint8Array&&n.length===_,"key not byte array of length crypto_secretstream_xchacha20poly1305_KEYBYTES");var o=e.subarray(Q,L),a=e.subarray(L,D),s=e.subarray(D);i(t,m),h(o,t,n,null),U(e);for(var u=0;u<b;u++)a[u+v]=t[u+f];s.fill(0)},crypto_secretstream_xchacha20poly1305_init_pull:function(e,t,n){r(e.byteLength===B,"state is should be crypto_secretstream_xchacha20poly1305_STATEBYTES long"),r(t instanceof Uint8Array&&t.length===m,"_in not byte array of length crypto_secretstream_xchacha20poly1305_HEADERBYTES"),r(n instanceof Uint8Array&&n.length===_,"key not byte array of length crypto_secretstream_xchacha20poly1305_KEYBYTES");var i=e.subarray(Q,L),o=e.subarray(L,D),a=e.subarray(D);h(i,t,n,null),U(e);for(var s=0;s<b;s++)o[s+v]=t[s+f];a.fill(0)},crypto_secretstream_xchacha20poly1305_rekey:N,crypto_secretstream_xchacha20poly1305_push:function(e,t,n,i,o){r(e.byteLength===B,"state is should be crypto_secretstream_xchacha20poly1305_STATEBYTES long"),i||(i=new Uint8Array(0));var s=e.subarray(Q,L),l=e.subarray(L,D),c=new Uint8Array(64),h=new Uint8Array(8);r(I<=w),a(c,l,s);var f=new d(c);c.fill(0),f.update(i,0,i.byteLength),f.update(M,0,16-i.byteLength&15),c[0]=o[0],u(c,c,l,1,s),f.update(c,0,c.byteLength),t[0]=c[0];var p=t.subarray(1,t.byteLength);u(p,n,l,2,s),f.update(p,0,n.byteLength),f.update(M,0,16-c.byteLength+n.byteLength&15),P(h,i.byteLength),f.update(h,0,h.byteLength),P(h,c.byteLength+n.byteLength),f.update(h,0,h.byteLength);var A=t.subarray(1+n.byteLength,t.byteLength);return f.finish(A,0),r(16>=b),T(l.subarray(v,l.length),A,b),g(l),(0!==(o[0]&C)||y(l.subarray(0,v)))&&N(e),k+n.byteLength},crypto_secretstream_xchacha20poly1305_pull:function(e,t,n,i,o){r(e.byteLength===B,"state is should be crypto_secretstream_xchacha20poly1305_STATEBYTES long"),o||(o=new Uint8Array(0));var s=e.subarray(Q,L),l=e.subarray(L,D),c=new Uint8Array(64),h=new Uint8Array(8),f=new Uint8Array(16);r(i.byteLength>=k,"ciphertext is too short.");var p=i.byteLength-k;a(c,l,s);var _=new d(c);c.fill(0),_.update(o,0,o.byteLength),_.update(M,0,16-o.byteLength&15),c.fill(0),c[0]=i[0],u(c,c,l,1,s),n[0]=c[0],c[0]=i[0],_.update(c,0,c.byteLength);var m=i.subarray(1,i.length);_.update(m,0,p),_.update(M,0,16-c.byteLength+p&15),P(h,o.byteLength),_.update(h,0,h.byteLength),P(h,c.byteLength+t.byteLength),_.update(h,0,h.byteLength),_.finish(f,0);var I=i.subarray(1+p,i.length);if(!A(f,I))throw f.fill(0),new Error("MAC could not be verified.");return u(t,m.subarray(0,t.length),l,2,s),T(l.subarray(v,l.length),f,b),g(l),(0!==(n&C)||y(l.subarray(0,v)))&&N(e),p},crypto_secretstream_xchacha20poly1305_STATEBYTES:B,crypto_secretstream_xchacha20poly1305_ABYTES:k,crypto_secretstream_xchacha20poly1305_HEADERBYTES:m,crypto_secretstream_xchacha20poly1305_KEYBYTES:_,crypto_secretstream_xchacha20poly1305_MESSAGEBYTES_MAX:I,crypto_secretstream_xchacha20poly1305_TAGBYTES:1,crypto_secretstream_xchacha20poly1305_TAG_MESSAGE:E,crypto_secretstream_xchacha20poly1305_TAG_PUSH:x,crypto_secretstream_xchacha20poly1305_TAG_REKEY:C,crypto_secretstream_xchacha20poly1305_TAG_FINAL:S}},1284:function(e,t,n){var r=n(3292);if(1!==new Uint16Array([1])[0])throw new Error("Big endian architecture is not supported.");t.crypto_shorthash_PRIMITIVE="siphash24",t.crypto_shorthash_BYTES=r.BYTES,t.crypto_shorthash_KEYBYTES=r.KEYBYTES,t.crypto_shorthash_WASM_SUPPORTED=r.WASM_SUPPORTED,t.crypto_shorthash_WASM_LOADED=r.WASM_LOADED,t.crypto_shorthash=function(e,t,n,i){r(t,n,e,i)}},8467:function(e,t,n){var r=n(8856).crypto_verify_32,i=n(876).crypto_hash,o=n(335),a=o.gf,s=o.gf0,u=o.gf1,l=o.D,c=o.D2,h=o.X,f=o.Y,d=o.I,p=o.A,g=o.Z,y=o.M,A=o.S,v=o.sel25519,b=o.pack25519,_=o.inv25519,m=o.unpack25519,k=n(4138).randombytes,I=n(6621).crypto_scalarmult_BYTES,w=n(876).crypto_hash_sha512_BYTES,E=n(3577),x=32,C=64,S=x,B=64,Q=32;function L(e,t){for(var n=0;n<16;n++)e[n]=0|t[n]}function D(e,t){var n=a(),r=a(),i=a(),o=a(),s=a(),u=a(),l=a(),h=a(),f=a();g(n,e[1],e[0]),g(f,t[1],t[0]),y(n,n,f),p(r,e[0],e[1]),p(f,t[0],t[1]),y(r,r,f),y(i,e[3],t[3]),y(i,i,c),y(o,e[2],t[2]),p(o,o,o),g(s,r,n),g(u,o,i),p(l,o,i),p(h,r,n),y(e[0],s,u),y(e[1],h,l),y(e[2],l,u),y(e[3],s,h)}function M(e,t,n){var r;for(r=0;r<4;r++)v(e[r],t[r],n)}function P(e,t){var n=a(),r=a(),i=a();_(i,t[2]),y(n,t[0],i),y(r,t[1],i),b(e,r),e[31]^=H(n)<<7}function U(e,t,n){var r,i,o=[a(t[0]),a(t[1]),a(t[2]),a(t[3])];for(L(e[0],s),L(e[1],u),L(e[2],u),L(e[3],s),i=255;i>=0;--i)M(e,o,r=n[i/8|0]>>(7&i)&1),D(o,e),D(e,e),M(e,o,r)}function N(e,t){var n=[a(),a(),a(),a()];L(n[0],h),L(n[1],f),L(n[2],u),y(n[3],h,f),U(e,n,t)}function T(e,t,n){q(e,S),q(t,B);var r,o=new Uint8Array(64),s=[a(),a(),a(),a()];for(n||k(t,32),i(o,t,32),o[0]&=248,o[31]&=127,o[31]|=64,N(s,o),P(e,s),r=0;r<32;r++)t[r+32]=e[r]}e.exports={crypto_sign_keypair:T,crypto_sign_seed_keypair:function(e,t,n){return q(n,Q),t.set(n),T(e,t,!0)},crypto_sign:F,crypto_sign_detached:function(e,t,n){var r=new Uint8Array(t.length+C);F(r,t,n);for(var i=0;i<C;i++)e[i]=r[i]},crypto_sign_open:z,crypto_sign_verify_detached:function(e,t,n){q(e,C);var r=new Uint8Array(t.length+C),i=0;for(i=0;i<C;i++)r[i]=e[i];for(i=0;i<t.length;i++)r[i+C]=t[i];return z(t,r,n)},crypto_sign_BYTES:C,crypto_sign_PUBLICKEYBYTES:S,crypto_sign_SECRETKEYBYTES:B,crypto_sign_SEEDBYTES:Q,crypto_sign_ed25519_PUBLICKEYBYTES:x,crypto_sign_ed25519_SECRETKEYBYTES:64,crypto_sign_ed25519_SEEDBYTES:32,crypto_sign_ed25519_BYTES:64,crypto_sign_ed25519_pk_to_curve25519:function(e,t){q(e,S),q(t,x);var n=[a(),a(),a(),a()],r=a([1]),i=a([1]);E(function(e){Uint8Array.from([]);var t,n=[Uint8Array.from([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),Uint8Array.from([1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),Uint8Array.from([38,232,149,143,194,178,39,176,69,195,244,137,242,239,152,240,213,223,172,5,211,198,51,57,177,56,2,136,109,83,252,5]),Uint8Array.from([199,23,106,112,61,77,216,79,186,60,11,118,13,16,103,15,42,32,83,250,44,57,204,198,78,199,253,119,146,172,3,122]),Uint8Array.from([236,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,127]),Uint8Array.from([237,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,127]),Uint8Array.from([238,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,127])],r=new Uint8Array(7);q(n,7);for(var i=0;i<n.length;i++)for(t=0;t<31;t++)r[i]|=e[t]^n[i][t];for(var o=0;o<n.length;o++)r[o]|=127&e[t]^n[o][t];for(var a=0,s=0;s<n.length;s++)a|=r[s]-1;return 0===(a>>8&1)}(t)&&Y(n,t)&&function(e){var t=[a(),a(),a(),a()];!function(e,t){U(e,t,O)}(t,e);for(var n=0,r=0;r<16;r++)n|=65535&t[0][r];return 0===n}(n),"Cannot convert key: bad point");for(var o=0;o<n.length;o++)b(e,n[o]);return g(i,i,n[1]),p(r,r,n[1]),_(i,i),y(r,r,i),b(e,r),0},crypto_sign_ed25519_sk_to_curve25519:function(e,t){E(e&&e.byteLength===I,"curveSk must be 'crypto_sign_SECRETKEYBYTES' long"),E(t&&64===t.byteLength,"edSk must be 'crypto_sign_ed25519_SECRETKEYBYTES' long");var n=new Uint8Array(w);return i(n,t,32),n[0]&=248,n[31]&=127,n[31]|=64,e.set(n.subarray(0,I)),n.fill(0),e},crypto_sign_ed25519_sk_to_pk:function(e,t){return q(e,x),e.set(t.subarray(32)),e},unpackneg:Y,pack:P};var O=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]);function K(e,t){var n,r,i,o;for(r=63;r>=32;--r){for(n=0,i=r-32,o=r-12;i<o;++i)t[i]+=n-16*t[r]*O[i-(r-32)],n=t[i]+128>>8,t[i]-=256*n;t[i]+=n,t[r]=0}for(n=0,i=0;i<32;i++)t[i]+=n-(t[31]>>4)*O[i],n=t[i]>>8,t[i]&=255;for(i=0;i<32;i++)t[i]-=n*O[i];for(r=0;r<32;r++)t[r+1]+=t[r]>>8,e[r]=255&t[r]}function R(e){for(var t=new Float64Array(64),n=0;n<64;n++)t[n]=e[n];for(var r=0;r<64;r++)e[r]=0;K(e,t)}function F(e,t,n){q(e,C+t.length),q(t,0),q(n,B);var r,o,s=t.length,u=new Uint8Array(64),l=new Uint8Array(64),c=new Uint8Array(64),h=new Float64Array(64),f=[a(),a(),a(),a()];i(u,n,32),u[0]&=248,u[31]&=127,u[31]|=64;var d=s+64;for(r=0;r<s;r++)e[64+r]=t[r];for(r=0;r<32;r++)e[32+r]=u[32+r];for(i(c,e.subarray(32),s+32),R(c),N(f,c),P(e,f),r=32;r<64;r++)e[r]=n[r];for(i(l,e,s+64),R(l),r=0;r<64;r++)h[r]=0;for(r=0;r<32;r++)h[r]=c[r];for(r=0;r<32;r++)for(o=0;o<32;o++)h[r+o]+=l[r]*u[o];return K(e.subarray(32),h),d}function Y(e,t){var n=a(),r=a(),i=a(),o=a(),s=a(),c=a(),h=a();return L(e[2],u),m(e[1],t),A(i,e[1]),y(o,i,l),g(i,i,e[2]),p(o,e[2],o),A(s,o),A(c,s),y(h,c,s),y(n,h,i),y(n,n,o),function(e,t){var n,r=a();for(n=0;n<16;n++)r[n]=t[n];for(n=250;n>=0;n--)A(r,r),1!==n&&y(r,r,t);for(n=0;n<16;n++)e[n]=r[n]}(n,n),y(n,n,i),y(n,n,o),y(n,n,o),y(e[0],n,o),A(r,e[0]),y(r,r,o),j(r,i)||y(e[0],e[0],d),A(r,e[0]),y(r,r,o),!!j(r,i)&&(H(e[0])===t[31]>>7&&g(e[0],a(),e[0]),y(e[3],e[0],e[1]),!0)}function z(e,t,n){q(e,t.length-C),q(t,C),q(n,S);var o,s=t.length,u=new Uint8Array(t.length),l=new Uint8Array(32),c=new Uint8Array(64),h=[a(),a(),a(),a()],f=[a(),a(),a(),a()];if(-1,s<64)return!1;if(!Y(f,n))return!1;for(o=0;o<s;o++)u[o]=t[o];for(o=0;o<32;o++)u[o+32]=n[o];if(i(c,u,s),R(c),U(h,f,c),N(f,t.subarray(32)),D(h,f),P(l,h),s-=64,!r(t,0,l,0)){for(o=0;o<s;o++)u[o]=0;return!1}for(o=0;o<s;o++)e[o]=t[o+64];return s,!0}function H(e){var t=new Uint8Array(32);return b(t,e),1&t[0]}function j(e,t){var n=new Uint8Array(32),i=new Uint8Array(32);return b(n,e),b(i,t),r(n,0,i,0)}function q(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Argument";if(!e||t&&e.length<t)throw new Error(n+" must be a buffer"+(t?" of length "+t:""))}},1340:function(e,t,n){var r=n(3676);if(1!==new Uint16Array([1])[0])throw new Error("Big endian architecture is not supported.");function i(e,t){this._instance=r(e,t)}t.crypto_stream_KEYBYTES=32,t.crypto_stream_NONCEBYTES=24,t.crypto_stream_PRIMITIVE="xsalsa20",t.crypto_stream_xsalsa20_MESSAGEBYTES_MAX=Number.MAX_SAFE_INTEGER,t.crypto_stream=function(e,n,r){e.fill(0),t.crypto_stream_xor(e,e,n,r)},t.crypto_stream_xor=function(e,t,n,i){var o=r(n,i);o.update(t,e),o.final()},t.crypto_stream_xor_instance=function(e,t){return new i(e,t)},i.prototype.update=function(e,t){this._instance.update(t,e)},i.prototype.final=function(){this._instance.finalize(),this._instance=null}},8286:function(e,t,n){var r=n(3577),i=n(2326);if(1!==new Uint16Array([1])[0])throw new Error("Big endian architecture is not supported.");t.crypto_stream_chacha20_KEYBYTES=32,t.crypto_stream_chacha20_NONCEBYTES=8,t.crypto_stream_chacha20_MESSAGEBYTES_MAX=Number.MAX_SAFE_INTEGER,t.crypto_stream_chacha20_ietf_KEYBYTES=32,t.crypto_stream_chacha20_ietf_NONCEBYTES=12,t.crypto_stream_chacha20_ietf_MESSAGEBYTES_MAX=Math.pow(2,32),t.crypto_stream_chacha20=function(e,n,r){e.fill(0),t.crypto_stream_chacha20_xor(e,e,n,r)},t.crypto_stream_chacha20_xor=function(e,n,o,a){r(o.byteLength===t.crypto_stream_chacha20_NONCEBYTES,"n should be crypto_stream_chacha20_NONCEBYTES"),r(a.byteLength===t.crypto_stream_chacha20_KEYBYTES,"k should be crypto_stream_chacha20_KEYBYTES");var s=new i(o,a);s.update(e,n),s.final()},t.crypto_stream_chacha20_xor_ic=function(e,n,o,a,s){r(o.byteLength===t.crypto_stream_chacha20_NONCEBYTES,"n should be crypto_stream_chacha20_NONCEBYTES"),r(s.byteLength===t.crypto_stream_chacha20_KEYBYTES,"k should be crypto_stream_chacha20_KEYBYTES");var u=new i(o,s,a);u.update(e,n),u.final()},t.crypto_stream_chacha20_xor_instance=function(e,n){return r(e.byteLength===t.crypto_stream_chacha20_NONCEBYTES,"n should be crypto_stream_chacha20_NONCEBYTES"),r(n.byteLength===t.crypto_stream_chacha20_KEYBYTES,"k should be crypto_stream_chacha20_KEYBYTES"),new i(e,n)},t.crypto_stream_chacha20_ietf=function(e,n,r){e.fill(0),t.crypto_stream_chacha20_ietf_xor(e,e,n,r)},t.crypto_stream_chacha20_ietf_xor=function(e,n,o,a){r(o.byteLength===t.crypto_stream_chacha20_ietf_NONCEBYTES,"n should be crypto_stream_chacha20_ietf_NONCEBYTES"),r(a.byteLength===t.crypto_stream_chacha20_ietf_KEYBYTES,"k should be crypto_stream_chacha20_ietf_KEYBYTES");var s=new i(o,a);s.update(e,n),s.final()},t.crypto_stream_chacha20_ietf_xor_ic=function(e,n,o,a,s){r(o.byteLength===t.crypto_stream_chacha20_ietf_NONCEBYTES,"n should be crypto_stream_chacha20_ietf_NONCEBYTES"),r(s.byteLength===t.crypto_stream_chacha20_ietf_KEYBYTES,"k should be crypto_stream_chacha20_ietf_KEYBYTES");var u=new i(o,s,a);u.update(e,n),u.final()},t.crypto_stream_chacha20_ietf_xor_instance=function(e,n){return r(e.byteLength===t.crypto_stream_chacha20_ietf_NONCEBYTES,"n should be crypto_stream_chacha20_ietf_NONCEBYTES"),r(n.byteLength===t.crypto_stream_chacha20_ietf_KEYBYTES,"k should be crypto_stream_chacha20_ietf_KEYBYTES"),new i(e,n)}},8856:function(e){function t(e,t,n,r,i){for(var o=0,a=0;a<i;a++)o|=e[t+a]^n[r+a];return(1&o-1>>>8)-1}e.exports={crypto_verify_16:function(e,n,r,i){return 0===t(e,n,r,i,16)},crypto_verify_32:function(e,n,r,i){return 0===t(e,n,r,i,32)},crypto_verify_64:function(e,n,r,i){return 0===t(e,n,r,i,64)}},Object.defineProperty(e.exports,"vn",{value:t})},633:function(e,t,n){var r=n(3577),i=n(8856).vn;e.exports={sodium_increment:function(e){for(var t=e.byteLength,n=1,r=0;r<t;r++)n+=e[r],e[r]=n,n>>=8},sodium_memcmp:function(e,t){return r(e.byteLength===t.byteLength,"buffers must be the same size"),0===i(e,0,t,0,e.byteLength)},sodium_is_zero:function(e){for(var t=0,n=0;n<e.length;n++)t|=e[n];return 0===t}}},1712:function(e,t,n){"use strict";function r(t){Object.keys(t).forEach((function(n){e.exports[n]=t[n]}))}r(n(4138)),r(n(7838)),r(n(633)),r(n(8856)),r(n(8670)),r(n(7122)),r(n(9372)),r(n(876)),r(n(3178)),r(n(1478)),r(n(8852)),r(n(6024)),r(n(7353)),r(n(6621)),r(n(4063)),r(n(4249)),r(n(1284)),r(n(8467)),r(n(1340)),r(n(8286))},335:function(e){if(1!==new Uint16Array([1])[0])throw new Error("Big endian architecture is not supported.");var t=function(e){var t,n=new Float64Array(16);if(e)for(t=0;t<e.length;t++)n[t]=e[t];return n},n=(new Uint8Array(16),new Uint8Array(32));n[0]=9;var r=t(),i=t([1]),o=t([56129,1]),a=t([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),s=t([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),u=t([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),l=t([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),c=t([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function h(e,t,n){var r,i,o=0,a=0,s=0,u=0,l=0,c=0,h=0,f=0,d=0,p=0,g=0,y=0,A=0,v=0,b=0,_=0,m=0,k=0,I=0,w=0,E=0,x=0,C=0,S=0,B=0,Q=0,L=0,D=0,M=0,P=0,U=0,N=n[0],T=n[1],O=n[2],K=n[3],R=n[4],F=n[5],Y=n[6],z=n[7],H=n[8],j=n[9],q=n[10],G=n[11],V=n[12],W=n[13],J=n[14],X=n[15];o+=(r=t[0])*N,a+=r*T,s+=r*O,u+=r*K,l+=r*R,c+=r*F,h+=r*Y,f+=r*z,d+=r*H,p+=r*j,g+=r*q,y+=r*G,A+=r*V,v+=r*W,b+=r*J,_+=r*X,a+=(r=t[1])*N,s+=r*T,u+=r*O,l+=r*K,c+=r*R,h+=r*F,f+=r*Y,d+=r*z,p+=r*H,g+=r*j,y+=r*q,A+=r*G,v+=r*V,b+=r*W,_+=r*J,m+=r*X,s+=(r=t[2])*N,u+=r*T,l+=r*O,c+=r*K,h+=r*R,f+=r*F,d+=r*Y,p+=r*z,g+=r*H,y+=r*j,A+=r*q,v+=r*G,b+=r*V,_+=r*W,m+=r*J,k+=r*X,u+=(r=t[3])*N,l+=r*T,c+=r*O,h+=r*K,f+=r*R,d+=r*F,p+=r*Y,g+=r*z,y+=r*H,A+=r*j,v+=r*q,b+=r*G,_+=r*V,m+=r*W,k+=r*J,I+=r*X,l+=(r=t[4])*N,c+=r*T,h+=r*O,f+=r*K,d+=r*R,p+=r*F,g+=r*Y,y+=r*z,A+=r*H,v+=r*j,b+=r*q,_+=r*G,m+=r*V,k+=r*W,I+=r*J,w+=r*X,c+=(r=t[5])*N,h+=r*T,f+=r*O,d+=r*K,p+=r*R,g+=r*F,y+=r*Y,A+=r*z,v+=r*H,b+=r*j,_+=r*q,m+=r*G,k+=r*V,I+=r*W,w+=r*J,E+=r*X,h+=(r=t[6])*N,f+=r*T,d+=r*O,p+=r*K,g+=r*R,y+=r*F,A+=r*Y,v+=r*z,b+=r*H,_+=r*j,m+=r*q,k+=r*G,I+=r*V,w+=r*W,E+=r*J,x+=r*X,f+=(r=t[7])*N,d+=r*T,p+=r*O,g+=r*K,y+=r*R,A+=r*F,v+=r*Y,b+=r*z,_+=r*H,m+=r*j,k+=r*q,I+=r*G,w+=r*V,E+=r*W,x+=r*J,C+=r*X,d+=(r=t[8])*N,p+=r*T,g+=r*O,y+=r*K,A+=r*R,v+=r*F,b+=r*Y,_+=r*z,m+=r*H,k+=r*j,I+=r*q,w+=r*G,E+=r*V,x+=r*W,C+=r*J,S+=r*X,p+=(r=t[9])*N,g+=r*T,y+=r*O,A+=r*K,v+=r*R,b+=r*F,_+=r*Y,m+=r*z,k+=r*H,I+=r*j,w+=r*q,E+=r*G,x+=r*V,C+=r*W,S+=r*J,B+=r*X,g+=(r=t[10])*N,y+=r*T,A+=r*O,v+=r*K,b+=r*R,_+=r*F,m+=r*Y,k+=r*z,I+=r*H,w+=r*j,E+=r*q,x+=r*G,C+=r*V,S+=r*W,B+=r*J,Q+=r*X,y+=(r=t[11])*N,A+=r*T,v+=r*O,b+=r*K,_+=r*R,m+=r*F,k+=r*Y,I+=r*z,w+=r*H,E+=r*j,x+=r*q,C+=r*G,S+=r*V,B+=r*W,Q+=r*J,L+=r*X,A+=(r=t[12])*N,v+=r*T,b+=r*O,_+=r*K,m+=r*R,k+=r*F,I+=r*Y,w+=r*z,E+=r*H,x+=r*j,C+=r*q,S+=r*G,B+=r*V,Q+=r*W,L+=r*J,D+=r*X,v+=(r=t[13])*N,b+=r*T,_+=r*O,m+=r*K,k+=r*R,I+=r*F,w+=r*Y,E+=r*z,x+=r*H,C+=r*j,S+=r*q,B+=r*G,Q+=r*V,L+=r*W,D+=r*J,M+=r*X,b+=(r=t[14])*N,_+=r*T,m+=r*O,k+=r*K,I+=r*R,w+=r*F,E+=r*Y,x+=r*z,C+=r*H,S+=r*j,B+=r*q,Q+=r*G,L+=r*V,D+=r*W,M+=r*J,P+=r*X,_+=(r=t[15])*N,a+=38*(k+=r*O),s+=38*(I+=r*K),u+=38*(w+=r*R),l+=38*(E+=r*F),c+=38*(x+=r*Y),h+=38*(C+=r*z),f+=38*(S+=r*H),d+=38*(B+=r*j),p+=38*(Q+=r*q),g+=38*(L+=r*G),y+=38*(D+=r*V),A+=38*(M+=r*W),v+=38*(P+=r*J),b+=38*(U+=r*X),o=(r=(o+=38*(m+=r*T))+(i=1)+65535)-65536*(i=Math.floor(r/65536)),a=(r=a+i+65535)-65536*(i=Math.floor(r/65536)),s=(r=s+i+65535)-65536*(i=Math.floor(r/65536)),u=(r=u+i+65535)-65536*(i=Math.floor(r/65536)),l=(r=l+i+65535)-65536*(i=Math.floor(r/65536)),c=(r=c+i+65535)-65536*(i=Math.floor(r/65536)),h=(r=h+i+65535)-65536*(i=Math.floor(r/65536)),f=(r=f+i+65535)-65536*(i=Math.floor(r/65536)),d=(r=d+i+65535)-65536*(i=Math.floor(r/65536)),p=(r=p+i+65535)-65536*(i=Math.floor(r/65536)),g=(r=g+i+65535)-65536*(i=Math.floor(r/65536)),y=(r=y+i+65535)-65536*(i=Math.floor(r/65536)),A=(r=A+i+65535)-65536*(i=Math.floor(r/65536)),v=(r=v+i+65535)-65536*(i=Math.floor(r/65536)),b=(r=b+i+65535)-65536*(i=Math.floor(r/65536)),_=(r=_+i+65535)-65536*(i=Math.floor(r/65536)),o=(r=(o+=i-1+37*(i-1))+(i=1)+65535)-65536*(i=Math.floor(r/65536)),a=(r=a+i+65535)-65536*(i=Math.floor(r/65536)),s=(r=s+i+65535)-65536*(i=Math.floor(r/65536)),u=(r=u+i+65535)-65536*(i=Math.floor(r/65536)),l=(r=l+i+65535)-65536*(i=Math.floor(r/65536)),c=(r=c+i+65535)-65536*(i=Math.floor(r/65536)),h=(r=h+i+65535)-65536*(i=Math.floor(r/65536)),f=(r=f+i+65535)-65536*(i=Math.floor(r/65536)),d=(r=d+i+65535)-65536*(i=Math.floor(r/65536)),p=(r=p+i+65535)-65536*(i=Math.floor(r/65536)),g=(r=g+i+65535)-65536*(i=Math.floor(r/65536)),y=(r=y+i+65535)-65536*(i=Math.floor(r/65536)),A=(r=A+i+65535)-65536*(i=Math.floor(r/65536)),v=(r=v+i+65535)-65536*(i=Math.floor(r/65536)),b=(r=b+i+65535)-65536*(i=Math.floor(r/65536)),_=(r=_+i+65535)-65536*(i=Math.floor(r/65536)),o+=i-1+37*(i-1),e[0]=o,e[1]=a,e[2]=s,e[3]=u,e[4]=l,e[5]=c,e[6]=h,e[7]=f,e[8]=d,e[9]=p,e[10]=g,e[11]=y,e[12]=A,e[13]=v,e[14]=b,e[15]=_}function f(e,t){h(e,t,t)}function d(e,t,n){for(var r,i=~(n-1),o=0;o<16;o++)r=i&(e[o]^t[o]),e[o]^=r,t[o]^=r}function p(e){var t,n,r=1;for(t=0;t<16;t++)n=e[t]+r+65535,r=Math.floor(n/65536),e[t]=n-65536*r;e[0]+=r-1+37*(r-1)}e.exports={gf:t,A:function(e,t,n){for(var r=0;r<16;r++)e[r]=t[r]+n[r]},Z:function(e,t,n){for(var r=0;r<16;r++)e[r]=t[r]-n[r]},M:h,S:f,sel25519:d,pack25519:function(e,n){var r,i,o,a=t(),s=t();for(r=0;r<16;r++)s[r]=n[r];for(p(s),p(s),p(s),i=0;i<2;i++){for(a[0]=s[0]-65517,r=1;r<15;r++)a[r]=s[r]-65535-(a[r-1]>>16&1),a[r-1]&=65535;a[15]=s[15]-32767-(a[14]>>16&1),o=a[15]>>16&1,a[14]&=65535,d(s,a,1-o)}for(r=0;r<16;r++)e[2*r]=255&s[r],e[2*r+1]=s[r]>>8},unpack25519:function(e,t){var n;for(n=0;n<16;n++)e[n]=t[2*n]+(t[2*n+1]<<8);e[15]&=32767},inv25519:function(e,n){var r,i=t();for(r=0;r<16;r++)i[r]=n[r];for(r=253;r>=0;r--)f(i,i),2!==r&&4!==r&&h(i,i,n);for(r=0;r<16;r++)e[r]=i[r]},gf0:r,gf1:i,_9:n,_121665:o,D:a,D2:s,X:u,Y:l,I:c}},6098:function(e,t,n){n(7838).sodium_malloc;var r=n(3577);if(1!==new Uint16Array([1])[0])throw new Error("Big endian architecture is not supported.");function i(e,t){return(e&=4294967295)<<(t&=4294967295)|e>>>32-t}function o(e,t){r(e instanceof Uint8Array,"src not byte array");var n=e[t];return n|=e[t+1]<<8,n|=e[t+2]<<16,n|=e[t+3]<<24}function a(e,t,n){r(e instanceof Uint8Array,"dest not byte array");var i=1,o=0;for(e[n]=255&t;++o<4&&(i*=256);)e[n+o]=t/i&255}function s(e,t,n,r,o){e[t]+=e[n],e[o]=i(e[o]^e[t],16),e[r]+=e[o],e[n]=i(e[n]^e[r],12),e[t]+=e[n],e[o]=i(e[o]^e[t],8),e[r]+=e[o],e[n]=i(e[n]^e[r],7)}e.exports={crypto_core_hchacha20_INPUTBYTES:16,LOAD32_LE:o,STORE32_LE:a,QUARTERROUND:s,crypto_core_hchacha20:function(e,t,n,i){r(e instanceof Uint8Array&&32===e.length,"out is not an array of 32 bytes"),r(n instanceof Uint8Array&&32===n.length,"k is not an array of 32 bytes"),r(null===i||i instanceof Uint8Array&&16===i.length,"c is not null or an array of 16 bytes");var u=0,l=new Uint32Array(16);for(i?(l[0]=o(i,0),l[1]=o(i,4),l[2]=o(i,8),l[3]=o(i,12)):(l[0]=1634760805,l[1]=857760878,l[2]=2036477234,l[3]=1797285236),l[4]=o(n,0),l[5]=o(n,4),l[6]=o(n,8),l[7]=o(n,12),l[8]=o(n,16),l[9]=o(n,20),l[10]=o(n,24),l[11]=o(n,28),l[12]=o(t,0),l[13]=o(t,4),l[14]=o(t,8),l[15]=o(t,12),u=0;u<10;u++)s(l,0,4,8,12),s(l,1,5,9,13),s(l,2,6,10,14),s(l,3,7,11,15),s(l,0,5,10,15),s(l,1,6,11,12),s(l,2,7,8,13),s(l,3,4,9,14);return a(e,l[0],0),a(e,l[1],4),a(e,l[2],8),a(e,l[3],12),a(e,l[12],16),a(e,l[13],20),a(e,l[14],24),a(e,l[15],28),0},crypto_core_hchacha20_outputbytes:function(){return 32},crypto_core_hchacha20_inputbytes:function(){return 16},crypto_core_hchacha20_keybytes:function(){return 32},crypto_core_hchacha20_constbytes:function(){return 16}}},7837:function(e){if(1!==new Uint16Array([1])[0])throw new Error("Big endian architecture is not supported.");var t=function(e){var t,n,r,i,o,a,s,u;this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.leftover=0,this.fin=0,t=255&e[0]|(255&e[1])<<8,this.r[0]=8191&t,n=255&e[2]|(255&e[3])<<8,this.r[1]=8191&(t>>>13|n<<3),r=255&e[4]|(255&e[5])<<8,this.r[2]=7939&(n>>>10|r<<6),i=255&e[6]|(255&e[7])<<8,this.r[3]=8191&(r>>>7|i<<9),o=255&e[8]|(255&e[9])<<8,this.r[4]=255&(i>>>4|o<<12),this.r[5]=o>>>1&8190,a=255&e[10]|(255&e[11])<<8,this.r[6]=8191&(o>>>14|a<<2),s=255&e[12]|(255&e[13])<<8,this.r[7]=8065&(a>>>11|s<<5),u=255&e[14]|(255&e[15])<<8,this.r[8]=8191&(s>>>8|u<<8),this.r[9]=u>>>5&127,this.pad[0]=255&e[16]|(255&e[17])<<8,this.pad[1]=255&e[18]|(255&e[19])<<8,this.pad[2]=255&e[20]|(255&e[21])<<8,this.pad[3]=255&e[22]|(255&e[23])<<8,this.pad[4]=255&e[24]|(255&e[25])<<8,this.pad[5]=255&e[26]|(255&e[27])<<8,this.pad[6]=255&e[28]|(255&e[29])<<8,this.pad[7]=255&e[30]|(255&e[31])<<8};t.prototype.blocks=function(e,t,n){for(var r,i,o,a,s,u,l,c,h,f,d,p,g,y,A,v,b,_,m,k=this.fin?0:2048,I=this.h[0],w=this.h[1],E=this.h[2],x=this.h[3],C=this.h[4],S=this.h[5],B=this.h[6],Q=this.h[7],L=this.h[8],D=this.h[9],M=this.r[0],P=this.r[1],U=this.r[2],N=this.r[3],T=this.r[4],O=this.r[5],K=this.r[6],R=this.r[7],F=this.r[8],Y=this.r[9];n>=16;)f=h=0,f+=(I+=8191&(r=255&e[t+0]|(255&e[t+1])<<8))*M,f+=(w+=8191&(r>>>13|(i=255&e[t+2]|(255&e[t+3])<<8)<<3))*(5*Y),f+=(E+=8191&(i>>>10|(o=255&e[t+4]|(255&e[t+5])<<8)<<6))*(5*F),f+=(x+=8191&(o>>>7|(a=255&e[t+6]|(255&e[t+7])<<8)<<9))*(5*R),h=(f+=(C+=8191&(a>>>4|(s=255&e[t+8]|(255&e[t+9])<<8)<<12))*(5*K))>>>13,f&=8191,f+=(S+=s>>>1&8191)*(5*O),f+=(B+=8191&(s>>>14|(u=255&e[t+10]|(255&e[t+11])<<8)<<2))*(5*T),f+=(Q+=8191&(u>>>11|(l=255&e[t+12]|(255&e[t+13])<<8)<<5))*(5*N),f+=(L+=8191&(l>>>8|(c=255&e[t+14]|(255&e[t+15])<<8)<<8))*(5*U),d=h+=(f+=(D+=c>>>5|k)*(5*P))>>>13,d+=I*P,d+=w*M,d+=E*(5*Y),d+=x*(5*F),h=(d+=C*(5*R))>>>13,d&=8191,d+=S*(5*K),d+=B*(5*O),d+=Q*(5*T),d+=L*(5*N),h+=(d+=D*(5*U))>>>13,d&=8191,p=h,p+=I*U,p+=w*P,p+=E*M,p+=x*(5*Y),h=(p+=C*(5*F))>>>13,p&=8191,p+=S*(5*R),p+=B*(5*K),p+=Q*(5*O),p+=L*(5*T),g=h+=(p+=D*(5*N))>>>13,g+=I*N,g+=w*U,g+=E*P,g+=x*M,h=(g+=C*(5*Y))>>>13,g&=8191,g+=S*(5*F),g+=B*(5*R),g+=Q*(5*K),g+=L*(5*O),y=h+=(g+=D*(5*T))>>>13,y+=I*T,y+=w*N,y+=E*U,y+=x*P,h=(y+=C*M)>>>13,y&=8191,y+=S*(5*Y),y+=B*(5*F),y+=Q*(5*R),y+=L*(5*K),A=h+=(y+=D*(5*O))>>>13,A+=I*O,A+=w*T,A+=E*N,A+=x*U,h=(A+=C*P)>>>13,A&=8191,A+=S*M,A+=B*(5*Y),A+=Q*(5*F),A+=L*(5*R),v=h+=(A+=D*(5*K))>>>13,v+=I*K,v+=w*O,v+=E*T,v+=x*N,h=(v+=C*U)>>>13,v&=8191,v+=S*P,v+=B*M,v+=Q*(5*Y),v+=L*(5*F),b=h+=(v+=D*(5*R))>>>13,b+=I*R,b+=w*K,b+=E*O,b+=x*T,h=(b+=C*N)>>>13,b&=8191,b+=S*U,b+=B*P,b+=Q*M,b+=L*(5*Y),_=h+=(b+=D*(5*F))>>>13,_+=I*F,_+=w*R,_+=E*K,_+=x*O,h=(_+=C*T)>>>13,_&=8191,_+=S*N,_+=B*U,_+=Q*P,_+=L*M,m=h+=(_+=D*(5*Y))>>>13,m+=I*Y,m+=w*F,m+=E*R,m+=x*K,h=(m+=C*O)>>>13,m&=8191,m+=S*T,m+=B*N,m+=Q*U,m+=L*P,I=f=8191&(h=(h=((h+=(m+=D*M)>>>13)<<2)+h|0)+(f&=8191)|0),w=d+=h>>>=13,E=p&=8191,x=g&=8191,C=y&=8191,S=A&=8191,B=v&=8191,Q=b&=8191,L=_&=8191,D=m&=8191,t+=16,n-=16;this.h[0]=I,this.h[1]=w,this.h[2]=E,this.h[3]=x,this.h[4]=C,this.h[5]=S,this.h[6]=B,this.h[7]=Q,this.h[8]=L,this.h[9]=D},t.prototype.finish=function(e,t){var n,r,i,o,a=new Uint16Array(10);if(this.leftover){for(o=this.leftover,this.buffer[o++]=1;o<16;o++)this.buffer[o]=0;this.fin=1,this.blocks(this.buffer,0,16)}for(n=this.h[1]>>>13,this.h[1]&=8191,o=2;o<10;o++)this.h[o]+=n,n=this.h[o]>>>13,this.h[o]&=8191;for(this.h[0]+=5*n,n=this.h[0]>>>13,this.h[0]&=8191,this.h[1]+=n,n=this.h[1]>>>13,this.h[1]&=8191,this.h[2]+=n,a[0]=this.h[0]+5,n=a[0]>>>13,a[0]&=8191,o=1;o<10;o++)a[o]=this.h[o]+n,n=a[o]>>>13,a[o]&=8191;for(a[9]-=8192,r=(1^n)-1,o=0;o<10;o++)a[o]&=r;for(r=~r,o=0;o<10;o++)this.h[o]=this.h[o]&r|a[o];for(this.h[0]=65535&(this.h[0]|this.h[1]<<13),this.h[1]=65535&(this.h[1]>>>3|this.h[2]<<10),this.h[2]=65535&(this.h[2]>>>6|this.h[3]<<7),this.h[3]=65535&(this.h[3]>>>9|this.h[4]<<4),this.h[4]=65535&(this.h[4]>>>12|this.h[5]<<1|this.h[6]<<14),this.h[5]=65535&(this.h[6]>>>2|this.h[7]<<11),this.h[6]=65535&(this.h[7]>>>5|this.h[8]<<8),this.h[7]=65535&(this.h[8]>>>8|this.h[9]<<5),i=this.h[0]+this.pad[0],this.h[0]=65535&i,o=1;o<8;o++)i=(this.h[o]+this.pad[o]|0)+(i>>>16)|0,this.h[o]=65535&i;e[t+0]=this.h[0]>>>0&255,e[t+1]=this.h[0]>>>8&255,e[t+2]=this.h[1]>>>0&255,e[t+3]=this.h[1]>>>8&255,e[t+4]=this.h[2]>>>0&255,e[t+5]=this.h[2]>>>8&255,e[t+6]=this.h[3]>>>0&255,e[t+7]=this.h[3]>>>8&255,e[t+8]=this.h[4]>>>0&255,e[t+9]=this.h[4]>>>8&255,e[t+10]=this.h[5]>>>0&255,e[t+11]=this.h[5]>>>8&255,e[t+12]=this.h[6]>>>0&255,e[t+13]=this.h[6]>>>8&255,e[t+14]=this.h[7]>>>0&255,e[t+15]=this.h[7]>>>8&255},t.prototype.update=function(e,t,n){var r,i;if(this.leftover){for((i=16-this.leftover)>n&&(i=n),r=0;r<i;r++)this.buffer[this.leftover+r]=e[t+r];if(n-=i,t+=i,this.leftover+=i,this.leftover<16)return;this.blocks(this.buffer,0,16),this.leftover=0}if(n>=16&&(i=n-n%16,this.blocks(e,t,i),t+=i,n-=i),n){for(r=0;r<n;r++)this.buffer[this.leftover+r]=e[t+r];this.leftover+=n}},e.exports=t},7838:function(e,t,n){function r(e){e.fill(0)}var i;e.exports={sodium_malloc:function(e){return new Uint8Array(e)},sodium_free:function(e){r(e),function(){if(i)return i;var e=globalThis.MessageChannel;if(null==e){e=n(4599).MessageChannel}return i=new e}().port1.postMessage(e.buffer,[e.buffer])},sodium_memzero:r}},4138:function(e,t,n){var r=n(3577),i=function(){var e=globalThis.crypto||globalThis.msCrypto;return e&&e.getRandomValues?function(t,n){for(var r=0;r<n;r+=65536)e.getRandomValues(new Uint8Array(t.buffer,r+t.byteOffset,Math.min(n-r,65536)))}:null!=n(7364)&&(e=n(722))&&e.randomBytes?function(t,n){new Uint8Array(t.buffer,t.byteOffset,n).set(e.randomBytes(n))}:function(){throw new Error("No secure random number generator available")}}();Object.defineProperty(e.exports,"randombytes",{value:i}),e.exports.randombytes_buf=function(e){r(e,"out must be given"),i(e,e.byteLength)}},7243:function(e,t,n){var r=n(6690).default,i=n(9728).default,o=n(2635),a=n(4587),s=o.crypto_secretstream_xchacha20poly1305_ABYTES,u=o.crypto_secretstream_xchacha20poly1305_TAG_MESSAGE,l=o.crypto_secretstream_xchacha20poly1305_TAG_FINAL,c=o.crypto_secretstream_xchacha20poly1305_STATEBYTES,h=o.crypto_secretstream_xchacha20poly1305_HEADERBYTES,f=o.crypto_secretstream_xchacha20poly1305_KEYBYTES,d=a.isBuffer(l)?l[0]:l,p=a.alloc(0),g=a.alloc(1),y=function(){"use strict";function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:a.allocUnsafe(c),i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:a.allocUnsafe(h);if(r(this,e),!l)throw new Error("JavaScript sodium version needs to support crypto_secretstream_xchacha20poly");this.key=t,this.state=n,this.header=i,o.crypto_secretstream_xchacha20poly1305_init_push(this.state,this.header,this.key)}return i(e,[{key:"next",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:a.allocUnsafe(e.byteLength+s);return o.crypto_secretstream_xchacha20poly1305_push(this.state,t,e,null,u),t}},{key:"final",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:a.allocUnsafe(s);return o.crypto_secretstream_xchacha20poly1305_push(this.state,t,e,null,l),t}}]),e}(),A=function(){"use strict";function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:a.allocUnsafe(c);if(r(this,e),!l)throw new Error("JavaScript sodium version needs to support crypto_secretstream_xchacha20poly");this.key=t,this.state=n,this.final=!1}return i(e,[{key:"init",value:function(e){o.crypto_secretstream_xchacha20poly1305_init_pull(this.state,e,this.key)}},{key:"next",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:a.allocUnsafe(e.byteLength-s);return o.crypto_secretstream_xchacha20poly1305_pull(this.state,t,g,e,null),this.final=g[0]===d,t}}]),e}();e.exports={keygen:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a.alloc(f);return o.crypto_secretstream_xchacha20poly1305_keygen(e),e},KEYBYTES:f,ABYTES:s,STATEBYTES:c,HEADERBYTES:h,Push:y,Pull:A}},2296:function(e,t,n){e.exports=n(1712)},754:function(e,t,n){e.exports=n(1712)},5679:function(e,t,n){e.exports=n(1712)},2635:function(e,t,n){e.exports=n(1712)},5915:function(e,t,n){e.exports=n(1712)},1843:function(e,t,n){var r=n(4704).default,i=n(861).default,o=n(2122).default,a=n(8416).default,s=n(6115).default,u=n(1588).default,l=n(3808).default,c=n(1655).default,h=n(6389).default,f=n(6690).default,d=n(9728).default,p=n(7465).EventEmitter,g=new Error("Stream was destroyed"),y=new Error("Premature close"),A=n(5970),v=n(5125),b=67108863,_=4,m=8,k=1^b,I=16,w=128,E=256,x=1024,C=2048,S=4096,B=8192,Q=16384,L=32784,D=65536,M=768^b,P=1<<17,U=2<<17,N=4<<17,T=8<<17,O=16<<17,K=32<<17,R=64<<17,F=129<<17,Y=256<<17,z=66977791,H=66846719,j=131088,q=66977775,G=Q|K,V=_|m|2,W=1|V,J=V|G,X=16941072,Z=16809984|W,$=W|x|Q,ee=W|Q|w,te=W|x|w,ne=W|S|w|B,re=W|I|x|Q|D,ie=V|x|Q,oe=W|Y|K,ae=1179648,se=3145728|W|P,ue=W|P|T,le=W|Y|ae|K,ce=O|V|Y|K,he=Symbol.asyncIterator||Symbol("asyncIterator"),fe=function(){"use strict";function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.highWaterMark,i=void 0===r?16384:r,o=n.map,a=void 0===o?null:o,s=n.mapWritable,u=n.byteLength,l=n.byteLengthWritable;f(this,e),this.stream=t,this.queue=new v,this.highWaterMark=i,this.buffered=0,this.error=null,this.pipeline=null,this.byteLength=l||u||Ue,this.map=s||a,this.afterWrite=be.bind(this),this.afterUpdateNextTick=ke.bind(this)}return d(e,[{key:"ended",get:function(){return 0!==(this.stream._duplexState&K)}},{key:"push",value:function(e){return null!==this.map&&(e=this.map(e)),this.buffered+=this.byteLength(e),this.queue.push(e),this.buffered<this.highWaterMark?(this.stream._duplexState|=T,!0):(this.stream._duplexState|=3145728,!1)}},{key:"shift",value:function(){var e=this.queue.shift(),t=this.stream;return this.buffered-=this.byteLength(e),0===this.buffered&&(t._duplexState&=66060287),e}},{key:"end",value:function(e){"function"===typeof e?this.stream.once("finish",e):void 0!==e&&null!==e&&this.push(e),this.stream._duplexState=(this.stream._duplexState|Y)&H}},{key:"autoBatch",value:function(e,t){var n=[],r=this.stream;for(n.push(e);(r._duplexState&ue)===ae;)n.push(r._writableState.shift());if(0!==(r._duplexState&W))return t(null);r._writev(n,t)}},{key:"update",value:function(){for(var e=this.stream;(e._duplexState&ue)===T;){var t=this.shift();e._duplexState|=655360,e._write(t,this.afterWrite),e._duplexState&=66584575}0===(393216&e._duplexState)&&this.updateNonPrimary()}},{key:"updateNonPrimary",value:function(){var e=this.stream;if((e._duplexState&le)===Y)return e._duplexState=33554431&(e._duplexState|P),void e._final(Ae.bind(this));(e._duplexState&V)!==_?1===(e._duplexState&Z)&&(e._duplexState=(e._duplexState|j)&k,e._open(Ie.bind(this))):0===(e._duplexState&X)&&(e._duplexState|=j,e._destroy(ve.bind(this)))}},{key:"updateNextTick",value:function(){0===(this.stream._duplexState&F)&&(this.stream._duplexState|=F,A(this.afterUpdateNextTick))}}]),e}(),de=function(){"use strict";function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.highWaterMark,i=void 0===r?16384:r,o=n.map,a=void 0===o?null:o,s=n.mapReadable,u=n.byteLength,l=n.byteLengthReadable;f(this,e),this.stream=t,this.queue=new v,this.highWaterMark=i,this.buffered=0,this.error=null,this.pipeline=null,this.byteLength=l||u||Ue,this.map=s||a,this.pipeTo=null,this.afterRead=_e.bind(this),this.afterUpdateNextTick=me.bind(this)}return d(e,[{key:"ended",get:function(){return 0!==(this.stream._duplexState&Q)}},{key:"pipe",value:function(e,t){if(null!==this.pipeTo)throw new Error("Can only pipe to one destination");if("function"!==typeof t&&(t=null),this.stream._duplexState|=512,this.pipeTo=e,this.pipeline=new ge(this.stream,e,t),t&&this.stream.on("error",Ne),Pe(e))e._writableState.pipeline=this.pipeline,t&&e.on("error",Ne),e.on("finish",this.pipeline.finished.bind(this.pipeline));else{var n=this.pipeline.done.bind(this.pipeline,e),r=this.pipeline.done.bind(this.pipeline,e,null);e.on("error",n),e.on("close",r),e.on("finish",this.pipeline.finished.bind(this.pipeline))}e.on("drain",ye.bind(this)),this.stream.emit("piping",e),e.emit("pipe",this.stream)}},{key:"push",value:function(e){var t=this.stream;return null===e?(this.highWaterMark=0,t._duplexState=67043295&(t._duplexState|x),!1):(null!==this.map&&(e=this.map(e)),this.buffered+=this.byteLength(e),this.queue.push(e),t._duplexState=67043327&(t._duplexState|w),this.buffered<this.highWaterMark)}},{key:"shift",value:function(){var e=this.queue.shift();return this.buffered-=this.byteLength(e),0===this.buffered&&(this.stream._duplexState&=67100543),e}},{key:"unshift",value:function(e){for(var t,n=[];void 0!==(t=this.queue.shift());)n.push(t);this.push(e);for(var r=0;r<n.length;r++)this.queue.push(n[r])}},{key:"read",value:function(){var e=this.stream;if((e._duplexState&ee)===w){var t=this.shift();return null!==this.pipeTo&&!1===this.pipeTo.write(t)&&(e._duplexState&=M),0!==(e._duplexState&C)&&e.emit("data",t),t}return null}},{key:"drain",value:function(){for(var e=this.stream;(e._duplexState&ee)===w&&0!==(768&e._duplexState);){var t=this.shift();null!==this.pipeTo&&!1===this.pipeTo.write(t)&&(e._duplexState&=M),0!==(e._duplexState&C)&&e.emit("data",t)}}},{key:"update",value:function(){var e=this.stream;for(this.drain();this.buffered<this.highWaterMark&&0===(e._duplexState&re);)e._duplexState|=65616,e._read(this.afterRead),e._duplexState&=67108799,0===(e._duplexState&I)&&this.drain();4224===(e._duplexState&ne)&&(e._duplexState|=B,e.emit("readable")),0===(48&e._duplexState)&&this.updateNonPrimary()}},{key:"updateNonPrimary",value:function(){var e=this.stream;(e._duplexState&te)===x&&(e._duplexState=67107839&(e._duplexState|Q),e.emit("end"),(e._duplexState&J)===G&&(e._duplexState|=_),null!==this.pipeTo&&this.pipeTo.end()),(e._duplexState&V)!==_?1===(e._duplexState&Z)&&(e._duplexState=(e._duplexState|j)&k,e._open(Ie.bind(this))):0===(e._duplexState&X)&&(e._duplexState|=j,e._destroy(ve.bind(this)))}},{key:"updateNextTick",value:function(){0===(this.stream._duplexState&L)&&(this.stream._duplexState|=L,A(this.afterUpdateNextTick))}}]),e}(),pe=d((function e(t){"use strict";f(this,e),this.data=null,this.afterTransform=we.bind(t),this.afterFinal=null})),ge=function(){"use strict";function e(t,n,r){f(this,e),this.from=t,this.to=n,this.afterPipe=r,this.error=null,this.pipeToFinished=!1}return d(e,[{key:"finished",value:function(){this.pipeToFinished=!0}},{key:"done",value:function(e,t){t&&(this.error=t),e!==this.to||(this.to=null,null===this.from)?e!==this.from||(this.from=null,null===this.to)?(null!==this.afterPipe&&this.afterPipe(this.error),this.to=this.from=this.afterPipe=null):0===(e._duplexState&Q)&&this.to.destroy(this.error||new Error("Readable stream closed before ending")):0!==(this.from._duplexState&Q)&&this.pipeToFinished||this.from.destroy(this.error||new Error("Writable stream closed prematurely"))}}]),e}();function ye(){this.stream._duplexState|=512,0===(80&this.stream._duplexState)?this.updateNextTick():this.drain()}function Ae(e){var t=this.stream;e&&t.destroy(e),0===(t._duplexState&V)&&(t._duplexState|=K,t.emit("finish")),(t._duplexState&J)===G&&(t._duplexState|=_),t._duplexState&=z,this.update()}function ve(e){var t=this.stream;e||this.error===g||(e=this.error),e&&t.emit("error",e),t._duplexState|=m,t.emit("close");var n=t._readableState,r=t._writableState;null!==n&&null!==n.pipeline&&n.pipeline.done(t,e),null!==r&&null!==r.pipeline&&r.pipeline.done(t,e)}function be(e){var t=this.stream;e&&t.destroy(e),t._duplexState&=z,(t._duplexState&se)===O&&(t._duplexState&=65011711,(t._duplexState&R)===R&&t.emit("drain")),0===(t._duplexState&N)&&this.update()}function _e(e){e&&this.stream.destroy(e),this.stream._duplexState&=67108847,0===(64&this.stream._duplexState)&&this.update()}function me(){this.stream._duplexState&=67076079,this.update()}function ke(){this.stream._duplexState&=50200575,this.update()}function Ie(e){var t=this.stream;e&&t.destroy(e),0===(t._duplexState&_)&&(0===(t._duplexState&$)&&(t._duplexState|=32),0===(t._duplexState&oe)&&(t._duplexState|=U),t.emit("open")),t._duplexState&=q,null!==t._writableState&&t._writableState.update(),null!==t._readableState&&t._readableState.update()}function we(e,t){void 0!==t&&null!==t&&this.push(t),this._writableState.afterWrite(e)}var Ee=function(e){"use strict";c(n,e);var t=h(n);function n(e){var r;return f(this,n),(r=t.call(this))._duplexState=0,r._readableState=null,r._writableState=null,e&&(e.open&&(r._open=e.open),e.destroy&&(r._destroy=e.destroy),e.predestroy&&(r._predestroy=e.predestroy),e.signal&&e.signal.addEventListener("abort",Te.bind(s(r)))),r}return d(n,[{key:"_open",value:function(e){e(null)}},{key:"_destroy",value:function(e){e(null)}},{key:"_predestroy",value:function(){}},{key:"readable",get:function(){return null!==this._readableState||void 0}},{key:"writable",get:function(){return null!==this._writableState||void 0}},{key:"destroyed",get:function(){return 0!==(this._duplexState&m)}},{key:"destroying",get:function(){return 0!==(this._duplexState&V)}},{key:"destroy",value:function(e){0===(this._duplexState&V)&&(e||(e=g),this._duplexState=66846687&(this._duplexState|_),null!==this._readableState&&(this._readableState.error=e),null!==this._writableState&&(this._writableState.error=e),this._duplexState|=2,this._predestroy(),this._duplexState&=67108861,null!==this._readableState&&this._readableState.updateNextTick(),null!==this._writableState&&this._writableState.updateNextTick())}},{key:"on",value:function(e,t){return null!==this._readableState&&("data"===e&&(this._duplexState|=2304,this._readableState.updateNextTick()),"readable"===e&&(this._duplexState|=S,this._readableState.updateNextTick())),null!==this._writableState&&"drain"===e&&(this._duplexState|=R,this._writableState.updateNextTick()),u(l(n.prototype),"on",this).call(this,e,t)}}]),n}(p),xe=function(e){"use strict";c(n,e);var t=h(n);function n(e){var r;return f(this,n),(r=t.call(this,e))._duplexState|=1|K,r._readableState=new de(s(r),e),e&&(e.read&&(r._read=e.read),e.eagerOpen&&r.resume().pause()),r}return d(n,[{key:"_read",value:function(e){e(null)}},{key:"pipe",value:function(e,t){return this._readableState.pipe(e,t),this._readableState.updateNextTick(),e}},{key:"read",value:function(){return this._readableState.updateNextTick(),this._readableState.read()}},{key:"push",value:function(e){return this._readableState.updateNextTick(),this._readableState.push(e)}},{key:"unshift",value:function(e){return this._readableState.updateNextTick(),this._readableState.unshift(e)}},{key:"resume",value:function(){return this._duplexState|=E,this._readableState.updateNextTick(),this}},{key:"pause",value:function(){return this._duplexState&=67108607,this}},{key:he,value:function(){var e,t=this,n=null,r=null,i=null;return this.on("error",(function(e){n=e})),this.on("readable",(function(){null!==r&&o(t.read())})),this.on("close",(function(){null!==r&&o(null)})),a(e={},he,(function(){return this})),a(e,"next",(function(){return new Promise((function(e,n){r=e,i=n;var a=t.read();null!==a?o(a):0!==(t._duplexState&m)&&o(null)}))})),a(e,"return",(function(){return s(null)})),a(e,"throw",(function(e){return s(e)})),e;function o(e){null!==i&&(n?i(n):null===e&&0===(t._duplexState&Q)?i(g):r({value:e,done:null===e}),i=r=null)}function s(e){return t.destroy(e),new Promise((function(n,r){if(t._duplexState&m)return n({value:void 0,done:!0});t.once("close",(function(){e?r(e):n({value:void 0,done:!0})}))}))}}}],[{key:"_fromAsyncIterator",value:function(e,t){var r,i=new n(o(o({},t),{},{read:function(t){e.next().then(a).then(t.bind(null,null)).catch(t)},predestroy:function(){r=e.return()},destroy:function(e){if(!r)return e(null);r.then(e.bind(null,null)).catch(e)}}));return i;function a(e){e.done?i.push(null):i.push(e.value)}}},{key:"from",value:function(e,t){if(Pe(r=e)&&r.readable)return e;var r;if(e[he])return this._fromAsyncIterator(e[he](),t);Array.isArray(e)||(e=void 0===e?[]:[e]);var i=0;return new n(o(o({},t),{},{read:function(t){this.push(i===e.length?null:e[i++]),t(null)}}))}},{key:"isBackpressured",value:function(e){return 0!==(e._duplexState&ie)||e._readableState.buffered>=e._readableState.highWaterMark}},{key:"isPaused",value:function(e){return 0===(e._duplexState&E)}}]),n}(Ee),Ce=function(e){"use strict";c(n,e);var t=h(n);function n(e){var r;return f(this,n),(r=t.call(this,e))._duplexState|=16385,r._writableState=new fe(s(r),e),e&&(e.writev&&(r._writev=e.writev),e.write&&(r._write=e.write),e.final&&(r._final=e.final)),r}return d(n,[{key:"_writev",value:function(e,t){t(null)}},{key:"_write",value:function(e,t){this._writableState.autoBatch(e,t)}},{key:"_final",value:function(e){e(null)}},{key:"write",value:function(e){return this._writableState.updateNextTick(),this._writableState.push(e)}},{key:"end",value:function(e){return this._writableState.updateNextTick(),this._writableState.end(e),this}}],[{key:"isBackpressured",value:function(e){return 0!==(e._duplexState&ce)}}]),n}(Ee),Se=function(e){"use strict";c(n,e);var t=h(n);function n(e){var r;return f(this,n),(r=t.call(this,e))._duplexState=1,r._writableState=new fe(s(r),e),e&&(e.writev&&(r._writev=e.writev),e.write&&(r._write=e.write),e.final&&(r._final=e.final)),r}return d(n,[{key:"_writev",value:function(e,t){t(null)}},{key:"_write",value:function(e,t){this._writableState.autoBatch(e,t)}},{key:"_final",value:function(e){e(null)}},{key:"write",value:function(e){return this._writableState.updateNextTick(),this._writableState.push(e)}},{key:"end",value:function(e){return this._writableState.updateNextTick(),this._writableState.end(e),this}}]),n}(xe),Be=function(e){"use strict";c(n,e);var t=h(n);function n(e){var r;return f(this,n),(r=t.call(this,e))._transformState=new pe(s(r)),e&&(e.transform&&(r._transform=e.transform),e.flush&&(r._flush=e.flush)),r}return d(n,[{key:"_write",value:function(e,t){this._readableState.buffered>=this._readableState.highWaterMark?this._transformState.data=e:this._transform(e,this._transformState.afterTransform)}},{key:"_read",value:function(e){if(null!==this._transformState.data){var t=this._transformState.data;this._transformState.data=null,e(null),this._transform(t,this._transformState.afterTransform)}else e(null)}},{key:"_transform",value:function(e,t){t(null,e)}},{key:"_flush",value:function(e){e(null)}},{key:"_final",value:function(e){this._transformState.afterFinal=e,this._flush(Le.bind(this))}}]),n}(Se),Qe=function(e){"use strict";c(n,e);var t=h(n);function n(){return f(this,n),t.apply(this,arguments)}return d(n)}(Be);function Le(e,t){var n=this._transformState.afterFinal;if(e)return n(e);null!==t&&void 0!==t&&this.push(t),this.push(null),n(null)}function De(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];var a=Array.isArray(e)?[].concat(i(e),n):[e].concat(n),s=a.length&&"function"===typeof a[a.length-1]?a.pop():null;if(a.length<2)throw new Error("Pipeline requires at least 2 streams");for(var u=a[0],l=null,c=null,h=1;h<a.length;h++)l=a[h],Pe(u)?u.pipe(l,p):(d(u,!0,h>1,p),u.pipe(l)),u=l;if(s){var f=!1;l.on("finish",(function(){f=!0})),l.on("error",(function(e){c=c||e})),l.on("close",(function(){return s(c||(f?null:y))}))}return l;function d(e,t,n,r){e.on("error",r),e.on("close",(function(){if(t&&e._readableState&&!e._readableState.ended)return r(y);if(n&&e._writableState&&!e._writableState.ended)return r(y)}))}function p(e){if(e&&!c){c=e;var t,n=r(a);try{for(n.s();!(t=n.n()).done;){t.value.destroy(e)}}catch(e){n.e(e)}finally{n.f()}}}}function Me(e){return!!e._readableState||!!e._writableState}function Pe(e){return"number"===typeof e._duplexState&&Me(e)}function Ue(e){return function(e){return"object"===typeof e&&null!==e&&"number"===typeof e.byteLength}(e)?e.byteLength:1024}function Ne(){}function Te(){this.destroy(new Error("Stream aborted."))}e.exports={pipeline:De,pipelinePromise:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new Promise((function(e,n){return De.apply(void 0,t.concat([function(t){if(t)return n(t);e()}]))}))},isStream:Me,isStreamx:Pe,getStreamError:function(e){return e._readableState&&e._readableState.error||e._writableState&&e._writableState.error},Stream:Ee,Writable:Ce,Readable:xe,Duplex:Se,Transform:Be,PassThrough:Qe}},7228:function(e,t,n){var r=n(6690).default,i=n(9728).default;function o(e){e.done=!0,e.ontimeout.call(e.context)}function a(e){e.ontimeout.call(e.context)}e.exports=function(){"use strict";function e(t,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,s=arguments.length>3&&void 0!==arguments[3]&&arguments[3];r(this,e),this.ms=t,this.ontimeout=n,this.context=i||null,this.interval=s,this.done=!1,this._timer=s?setInterval(a,t,this):setTimeout(o,t,this)}return i(e,[{key:"unref",value:function(){}},{key:"ref",value:function(){}},{key:"refresh",value:function(){this.done||(this.interval?(clearInterval(this._timer),this._timer=setInterval(a,this.ms,this)):(clearTimeout(this._timer),this._timer=setTimeout(o,this.ms,this)))}},{key:"destroy",value:function(){this.done=!0,this.ontimeout=null,this.interval?clearInterval(this._timer):clearTimeout(this._timer)}}],[{key:"once",value:function(e,t,n){return new this(e,t,n,!1)}},{key:"on",value:function(e,t,n){return new this(e,t,n,!0)}}]),e}()},7984:function(e,t){function n(e,t){return t._index<e.length&&e[t._index]===t}t.add=function(e,t){return n(e,t)||(t._index=e.length,e.push(t)),t},t.has=n,t.remove=function(e,t){if(!n(e,t))return null;var r=e.pop();r!==t&&(e[t._index]=r,r._index=t._index);return t},t.swap=function(e,t,r){if(!n(e,t)||!n(e,r))return;var i=t._index;t._index=r._index,e[t._index]=t,r._index=i,e[r._index]=r}},7579:function(e,t,n){var r=n(7061).default,i=n(6690).default,o=n(9728).default;function a(){return new Map}e.exports=function(e){"use strict";function t(e){var n=e.maxSize,r=e.maxAge,o=e.createMap;if(i(this,t),this.maxSize=n,this.maxAge=r,this._createMap=o||a,this._latest=this._createMap(),this._oldest=this._createMap(),this._retained=this._createMap(),this._gced=!1,this._interval=null,this.maxAge>0&&this.maxAge<1/0){var s=Math.ceil(2/3*this.maxAge);this._interval=setInterval(this._gcAuto.bind(this),s),this._interval.unref&&this._interval.unref()}}return o(t,[{key:e,value:r().mark((function e(){var t,n,i;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=0,n=[this._latest,this._oldest,this._retained];case 1:if(!(t<n.length)){e.next=7;break}return i=n[t],e.delegateYield(i,"t0",4);case 4:t++,e.next=1;break;case 7:case"end":return e.stop()}}),e,this)}))},{key:"keys",value:r().mark((function e(){var t,n,i;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=0,n=[this._latest,this._oldest,this._retained];case 1:if(!(t<n.length)){e.next=7;break}return i=n[t],e.delegateYield(i.keys(),"t0",4);case 4:t++,e.next=1;break;case 7:case"end":return e.stop()}}),e,this)}))},{key:"values",value:r().mark((function e(){var t,n,i;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=0,n=[this._latest,this._oldest,this._retained];case 1:if(!(t<n.length)){e.next=7;break}return i=n[t],e.delegateYield(i.values(),"t0",4);case 4:t++,e.next=1;break;case 7:case"end":return e.stop()}}),e,this)}))},{key:"destroy",value:function(){this.clear(),clearInterval(this._interval),this._interval=null}},{key:"clear",value:function(){this._gced=!0,this._latest.clear(),this._oldest.clear(),this._retained.clear()}},{key:"set",value:function(e,t){return this._retained.has(e)||(this._latest.set(e,t),this._oldest.delete(e)||this._retained.delete(e),this._latest.size>=this.maxSize&&this._gc()),this}},{key:"retain",value:function(e,t){return this._retained.set(e,t),this._latest.delete(e)||this._oldest.delete(e),this}},{key:"delete",value:function(e){return this._latest.delete(e)||this._oldest.delete(e)||this._retained.delete(e)}},{key:"has",value:function(e){return this._latest.has(e)||this._oldest.has(e)||this._retained.has(e)}},{key:"get",value:function(e){if(this._latest.has(e))return this._latest.get(e);if(this._oldest.has(e)){var t=this._oldest.get(e);return this._latest.set(e,t),this._oldest.delete(e),t}return this._retained.has(e)?this._retained.get(e):null}},{key:"_gcAuto",value:function(){this._gced||this._gc(),this._gced=!1}},{key:"_gc",value:function(){this._gced=!0,this._oldest=this._latest,this._latest=this._createMap()}}]),t}(Symbol.iterator)},3676:function(e,t,n){var r="undefined"!==typeof WebAssembly&&n(4641)(),i=new Uint8Array([101,120,112,97,110,100,32,51,50,45,98,121,116,101,32,107]),o=144,a=o,s=[];function u(e,t){if(!(this instanceof u))return new u(e,t);if(!e||e.length<24)throw new Error("nonce must be at least 24 bytes");if(!t||t.length<32)throw new Error("key must be at least 32 bytes");this._xor=r?new l(e,t):new c(e,t)}function l(e,t){s.length||(s.push(o),o+=64),this._pointer=s.pop(),this._nonce=this._pointer+8,this._key=this._nonce+24,this._overflow=0,this._memory=new Uint8Array(r.memory.buffer),this._memory.fill(0,this._pointer,this._pointer+8),this._memory.set(e,this._nonce),this._memory.set(t,this._key)}function c(e,t){this._s=new Uint8Array(32),this._z=new Uint8Array(16),this._overflow=0,f(this._s,e,t,i);for(var n=0;n<8;n++)this._z[n]=e[n+16]}function h(e,t,n,r){for(var i,o=255&r[0]|(255&r[1])<<8|(255&r[2])<<16|(255&r[3])<<24,a=255&n[0]|(255&n[1])<<8|(255&n[2])<<16|(255&n[3])<<24,s=255&n[4]|(255&n[5])<<8|(255&n[6])<<16|(255&n[7])<<24,u=255&n[8]|(255&n[9])<<8|(255&n[10])<<16|(255&n[11])<<24,l=255&n[12]|(255&n[13])<<8|(255&n[14])<<16|(255&n[15])<<24,c=255&r[4]|(255&r[5])<<8|(255&r[6])<<16|(255&r[7])<<24,h=255&t[0]|(255&t[1])<<8|(255&t[2])<<16|(255&t[3])<<24,f=255&t[4]|(255&t[5])<<8|(255&t[6])<<16|(255&t[7])<<24,d=255&t[8]|(255&t[9])<<8|(255&t[10])<<16|(255&t[11])<<24,p=255&t[12]|(255&t[13])<<8|(255&t[14])<<16|(255&t[15])<<24,g=255&r[8]|(255&r[9])<<8|(255&r[10])<<16|(255&r[11])<<24,y=255&n[16]|(255&n[17])<<8|(255&n[18])<<16|(255&n[19])<<24,A=255&n[20]|(255&n[21])<<8|(255&n[22])<<16|(255&n[23])<<24,v=255&n[24]|(255&n[25])<<8|(255&n[26])<<16|(255&n[27])<<24,b=255&n[28]|(255&n[29])<<8|(255&n[30])<<16|(255&n[31])<<24,_=255&r[12]|(255&r[13])<<8|(255&r[14])<<16|(255&r[15])<<24,m=o,k=a,I=s,w=u,E=l,x=c,C=h,S=f,B=d,Q=p,L=g,D=y,M=A,P=v,U=b,N=_,T=0;T<20;T+=2)m^=(i=(M^=(i=(B^=(i=(E^=(i=m+M|0)<<7|i>>>25)+m|0)<<9|i>>>23)+E|0)<<13|i>>>19)+B|0)<<18|i>>>14,x^=(i=(k^=(i=(P^=(i=(Q^=(i=x+k|0)<<7|i>>>25)+x|0)<<9|i>>>23)+Q|0)<<13|i>>>19)+P|0)<<18|i>>>14,L^=(i=(C^=(i=(I^=(i=(U^=(i=L+C|0)<<7|i>>>25)+L|0)<<9|i>>>23)+U|0)<<13|i>>>19)+I|0)<<18|i>>>14,N^=(i=(D^=(i=(S^=(i=(w^=(i=N+D|0)<<7|i>>>25)+N|0)<<9|i>>>23)+w|0)<<13|i>>>19)+S|0)<<18|i>>>14,m^=(i=(w^=(i=(I^=(i=(k^=(i=m+w|0)<<7|i>>>25)+m|0)<<9|i>>>23)+k|0)<<13|i>>>19)+I|0)<<18|i>>>14,x^=(i=(E^=(i=(S^=(i=(C^=(i=x+E|0)<<7|i>>>25)+x|0)<<9|i>>>23)+C|0)<<13|i>>>19)+S|0)<<18|i>>>14,L^=(i=(Q^=(i=(B^=(i=(D^=(i=L+Q|0)<<7|i>>>25)+L|0)<<9|i>>>23)+D|0)<<13|i>>>19)+B|0)<<18|i>>>14,N^=(i=(U^=(i=(P^=(i=(M^=(i=N+U|0)<<7|i>>>25)+N|0)<<9|i>>>23)+M|0)<<13|i>>>19)+P|0)<<18|i>>>14;m=m+o|0,k=k+a|0,I=I+s|0,w=w+u|0,E=E+l|0,x=x+c|0,C=C+h|0,S=S+f|0,B=B+d|0,Q=Q+p|0,L=L+g|0,D=D+y|0,M=M+A|0,P=P+v|0,U=U+b|0,N=N+_|0,e[0]=m>>>0&255,e[1]=m>>>8&255,e[2]=m>>>16&255,e[3]=m>>>24&255,e[4]=k>>>0&255,e[5]=k>>>8&255,e[6]=k>>>16&255,e[7]=k>>>24&255,e[8]=I>>>0&255,e[9]=I>>>8&255,e[10]=I>>>16&255,e[11]=I>>>24&255,e[12]=w>>>0&255,e[13]=w>>>8&255,e[14]=w>>>16&255,e[15]=w>>>24&255,e[16]=E>>>0&255,e[17]=E>>>8&255,e[18]=E>>>16&255,e[19]=E>>>24&255,e[20]=x>>>0&255,e[21]=x>>>8&255,e[22]=x>>>16&255,e[23]=x>>>24&255,e[24]=C>>>0&255,e[25]=C>>>8&255,e[26]=C>>>16&255,e[27]=C>>>24&255,e[28]=S>>>0&255,e[29]=S>>>8&255,e[30]=S>>>16&255,e[31]=S>>>24&255,e[32]=B>>>0&255,e[33]=B>>>8&255,e[34]=B>>>16&255,e[35]=B>>>24&255,e[36]=Q>>>0&255,e[37]=Q>>>8&255,e[38]=Q>>>16&255,e[39]=Q>>>24&255,e[40]=L>>>0&255,e[41]=L>>>8&255,e[42]=L>>>16&255,e[43]=L>>>24&255,e[44]=D>>>0&255,e[45]=D>>>8&255,e[46]=D>>>16&255,e[47]=D>>>24&255,e[48]=M>>>0&255,e[49]=M>>>8&255,e[50]=M>>>16&255,e[51]=M>>>24&255,e[52]=P>>>0&255,e[53]=P>>>8&255,e[54]=P>>>16&255,e[55]=P>>>24&255,e[56]=U>>>0&255,e[57]=U>>>8&255,e[58]=U>>>16&255,e[59]=U>>>24&255,e[60]=N>>>0&255,e[61]=N>>>8&255,e[62]=N>>>16&255,e[63]=N>>>24&255}function f(e,t,n,r){for(var i,o=255&r[0]|(255&r[1])<<8|(255&r[2])<<16|(255&r[3])<<24,a=255&n[0]|(255&n[1])<<8|(255&n[2])<<16|(255&n[3])<<24,s=255&n[4]|(255&n[5])<<8|(255&n[6])<<16|(255&n[7])<<24,u=255&n[8]|(255&n[9])<<8|(255&n[10])<<16|(255&n[11])<<24,l=255&n[12]|(255&n[13])<<8|(255&n[14])<<16|(255&n[15])<<24,c=255&r[4]|(255&r[5])<<8|(255&r[6])<<16|(255&r[7])<<24,h=255&t[0]|(255&t[1])<<8|(255&t[2])<<16|(255&t[3])<<24,f=255&t[4]|(255&t[5])<<8|(255&t[6])<<16|(255&t[7])<<24,d=255&t[8]|(255&t[9])<<8|(255&t[10])<<16|(255&t[11])<<24,p=255&t[12]|(255&t[13])<<8|(255&t[14])<<16|(255&t[15])<<24,g=255&r[8]|(255&r[9])<<8|(255&r[10])<<16|(255&r[11])<<24,y=255&n[16]|(255&n[17])<<8|(255&n[18])<<16|(255&n[19])<<24,A=255&n[20]|(255&n[21])<<8|(255&n[22])<<16|(255&n[23])<<24,v=255&n[24]|(255&n[25])<<8|(255&n[26])<<16|(255&n[27])<<24,b=255&n[28]|(255&n[29])<<8|(255&n[30])<<16|(255&n[31])<<24,_=255&r[12]|(255&r[13])<<8|(255&r[14])<<16|(255&r[15])<<24,m=0;m<20;m+=2)o^=(i=(A^=(i=(d^=(i=(l^=(i=o+A|0)<<7|i>>>25)+o|0)<<9|i>>>23)+l|0)<<13|i>>>19)+d|0)<<18|i>>>14,c^=(i=(a^=(i=(v^=(i=(p^=(i=c+a|0)<<7|i>>>25)+c|0)<<9|i>>>23)+p|0)<<13|i>>>19)+v|0)<<18|i>>>14,g^=(i=(h^=(i=(s^=(i=(b^=(i=g+h|0)<<7|i>>>25)+g|0)<<9|i>>>23)+b|0)<<13|i>>>19)+s|0)<<18|i>>>14,_^=(i=(y^=(i=(f^=(i=(u^=(i=_+y|0)<<7|i>>>25)+_|0)<<9|i>>>23)+u|0)<<13|i>>>19)+f|0)<<18|i>>>14,o^=(i=(u^=(i=(s^=(i=(a^=(i=o+u|0)<<7|i>>>25)+o|0)<<9|i>>>23)+a|0)<<13|i>>>19)+s|0)<<18|i>>>14,c^=(i=(l^=(i=(f^=(i=(h^=(i=c+l|0)<<7|i>>>25)+c|0)<<9|i>>>23)+h|0)<<13|i>>>19)+f|0)<<18|i>>>14,g^=(i=(p^=(i=(d^=(i=(y^=(i=g+p|0)<<7|i>>>25)+g|0)<<9|i>>>23)+y|0)<<13|i>>>19)+d|0)<<18|i>>>14,_^=(i=(b^=(i=(v^=(i=(A^=(i=_+b|0)<<7|i>>>25)+_|0)<<9|i>>>23)+A|0)<<13|i>>>19)+v|0)<<18|i>>>14;e[0]=o>>>0&255,e[1]=o>>>8&255,e[2]=o>>>16&255,e[3]=o>>>24&255,e[4]=c>>>0&255,e[5]=c>>>8&255,e[6]=c>>>16&255,e[7]=c>>>24&255,e[8]=g>>>0&255,e[9]=g>>>8&255,e[10]=g>>>16&255,e[11]=g>>>24&255,e[12]=_>>>0&255,e[13]=_>>>8&255,e[14]=_>>>16&255,e[15]=_>>>24&255,e[16]=h>>>0&255,e[17]=h>>>8&255,e[18]=h>>>16&255,e[19]=h>>>24&255,e[20]=f>>>0&255,e[21]=f>>>8&255,e[22]=f>>>16&255,e[23]=f>>>24&255,e[24]=d>>>0&255,e[25]=d>>>8&255,e[26]=d>>>16&255,e[27]=d>>>24&255,e[28]=p>>>0&255,e[29]=p>>>8&255,e[30]=p>>>16&255,e[31]=p>>>24&255}e.exports=u,u.NONCEBYTES=24,u.KEYBYTES=32,u.core_hsalsa20=f,u.SIGMA=i,u.prototype.update=function(e,t){if(!e)throw new Error("input must be Uint8Array or Buffer");return t||(t=new Uint8Array(e.length)),e.length&&this._xor.update(e,t),t},u.prototype.final=u.prototype.finalize=function(){this._xor.finalize(),this._xor=null},l.prototype.realloc=function(e){r.memory.grow(Math.ceil(Math.abs(e-this._memory.length)/65536)),this._memory=new Uint8Array(r.memory.buffer)},l.prototype.update=function(e,t){var n=this._overflow+e.length,i=o+this._overflow;(a=o+n)>=this._memory.length&&this.realloc(a),this._memory.set(e,i),r.xsalsa20_xor(this._pointer,o,o,n,this._nonce,this._key),t.set(this._memory.subarray(i,o+n)),this._overflow=63&n},l.prototype.finalize=function(){this._memory.fill(0,this._pointer,this._key+32),a>o&&(this._memory.fill(0,o,a),a=0),s.push(this._pointer)},c.prototype.update=function(e,t){for(var n=new Uint8Array(64),r=0,o=this._overflow,a=e.length+this._overflow,s=this._z,u=-this._overflow,l=-this._overflow;a>=64;){for(h(n,s,this._s,i);o<64;o++)t[l+o]=e[u+o]^n[o];for(r=1,o=8;o<16;o++)r+=255&s[o]|0,s[o]=255&r,r>>>=8;a-=64,l+=64,u+=64,o=0}if(a>0)for(h(n,s,this._s,i);o<a;o++)t[l+o]=e[u+o]^n[o];this._overflow=63&a},c.prototype.finalize=function(){this._s.fill(0),this._z.fill(0)}},4641:function(e){var t,n,r=function(){for(var e=new Uint8Array(128),t=0;t<64;t++)e[t<26?t+65:t<52?t+71:t<62?t-4:4*t-205]=t;return function(t){for(var n=t.length,r=new Uint8Array(3*(n-("="==t[n-1])-("="==t[n-2]))/4|0),i=0,o=0;i<n;){var a=e[t.charCodeAt(i++)],s=e[t.charCodeAt(i++)],u=e[t.charCodeAt(i++)],l=e[t.charCodeAt(i++)];r[o++]=a<<2|s>>4,r[o++]=s<<4|u>>2,r[o++]=u<<6|l}return r}}(),i=(t={"wasm-binary:./xsalsa20.wat":function(e,t){t.exports=r("AGFzbQEAAAABGgNgBn9/f39/fwBgBn9/f39+fwF+YAN/f38AAwcGAAEBAgICBQUBAQroBwcoAwZtZW1vcnkCAAx4c2Fsc2EyMF94b3IAAAxjb3JlX3NhbHNhMjAABArqEQYYACAAIAEgAiADIAQgACkDACAFEAE3AwALPQBB8AAgAyAFEAMgACABIAIgA0EQaiAEQfAAEAJB8ABCADcDAEH4AEIANwMAQYABQgA3AwBBiAFCADcDAAuHBQEBfyACQQBGBEBCAA8LQdAAIAUpAwA3AwBB2AAgBUEIaikDADcDAEHgACAFQRBqKQMANwMAQegAIAVBGGopAwA3AwBBACADKQMANwMAQQggBDcDAAJAA0AgAkHAAEkNAUEQQQBB0AAQBSAAIAEpAwBBECkDAIU3AwAgAEEIaiABQQhqKQMAQRgpAwCFNwMAIABBEGogAUEQaikDAEEgKQMAhTcDACAAQRhqIAFBGGopAwBBKCkDAIU3AwAgAEEgaiABQSBqKQMAQTApAwCFNwMAIABBKGogAUEoaikDAEE4KQMAhTcDACAAQTBqIAFBMGopAwBBwAApAwCFNwMAIABBOGogAUE4aikDAEHIACkDAIU3AwBBCEEIKQMAQgF8NwMAIABBwABqIQAgAUHAAGohASACQcAAayECDAALC0EIKQMAIQQgAkEASwRAQRBBAEHQABAFAkACQAJAAkACQAJAAkACQCACQQhuDgcHBgUEAwIBAAsgAEE4aiABQThqKQMAQcgAKQMAhTcDAAsgAEEwaiABQTBqKQMAQcAAKQMAhTcDAAsgAEEoaiABQShqKQMAQTgpAwCFNwMACyAAQSBqIAFBIGopAwBBMCkDAIU3AwALIABBGGogAUEYaikDAEEoKQMAhTcDAAsgAEEQaiABQRBqKQMAQSApAwCFNwMACyAAQQhqIAFBCGopAwBBGCkDAIU3AwALIAAgASkDAEEQKQMAhTcDAAtBEEIANwMAQRhCADcDAEEgQgA3AwBBKEIANwMAQTBCADcDAEE4QgA3AwBBwABCADcDAEHIAEIANwMAQdAAQgA3AwBB2ABCADcDAEHgAEIANwMAQegAQgA3AwAgBA8LnQUBEX9B5fDBiwYhA0HuyIGZAyEIQbLaiMsHIQ1B9MqB2QYhEiACKAIAIQQgAkEEaigCACEFIAJBCGooAgAhBiACQQxqKAIAIQcgAkEQaigCACEOIAJBFGooAgAhDyACQRhqKAIAIRAgAkEcaigCACERIAEoAgAhCSABQQRqKAIAIQogAUEIaigCACELIAFBDGooAgAhDEEUIRMCQANAIBNBAEYNASAHIAMgD2pBB3dzIQcgCyAHIANqQQl3cyELIA8gCyAHakENd3MhDyADIA8gC2pBEndzIQMgDCAIIARqQQd3cyEMIBAgDCAIakEJd3MhECAEIBAgDGpBDXdzIQQgCCAEIBBqQRJ3cyEIIBEgDSAJakEHd3MhESAFIBEgDWpBCXdzIQUgCSAFIBFqQQ13cyEJIA0gCSAFakESd3MhDSAGIBIgDmpBB3dzIQYgCiAGIBJqQQl3cyEKIA4gCiAGakENd3MhDiASIA4gCmpBEndzIRIgBCADIAZqQQd3cyEEIAUgBCADakEJd3MhBSAGIAUgBGpBDXdzIQYgAyAGIAVqQRJ3cyEDIAkgCCAHakEHd3MhCSAKIAkgCGpBCXdzIQogByAKIAlqQQ13cyEHIAggByAKakESd3MhCCAOIA0gDGpBB3dzIQ4gCyAOIA1qQQl3cyELIAwgCyAOakENd3MhDCANIAwgC2pBEndzIQ0gDyASIBFqQQd3cyEPIBAgDyASakEJd3MhECARIBAgD2pBDXdzIREgEiARIBBqQRJ3cyESIBNBAmshEwwACwsgACADNgIAIABBBGogCDYCACAAQQhqIA02AgAgAEEMaiASNgIAIABBEGogCTYCACAAQRRqIAo2AgAgAEEYaiALNgIAIABBHGogDDYCAAsKACAAIAEgAhAFC90GASF/QeXwwYsGIQNB7siBmQMhCEGy2ojLByENQfTKgdkGIRIgAigCACEEIAJBBGooAgAhBSACQQhqKAIAIQYgAkEMaigCACEHIAJBEGooAgAhDiACQRRqKAIAIQ8gAkEYaigCACEQIAJBHGooAgAhESABKAIAIQkgAUEEaigCACEKIAFBCGooAgAhCyABQQxqKAIAIQwgAyETIAQhFCAFIRUgBiEWIAchFyAIIRggCSEZIAohGiALIRsgDCEcIA0hHSAOIR4gDyEfIBAhICARISEgEiEiQRQhIwJAA0AgI0EARg0BIAcgAyAPakEHd3MhByALIAcgA2pBCXdzIQsgDyALIAdqQQ13cyEPIAMgDyALakESd3MhAyAMIAggBGpBB3dzIQwgECAMIAhqQQl3cyEQIAQgECAMakENd3MhBCAIIAQgEGpBEndzIQggESANIAlqQQd3cyERIAUgESANakEJd3MhBSAJIAUgEWpBDXdzIQkgDSAJIAVqQRJ3cyENIAYgEiAOakEHd3MhBiAKIAYgEmpBCXdzIQogDiAKIAZqQQ13cyEOIBIgDiAKakESd3MhEiAEIAMgBmpBB3dzIQQgBSAEIANqQQl3cyEFIAYgBSAEakENd3MhBiADIAYgBWpBEndzIQMgCSAIIAdqQQd3cyEJIAogCSAIakEJd3MhCiAHIAogCWpBDXdzIQcgCCAHIApqQRJ3cyEIIA4gDSAMakEHd3MhDiALIA4gDWpBCXdzIQsgDCALIA5qQQ13cyEMIA0gDCALakESd3MhDSAPIBIgEWpBB3dzIQ8gECAPIBJqQQl3cyEQIBEgECAPakENd3MhESASIBEgEGpBEndzIRIgI0ECayEjDAALCyAAIAMgE2o2AgAgAEEEaiAEIBRqNgIAIABBCGogBSAVajYCACAAQQxqIAYgFmo2AgAgAEEQaiAHIBdqNgIAIABBFGogCCAYajYCACAAQRhqIAkgGWo2AgAgAEEcaiAKIBpqNgIAIABBIGogCyAbajYCACAAQSRqIAwgHGo2AgAgAEEoaiANIB1qNgIAIABBLGogDiAeajYCACAAQTBqIA8gH2o2AgAgAEE0aiAQICBqNgIAIABBOGogESAhajYCACAAQTxqIBIgImo2AgAL")}},function(){return n||(0,t[Object.keys(t)[0]])((n={exports:{}}).exports,n),n.exports})(),o=new WebAssembly.Module(i);e.exports=function(e){return new WebAssembly.Instance(o,e).exports}},7254:function(e,t,n){var r=n(4587),i="ybndrfg8ejkmcpqxot1uwisza345h769".split(""),o=49,a=122,s=new Int8Array(1+a-o);s.fill(-1);for(var u=0;u<i.length;u++){var l=i[u].charCodeAt(0)-o;s[l]=u}function c(e,t){if(t>e.length)return 0;var n=e.charCodeAt(t);if(n<o||n>a)throw Error('Invalid character in base32 input: "'+e[t]+'" at position '+t);var r=s[n-o];if(-1===r)throw Error('Invalid character in base32 input: "'+e[t]+'" at position '+t);return r}t.encode=function(e){"string"===typeof e&&(e=r.from(e));for(var t=8*e.byteLength,n="",o=0;o<t;o+=5){var a=o>>3,s=7&o;if(s<=3)n+=i[e[a]>>3-s&31];else{var u=s-3,l=e[a]<<u&31,c=(a>=e.length?0:e[a+1])>>8-u;n+=i[l|c]}}return n},t.decode=function(e,t){var n=0,i=0,o=7&e.length,a=(e.length-o)/8;t||(t=r.allocUnsafe(Math.ceil(5*e.length/8)));for(var s=0;s<a;s++){var u=c(e,i++),l=c(e,i++),h=c(e,i++),f=c(e,i++),d=c(e,i++),p=c(e,i++),g=c(e,i++),y=c(e,i++);t[n++]=u<<3|l>>2,t[n++]=(3&l)<<6|h<<1|f>>4,t[n++]=(15&f)<<4|d>>1,t[n++]=(1&d)<<7|p<<2|g>>3,t[n++]=(7&g)<<5|y}if(0===o)return t.subarray(0,n);var A=c(e,i++),v=c(e,i++);if(t[n++]=A<<3|v>>2,o<=2)return t.subarray(0,n);var b=c(e,i++),_=c(e,i++);if(t[n++]=(3&v)<<6|b<<1|_>>4,o<=4)return t.subarray(0,n);var m=c(e,i++);if(t[n++]=(15&_)<<4|m>>1,o<=5)return t.subarray(0,n);var k=c(e,i++),I=c(e,i++);if(t[n++]=(1&m)<<7|k<<2|I>>3,o<=7)return t.subarray(0,n);var w=c(e,i++);return t[n++]=(7&I)<<5|w,t.subarray(0,n)}},7364:function(e){function t(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}t.keys=function(){return[]},t.resolve=t,t.id=7364,e.exports=t},722:function(){},4599:function(){},3897:function(e){e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r},e.exports.__esModule=!0,e.exports.default=e.exports},5372:function(e){e.exports=function(e){if(Array.isArray(e))return e},e.exports.__esModule=!0,e.exports.default=e.exports},3405:function(e,t,n){var r=n(3897);e.exports=function(e){if(Array.isArray(e))return r(e)},e.exports.__esModule=!0,e.exports.default=e.exports},6115:function(e){e.exports=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e},e.exports.__esModule=!0,e.exports.default=e.exports},8237:function(e){function t(e){function n(e){if(Object(e)!==e)return Promise.reject(new TypeError(e+" is not an object."));var t=e.done;return Promise.resolve(e.value).then((function(e){return{value:e,done:t}}))}return t=function(e){this.s=e,this.n=e.next},t.prototype={s:null,n:null,next:function(){return n(this.n.apply(this.s,arguments))},return:function(e){var t=this.s.return;return void 0===t?Promise.resolve({value:e,done:!0}):n(t.apply(this.s,arguments))},throw:function(e){var t=this.s.return;return void 0===t?Promise.reject(e):n(t.apply(this.s,arguments))}},new t(e)}e.exports=function(e){var n,r,i,o=2;for("undefined"!=typeof Symbol&&(r=Symbol.asyncIterator,i=Symbol.iterator);o--;){if(r&&null!=(n=e[r]))return n.call(e);if(i&&null!=(n=e[i]))return new t(n.call(e));r="@@asyncIterator",i="@@iterator"}throw new TypeError("Object is not async iterable")},e.exports.__esModule=!0,e.exports.default=e.exports},7156:function(e){function t(e,t,n,r,i,o,a){try{var s=e[o](a),u=s.value}catch(l){return void n(l)}s.done?t(u):Promise.resolve(u).then(r,i)}e.exports=function(e){return function(){var n=this,r=arguments;return new Promise((function(i,o){var a=e.apply(n,r);function s(e){t(a,i,o,s,u,"next",e)}function u(e){t(a,i,o,s,u,"throw",e)}s(void 0)}))}},e.exports.__esModule=!0,e.exports.default=e.exports},6690:function(e){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},e.exports.__esModule=!0,e.exports.default=e.exports},3515:function(e,t,n){var r=n(6015),i=n(9617);function o(t,n,a){return i()?(e.exports=o=Reflect.construct.bind(),e.exports.__esModule=!0,e.exports.default=e.exports):(e.exports=o=function(e,t,n){var i=[null];i.push.apply(i,t);var o=new(Function.bind.apply(e,i));return n&&r(o,n.prototype),o},e.exports.__esModule=!0,e.exports.default=e.exports),o.apply(null,arguments)}e.exports=o,e.exports.__esModule=!0,e.exports.default=e.exports},9728:function(e,t,n){var r=n(4062);function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,r(i.key),i)}}e.exports=function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e},e.exports.__esModule=!0,e.exports.default=e.exports},4704:function(e,t,n){var r=n(6116);e.exports=function(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=r(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var i=0,o=function(){};return{s:o,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,s=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){u=!0,a=e},f:function(){try{s||null==n.return||n.return()}finally{if(u)throw a}}}},e.exports.__esModule=!0,e.exports.default=e.exports},6389:function(e,t,n){var r=n(3808),i=n(9617),o=n(4993);e.exports=function(e){var t=i();return function(){var n,i=r(e);if(t){var a=r(this).constructor;n=Reflect.construct(i,arguments,a)}else n=i.apply(this,arguments);return o(this,n)}},e.exports.__esModule=!0,e.exports.default=e.exports},8416:function(e,t,n){var r=n(4062);e.exports=function(e,t,n){return(t=r(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},e.exports.__esModule=!0,e.exports.default=e.exports},1588:function(e,t,n){var r=n(1753);function i(){return"undefined"!==typeof Reflect&&Reflect.get?(e.exports=i=Reflect.get.bind(),e.exports.__esModule=!0,e.exports.default=e.exports):(e.exports=i=function(e,t,n){var i=r(e,t);if(i){var o=Object.getOwnPropertyDescriptor(i,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},e.exports.__esModule=!0,e.exports.default=e.exports),i.apply(this,arguments)}e.exports=i,e.exports.__esModule=!0,e.exports.default=e.exports},3808:function(e){function t(n){return e.exports=t=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},e.exports.__esModule=!0,e.exports.default=e.exports,t(n)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},1655:function(e,t,n){var r=n(6015);e.exports=function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&r(e,t)},e.exports.__esModule=!0,e.exports.default=e.exports},6035:function(e){e.exports=function(e){return-1!==Function.toString.call(e).indexOf("[native code]")},e.exports.__esModule=!0,e.exports.default=e.exports},9617:function(e){e.exports=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}},e.exports.__esModule=!0,e.exports.default=e.exports},9498:function(e){e.exports=function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)},e.exports.__esModule=!0,e.exports.default=e.exports},8872:function(e){e.exports=function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],u=!0,l=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);u=!0);}catch(c){l=!0,i=c}finally{try{if(!u&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return s}},e.exports.__esModule=!0,e.exports.default=e.exports},2218:function(e){e.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.__esModule=!0,e.exports.default=e.exports},2281:function(e){e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.__esModule=!0,e.exports.default=e.exports},2122:function(e,t,n){var r=n(8416);function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}e.exports=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e},e.exports.__esModule=!0,e.exports.default=e.exports},4993:function(e,t,n){var r=n(8698).default,i=n(6115);e.exports=function(e,t){if(t&&("object"===r(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return i(e)},e.exports.__esModule=!0,e.exports.default=e.exports},3744:function(e){e.exports=function(e){throw new TypeError('"'+e+'" is read-only')},e.exports.__esModule=!0,e.exports.default=e.exports},7061:function(e,t,n){var r=n(8698).default;function i(){"use strict";e.exports=i=function(){return t},e.exports.__esModule=!0,e.exports.default=e.exports;var t={},n=Object.prototype,o=n.hasOwnProperty,a=Object.defineProperty||function(e,t,n){e[t]=n.value},s="function"==typeof Symbol?Symbol:{},u=s.iterator||"@@iterator",l=s.asyncIterator||"@@asyncIterator",c=s.toStringTag||"@@toStringTag";function h(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{h({},"")}catch(L){h=function(e,t,n){return e[t]=n}}function f(e,t,n,r){var i=t&&t.prototype instanceof g?t:g,o=Object.create(i.prototype),s=new S(r||[]);return a(o,"_invoke",{value:w(e,n,s)}),o}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(L){return{type:"throw",arg:L}}}t.wrap=f;var p={};function g(){}function y(){}function A(){}var v={};h(v,u,(function(){return this}));var b=Object.getPrototypeOf,_=b&&b(b(B([])));_&&_!==n&&o.call(_,u)&&(v=_);var m=A.prototype=g.prototype=Object.create(v);function k(e){["next","throw","return"].forEach((function(t){h(e,t,(function(e){return this._invoke(t,e)}))}))}function I(e,t){function n(i,a,s,u){var l=d(e[i],e,a);if("throw"!==l.type){var c=l.arg,h=c.value;return h&&"object"==r(h)&&o.call(h,"__await")?t.resolve(h.__await).then((function(e){n("next",e,s,u)}),(function(e){n("throw",e,s,u)})):t.resolve(h).then((function(e){c.value=e,s(c)}),(function(e){return n("throw",e,s,u)}))}u(l.arg)}var i;a(this,"_invoke",{value:function(e,r){function o(){return new t((function(t,i){n(e,r,t,i)}))}return i=i?i.then(o,o):o()}})}function w(e,t,n){var r="suspendedStart";return function(i,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw o;return Q()}for(n.method=i,n.arg=o;;){var a=n.delegate;if(a){var s=E(a,n);if(s){if(s===p)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=d(e,t,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===p)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}function E(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,E(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),p;var i=d(r,e.iterator,t.arg);if("throw"===i.type)return t.method="throw",t.arg=i.arg,t.delegate=null,p;var o=i.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,p):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,p)}function x(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function S(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(x,this),this.reset(!0)}function B(e){if(e){var t=e[u];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,r=function t(){for(;++n<e.length;)if(o.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return r.next=r}}return{next:Q}}function Q(){return{value:void 0,done:!0}}return y.prototype=A,a(m,"constructor",{value:A,configurable:!0}),a(A,"constructor",{value:y,configurable:!0}),y.displayName=h(A,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===y||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,A):(e.__proto__=A,h(e,c,"GeneratorFunction")),e.prototype=Object.create(m),e},t.awrap=function(e){return{__await:e}},k(I.prototype),h(I.prototype,l,(function(){return this})),t.AsyncIterator=I,t.async=function(e,n,r,i,o){void 0===o&&(o=Promise);var a=new I(f(e,n,r,i),o);return t.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},k(m),h(m,c,"Generator"),h(m,u,(function(){return this})),h(m,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=B,S.prototype={constructor:S,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(C),!e)for(var t in this)"t"===t.charAt(0)&&o.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(n,r){return a.type="throw",a.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var s=o.call(i,"catchLoc"),u=o.call(i,"finallyLoc");if(s&&u){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&o.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var i=r;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,p):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),p},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),C(n),p}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;C(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:B(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),p}},t}e.exports=i,e.exports.__esModule=!0,e.exports.default=e.exports},6015:function(e){function t(n,r){return e.exports=t=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},e.exports.__esModule=!0,e.exports.default=e.exports,t(n,r)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},7424:function(e,t,n){var r=n(5372),i=n(8872),o=n(6116),a=n(2218);e.exports=function(e,t){return r(e)||i(e,t)||o(e,t)||a()},e.exports.__esModule=!0,e.exports.default=e.exports},1753:function(e,t,n){var r=n(3808);e.exports=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=r(e)););return e},e.exports.__esModule=!0,e.exports.default=e.exports},861:function(e,t,n){var r=n(3405),i=n(9498),o=n(6116),a=n(2281);e.exports=function(e){return r(e)||i(e)||o(e)||a()},e.exports.__esModule=!0,e.exports.default=e.exports},5036:function(e,t,n){var r=n(8698).default;e.exports=function(e,t){if("object"!==r(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)},e.exports.__esModule=!0,e.exports.default=e.exports},4062:function(e,t,n){var r=n(8698).default,i=n(5036);e.exports=function(e){var t=i(e,"string");return"symbol"===r(t)?t:String(t)},e.exports.__esModule=!0,e.exports.default=e.exports},8698:function(e){function t(n){return e.exports=t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,t(n)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},6116:function(e,t,n){var r=n(3897);e.exports=function(e,t){if(e){if("string"===typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}},e.exports.__esModule=!0,e.exports.default=e.exports},3496:function(e,t,n){var r=n(3808),i=n(6015),o=n(6035),a=n(3515);function s(t){var n="function"===typeof Map?new Map:void 0;return e.exports=s=function(e){if(null===e||!o(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof n){if(n.has(e))return n.get(e);n.set(e,t)}function t(){return a(e,arguments,r(this).constructor)}return t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),i(t,e)},e.exports.__esModule=!0,e.exports.default=e.exports,s(t)}e.exports=s,e.exports.__esModule=!0,e.exports.default=e.exports}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var o=t[r]={exports:{}};return e[r](o,o.exports,n),o.exports}n.m=e,n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.f={},n.e=function(e){return Promise.all(Object.keys(n.f).reduce((function(t,r){return n.f[r](e,t),t}),[]))},n.u=function(e){return"static/js/"+e+".c426dd8b.chunk.js"},n.miniCssF=function(e){},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},function(){var e={},t="hyperfind:";n.l=function(r,i,o,a){if(e[r])e[r].push(i);else{var s,u;if(void 0!==o)for(var l=document.getElementsByTagName("script"),c=0;c<l.length;c++){var h=l[c];if(h.getAttribute("src")==r||h.getAttribute("data-webpack")==t+o){s=h;break}}s||(u=!0,(s=document.createElement("script")).charset="utf-8",s.timeout=120,n.nc&&s.setAttribute("nonce",n.nc),s.setAttribute("data-webpack",t+o),s.src=r),e[r]=[i];var f=function(t,n){s.onerror=s.onload=null,clearTimeout(d);var i=e[r];if(delete e[r],s.parentNode&&s.parentNode.removeChild(s),i&&i.forEach((function(e){return e(n)})),t)return t(n)},d=setTimeout(f.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=f.bind(null,s.onerror),s.onload=f.bind(null,s.onload),u&&document.head.appendChild(s)}}}(),n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/",function(){var e={179:0};n.f.j=function(t,r){var i=n.o(e,t)?e[t]:void 0;if(0!==i)if(i)r.push(i[2]);else{var o=new Promise((function(n,r){i=e[t]=[n,r]}));r.push(i[2]=o);var a=n.p+n.u(t),s=new Error;n.l(a,(function(r){if(n.o(e,t)&&(0!==(i=e[t])&&(e[t]=void 0),i)){var o=r&&("load"===r.type?"missing":r.type),a=r&&r.target&&r.target.src;s.message="Loading chunk "+t+" failed.\n("+o+": "+a+")",s.name="ChunkLoadError",s.type=o,s.request=a,i[1](s)}}),"chunk-"+t,t)}};var t=function(t,r){var i,o,a=r[0],s=r[1],u=r[2],l=0;if(a.some((function(t){return 0!==e[t]}))){for(i in s)n.o(s,i)&&(n.m[i]=s[i]);if(u)u(n)}for(t&&t(r);l<a.length;l++)o=a[l],n.o(e,o)&&e[o]&&e[o][0](),e[o]=0},r=self.webpackChunkhyperfind=self.webpackChunkhyperfind||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))}(),function(){"use strict";var e,t=n(2791),r=n(1250),i=n.p+"static/media/196x196.0b0e028cefd1ebc33582.png",o=n(4541),a=n.n(o),s=n(2007),u=n.n(s),l=n(1694),c=n.n(l);function h(e){return h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},h(e)}function f(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e;return n?t.split(" ").map((function(e){return n[e]||e})).join(" "):t}var d={};function p(e){d[e]||("undefined"!==typeof console&&console.error(e),d[e]=!0)}var g="object"===("undefined"===typeof window?"undefined":h(window))&&window.Element||function(){};u().oneOfType([u().string,u().func,function(e,t,n){if(!(e[t]instanceof g))return new Error("Invalid prop `"+t+"` supplied to `"+n+"`. Expected prop to be an instance of Element. Validation failed.")},u().shape({current:u().any})]);var y=u().oneOfType([u().func,u().string,u().shape({$$typeof:u().symbol,render:u().func}),u().arrayOf(u().oneOfType([u().func,u().string,u().shape({$$typeof:u().symbol,render:u().func})]))]);"undefined"===typeof window||!window.document||window.document.createElement;function A(e){var t=h(e);return null!=e&&("object"===t||"function"===t)}var v=["className","cssModule","widths","tag"];function b(){return b=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},b.apply(this,arguments)}function _(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var k=["xs","sm","md","lg","xl","xxl"],I=u().oneOfType([u().number,u().string]),w=u().oneOfType([u().bool,u().number,u().string,u().shape({size:u().oneOfType([u().bool,u().number,u().string]),order:I,offset:I})]),E={tag:y,xs:w,sm:w,md:w,lg:w,xl:w,xxl:w,className:u().string,cssModule:u().object,widths:u().array},x={tag:"div",widths:k},C=function(e,t,n){return!0===n||""===n?e?"col":"col-".concat(t):"auto"===n?e?"col-auto":"col-".concat(t,"-auto"):e?"col-".concat(n):"col-".concat(t,"-").concat(n)};function S(e){var n=e.className,r=e.cssModule,i=e.widths,o=e.tag,a=function(e,t){var n=e,r=[];return(arguments.length>2&&void 0!==arguments[2]?arguments[2]:k).forEach((function(e,i){var o=n[e];if(delete n[e],o||""===o){var a=!i;if(A(o)){var s,u=a?"-":"-".concat(e,"-"),l=C(a,e,o.size);r.push(f(c()((m(s={},l,o.size||""===o.size),m(s,"order".concat(u).concat(o.order),o.order||0===o.order),m(s,"offset".concat(u).concat(o.offset),o.offset||0===o.offset),s)),t))}else{var h=C(a,e,o);r.push(h)}}})),{colClasses:r,modifiedAttributes:n}}(_(e,v),r,i),s=a.modifiedAttributes,u=a.colClasses;u.length||u.push("col");var l=f(c()(n,u),r);return t.createElement(o,b({},s,{className:l}))}S.propTypes=E,S.defaultProps=x;var B=S,Q=["className","cssModule","fluid","tag"];function L(){return L=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},L.apply(this,arguments)}function D(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var M={tag:y,fluid:u().oneOfType([u().bool,u().string]),className:u().string,cssModule:u().object};function P(e){var n=e.className,r=e.cssModule,i=e.fluid,o=e.tag,a=D(e,Q),s="container";!0===i?s="container-fluid":i&&(s="container-".concat(i));var u=f(c()(n,s),r);return t.createElement(o,L({},a,{className:u}))}P.propTypes=M,P.defaultProps={tag:"div"};var U=P,N=["className","cssModule","noGutters","tag","widths"];function T(){return T=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},T.apply(this,arguments)}function O(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var K,R,F=u().oneOfType([u().number,u().string]),Y={tag:y,noGutters:(K=u().bool,R="Please use Bootstrap 5 gutter utility classes. https://getbootstrap.com/docs/5.0/layout/gutters/",function(e,t,n){null!==e[t]&&"undefined"!==typeof e[t]&&p('"'.concat(t,'" property of "').concat(n,'" has been deprecated.\n').concat(R));for(var r=arguments.length,i=new Array(r>3?r-3:0),o=3;o<r;o++)i[o-3]=arguments[o];return K.apply(void 0,[e,t,n].concat(i))}),className:u().string,cssModule:u().object,xs:F,sm:F,md:F,lg:F,xl:F,xxl:F,widths:u().array},z={tag:"div",widths:["xs","sm","md","lg","xl","xxl"]};function H(e){var n=e.className,r=e.cssModule,i=e.noGutters,o=e.tag,a=e.widths,s=O(e,N),u=[];a.forEach((function(t,n){var r=e[t];if(delete s[t],r){var i=!n;u.push(i?"row-cols-".concat(r):"row-cols-".concat(t,"-").concat(r))}}));var l=f(c()(n,i?"gx-0":null,"row",u),r);return t.createElement(o,T({},s,{className:l}))}H.propTypes=Y,H.defaultProps=z;var j=H;function q(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function G(e,t){if(e){if("string"===typeof e)return q(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?q(e,t):void 0}}function V(e){return function(e){if(Array.isArray(e))return q(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||G(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function W(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=G(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function J(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],u=!0,l=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);u=!0);}catch(c){l=!0,i=c}finally{try{if(!u&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return s}}(e,t)||G(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function X(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var Z=n(1046),$=n.n(Z),ee=n(8451),te=n.n(ee),ne=["children","storage","publicKey"],re=(0,t.createContext)(),ie=["ready","append","close","peer-add","peer-remove","truncate"],oe=function(e){var n=e.children,r=e.storage,i=e.publicKey,o=X(e,ne),a=J((0,t.useState)(null),2),s=a[0],u=a[1],l=Object.values(o);return(0,t.useEffect)((function(){if(r){var e=new($())(r,i,o),t=function(){return u(e)};return e.once("ready",t),function(){e.off("ready",t),e.close().catch(te())}}}),[r,i].concat(l)),s?t.createElement(re.Provider,{value:{core:s}},n):null},ae=function(){var e=(0,t.useContext)(re);if(void 0===e)throw new Error("useCore must be used within a Core component");return e},se=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ie,n=ae().core,r=J((0,t.useState)(0),2),i=r[0],o=r[1],a=(0,t.useRef)(0),s=(0,t.useRef)(0);return(0,t.useEffect)((function(){a.current=0,s.current=0}),[n]),(0,t.useEffect)((function(){if(n){var t,r=function(){a.current=n.length,s.current=n.peers.length,o((function(e){return e+1}))},i=W(e);try{for(i.s();!(t=i.n()).done;){var u=t.value;n.on(u,r)}}catch(l){i.e(l)}finally{i.f()}return(e.includes("ready")&&n.opened||e.includes("close")&&n.closed||e.includes("append")&&a<n.length||e.includes("peer-add")&&s<n.peers.length||e.includes("peer-remove")&&s>n.peers.length)&&r(),function(){var t,i=W(e);try{for(i.s();!(t=i.n()).done;){var o=t.value;n.off(o,r)}}catch(l){i.e(l)}finally{i.f()}}}}),[n].concat(V(e))),{onwatch:i}},ue=n(4587),le=n.n(ue),ce=n(7254),he=n(184),fe=(0,t.createContext)(),de=function(e){var n=e.children,r=J((0,t.useState)(null),2),i=r[0],o=r[1],a=J((0,t.useState)(""),2),s=a[0],u=a[1],l=function(e){var n=J((0,t.useState)(e||""),2),r=n[0];return{value:r,setValue:n[1],key:r&&64===r.length?le().from(r,"hex"):null}}();return(0,t.useEffect)((function(){if(52===s.length)try{return void o(ce.decode(s))}catch(e){}else if(64===s.length)return void o(le().from(s,"hex"));o(null)}),[s]),(0,he.jsx)(fe.Provider,{value:{lookup:i,searchValue:s,setSearchValue:u,encryptionKey:l.key,encryptionValue:l.value,setEncryptionValue:l.setValue},children:n})},pe=function(){var e=(0,t.useContext)(fe);if(void 0===e)throw new Error("useLookup must be used within a Lookup component");return e};var ge=function(){var e=ae().core,t=pe().lookup;return se(),e&&t?(0,he.jsxs)("section",{className:"print-core-section",children:[(0,he.jsx)(ke,{children:"Core"}),(0,he.jsxs)(me,{children:["ID ",(0,he.jsx)("span",{style:{color:"#58a6ff"},children:e.id})]}),(0,he.jsxs)(me,{children:["Length ",(0,he.jsx)("span",{children:e.length})]}),(0,he.jsxs)(me,{children:["Peers ",(0,he.jsx)("span",{children:e.peers.length})]})]}):null};function ye(e){return ye="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ye(e)}function Ae(e){var t=function(e,t){if("object"!==ye(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==ye(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===ye(t)?t:String(t)}function ve(e,t,n){return(t=Ae(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function be(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _e(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?be(Object(n),!0).forEach((function(t){ve(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):be(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var me=function(e){return(0,he.jsx)("span",_e(_e({},e),{},{className:"span-section",children:e.children}))};var ke=function(e){return(0,he.jsx)("span",_e(_e({},e),{},{className:"span-title",children:e.children}))};function Ie(e){return Ie="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ie(e)}var we=["className","cssModule","type","bsSize","valid","invalid","tag","addon","plaintext","innerRef"];function Ee(){return Ee=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ee.apply(this,arguments)}function xe(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Ce(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Se(e,t){return Se=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Se(e,t)}function Be(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Le(e);if(t){var i=Le(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===Ie(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Qe(e)}(this,n)}}function Qe(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Le(e){return Le=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Le(e)}var De={children:u().node,type:u().string,size:u().oneOfType([u().number,u().string]),bsSize:u().string,valid:u().bool,invalid:u().bool,tag:y,innerRef:u().oneOfType([u().object,u().func,u().string]),plaintext:u().bool,addon:u().bool,className:u().string,cssModule:u().object},Me=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Se(e,t)}(a,e);var n,r,i,o=Be(a);function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=o.call(this,e)).getRef=t.getRef.bind(Qe(t)),t.focus=t.focus.bind(Qe(t)),t}return n=a,(r=[{key:"getRef",value:function(e){this.props.innerRef&&this.props.innerRef(e),this.ref=e}},{key:"focus",value:function(){this.ref&&this.ref.focus()}},{key:"render",value:function(){var e=this.props,n=e.className,r=e.cssModule,i=e.type,o=e.bsSize,a=e.valid,s=e.invalid,u=e.tag,l=e.addon,h=e.plaintext,d=e.innerRef,g=xe(e,we),y=["switch","radio","checkbox"].indexOf(i)>-1,A="select"===i,v="range"===i,b=u||(A||"textarea"===i?i:"input"),_="form-control";h?(_="".concat(_,"-plaintext"),b=u||"input"):v?_="form-range":A?_="form-select":y&&(_=l?null:"form-check-input"),g.size&&/\D/g.test(g.size)&&(p('Please use the prop "bsSize" instead of the "size" to bootstrap\'s input sizing.'),o=g.size,delete g.size);var m=f(c()(n,s&&"is-invalid",a&&"is-valid",!!o&&(A?"form-select-".concat(o):"form-control-".concat(o)),_),r);return("input"===b||u&&"function"===typeof u)&&(g.type="switch"===i?"checkbox":i),g.children&&!h&&"select"!==i&&"string"===typeof b&&"select"!==b&&(p('Input with a type of "'.concat(i,'" cannot have children. Please use "value"/"defaultValue" instead.')),delete g.children),t.createElement(b,Ee({},g,{ref:d,className:m,"aria-invalid":s}))}}])&&Ce(n.prototype,r),i&&Ce(n,i),Object.defineProperty(n,"prototype",{writable:!1}),a}(t.Component);Me.propTypes=De,Me.defaultProps={type:"text"};var Pe=Me;var Ue=function(e){return(0,he.jsx)(Pe,_e(_e({className:"custom-input"},e),{},{children:e.children}))};function Ne(){Ne=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},o=i.iterator||"@@iterator",a=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(S){u=function(e,t,n){return e[t]=n}}function l(e,t,n,i){var o=t&&t.prototype instanceof f?t:f,a=Object.create(o.prototype),s=new E(i||[]);return r(a,"_invoke",{value:m(e,n,s)}),a}function c(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(S){return{type:"throw",arg:S}}}e.wrap=l;var h={};function f(){}function d(){}function p(){}var g={};u(g,o,(function(){return this}));var y=Object.getPrototypeOf,A=y&&y(y(x([])));A&&A!==t&&n.call(A,o)&&(g=A);var v=p.prototype=f.prototype=Object.create(g);function b(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function _(e,t){function i(r,o,a,s){var u=c(e[r],e,o);if("throw"!==u.type){var l=u.arg,h=l.value;return h&&"object"==ye(h)&&n.call(h,"__await")?t.resolve(h.__await).then((function(e){i("next",e,a,s)}),(function(e){i("throw",e,a,s)})):t.resolve(h).then((function(e){l.value=e,a(l)}),(function(e){return i("throw",e,a,s)}))}s(u.arg)}var o;r(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){i(e,n,t,r)}))}return o=o?o.then(r,r):r()}})}function m(e,t,n){var r="suspendedStart";return function(i,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw o;return C()}for(n.method=i,n.arg=o;;){var a=n.delegate;if(a){var s=k(a,n);if(s){if(s===h)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=c(e,t,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===h)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}function k(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,k(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),h;var i=c(r,e.iterator,t.arg);if("throw"===i.type)return t.method="throw",t.arg=i.arg,t.delegate=null,h;var o=i.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,h):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,h)}function I(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function w(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function E(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(I,this),this.reset(!0)}function x(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,i=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:C}}function C(){return{value:void 0,done:!0}}return d.prototype=p,r(v,"constructor",{value:p,configurable:!0}),r(p,"constructor",{value:d,configurable:!0}),d.displayName=u(p,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,u(e,s,"GeneratorFunction")),e.prototype=Object.create(v),e},e.awrap=function(e){return{__await:e}},b(_.prototype),u(_.prototype,a,(function(){return this})),e.AsyncIterator=_,e.async=function(t,n,r,i,o){void 0===o&&(o=Promise);var a=new _(l(t,n,r,i),o);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},b(v),u(v,s,"Generator"),u(v,o,(function(){return this})),u(v,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=x,E.prototype={constructor:E,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(w),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return a.type="throw",a.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],a=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var s=n.call(o,"catchLoc"),u=n.call(o,"finallyLoc");if(s&&u){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,h):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),h},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),w(n),h}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;w(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:x(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),h}},e}function Te(e,t,n,r,i,o,a){try{var s=e[o](a),u=s.value}catch(l){return void n(l)}s.done?t(u):Promise.resolve(u).then(r,i)}var Oe=["className","cssModule","variant","innerRef"];function Ke(){return Ke=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ke.apply(this,arguments)}function Re(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var Fe={active:u().bool,"aria-label":u().string,onClick:u().func,variant:u().oneOf(["white"]),className:u().string,cssModule:u().object,innerRef:u().oneOfType([u().object,u().string,u().func])};function Ye(e){var n=e.className,r=(e.cssModule,e.variant),i=e.innerRef,o=Re(e,Oe),a=f(c()(n,"btn-close",r&&"btn-close-".concat(r)));return t.createElement("button",Ke({ref:i,type:"button",className:a},o))}Ye.propTypes=Fe,Ye.defaultProps={"aria-label":"close"};var ze=Ye,He=["active","aria-label","block","className","close","cssModule","color","outline","size","tag","innerRef"];function je(){return je=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},je.apply(this,arguments)}function qe(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var Ge={active:u().bool,"aria-label":u().string,block:u().bool,children:u().node,className:u().string,cssModule:u().object,close:u().bool,color:u().string,disabled:u().bool,innerRef:u().oneOfType([u().object,u().func,u().string]),onClick:u().func,outline:u().bool,size:u().string,tag:y};function Ve(e){var n=(0,t.useCallback)((function(t){if(!e.disabled)return e.onClick?e.onClick(t):void 0;t.preventDefault()}),[e.onClick,e.disabled]),r=e.active,i=e["aria-label"],o=e.block,a=e.className,s=e.close,u=e.cssModule,l=e.color,h=e.outline,d=e.size,p=e.tag,g=e.innerRef,y=qe(e,He);if(s)return t.createElement(ze,y);var A="btn".concat(h?"-outline":"","-").concat(l),v=f(c()(a,"btn",A,!!d&&"btn-".concat(d),!!o&&"d-block w-100",{active:r,disabled:e.disabled}),u);return y.href&&"button"===p&&(p="a"),t.createElement(p,je({type:"button"===p&&y.onClick?"button":void 0},y,{className:v,ref:g,onClick:n,"aria-label":i}))}Ve.propTypes=Ge,Ve.defaultProps={color:"secondary",tag:"button"};var We=Ve;var Je=function(){var e=ae().core,n=pe().lookup,r=J((0,t.useState)([]),2),i=r[0],o=r[1],a=J((0,t.useState)(1),2),s=a[0],u=a[1],l=J((0,t.useState)(10),1)[0],c=J((0,t.useState)(0),2),h=c[0],f=c[1],d=se(["append"]).onwatch,p=s*l-l;return(0,t.useEffect)((function(){if(o([]),n&&null!==e){var t=!1;return function(){r.apply(this,arguments)}(),function(){t=!0}}function r(){var n;return n=Ne().mark((function n(){var r,i,a,s;return Ne().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:n.prev=0,f(Math.ceil(e.length/l)),r=Math.min(p+l,e.length),i=Ne().mark((function n(){var r,i,s;return Ne().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,e.get(a,{timeout:15e3});case 2:if(r=n.sent,!t){n.next=5;break}return n.abrupt("return",{v:void 0});case 5:if(!(i=a===p)||r){n.next=8;break}return n.abrupt("return",{v:void 0});case 8:if(r){n.next=10;break}return n.abrupt("return","break");case 10:s={index:a,value:le().toString(r)},o((function(e){return i?[s]:[].concat(V(e),[s])}));case 12:case"end":return n.stop()}}),n)})),a=p;case 5:if(!(a<r)){n.next=15;break}return n.delegateYield(i(),"t0",7);case 7:if("break"!==(s=n.t0)){n.next=10;break}return n.abrupt("break",15);case 10:if("object"!==typeof s){n.next=12;break}return n.abrupt("return",s.v);case 12:a++,n.next=5;break;case 15:return n.abrupt("return");case 18:n.prev=18,n.t1=n.catch(0);case 20:o([]);case 21:case"end":return n.stop()}}),n,null,[[0,18]])})),r=function(){var e=this,t=arguments;return new Promise((function(r,i){var o=n.apply(e,t);function a(e){Te(o,r,i,a,s,"next",e)}function s(e){Te(o,r,i,a,s,"throw",e)}a(void 0)}))},r.apply(this,arguments)}}),[n,e,s,d]),e&&n?(0,he.jsxs)(he.Fragment,{children:[(0,he.jsx)(ke,{children:"Blocks"}),i.length>0?i.map((function(e){return(0,he.jsxs)("div",{children:[(0,he.jsxs)("span",{className:"span-block-section",children:["#",e.index]}),"\xa0",(0,he.jsx)("span",{children:e.value}),(0,he.jsx)("br",{})]},"block-"+e.index)})):(0,he.jsx)("div",{children:"Loading..."}),(0,he.jsxs)("div",{style:{marginTop:"10px"},children:[(0,he.jsx)(We,{onClick:function(){s<=1||u(s-1)},style:{marginLeft:"2px",marginRight:"2px",borderRadius:0,background:"#2e3344"},children:"\u2039Prev"}),(0,he.jsx)(We,{onClick:function(){s>=h||u(s+1)},style:{marginLeft:"2px",marginRight:"2px",borderRadius:0,background:"#2e3344"},children:"Next\u203a"})]})]}):null},Xe=n(3936),Ze=n.n(Xe),$e=n(4636),et=n.n($e),tt=n(2635),nt=n.n(tt),rt=window.localStorage.getItem("primary-key");null===rt&&(rt=le().toString(function(e){var t=le().allocUnsafe(e);return nt().randombytes_buf(t),t}(32),"hex"),window.localStorage.setItem("primary-key",rt)),rt=le().from(rt,"hex");var it=["children","url","keyPair"],ot=(0,t.createContext)(),at=function(e){var n=e.children,r=e.url,i=e.keyPair,o=X(e,it),a=J((0,t.useState)(null),2),s=a[0],u=a[1];return(0,t.useEffect)((function(){var e=new window.WebSocket(r||"wss://dht1-relay.leet.ar:49443"),t=new(et())(!0,e);i=i||Ze().keyPair(rt);var n=new(Ze())(t,_e({keyPair:i},o));return u(n),function(){n.destroy().catch(te())}}),[i]),t.createElement(ot.Provider,{value:{dht:s}},n)},st=n(8994),ut=n.n(st),lt=["children"],ct=(0,t.createContext)(),ht=function(e){var n=e.children,r=X(e,lt),i=function(){var e=(0,t.useContext)(ot);if(void 0===e)throw new Error("useDHT must be used within a DHT component");return e}().dht,o=J((0,t.useState)(null),2),a=o[0],s=o[1];return(0,t.useEffect)((function(){if(i){var e=new(ut())(_e(_e({keyPair:i.defaultKeyPair},r),{},{dht:i}));return s(e),function(){e.destroy().catch(te())}}}),[i]),t.createElement(ct.Provider,{value:{swarm:a}},n)},ft=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=function(){var e=(0,t.useContext)(ct);if(void 0===e)throw new Error("useSwarm must be used within a Swarm component");return e}().swarm;(0,t.useEffect)((function(){if(r&&e&&!e.closed){var t=!1,n=null,i=function(t){return e.replicate(t)};return e.ready().catch(te()).then((function(){if(!t){n=r.session({keyPair:r.keyPair});var o=e.findingPeers();n.on("connection",i),n.join(e.discoveryKey,{server:!1,client:!0}),n.flush().then(o,o)}})),function(){t=!0,n&&n.destroy().catch(te())}}}),[r,e].concat(V(n)))},dt=function(){var e=pe(),t=e.searchValue,n=e.setSearchValue,r=e.encryptionValue,i=e.setEncryptionValue;return(0,he.jsxs)(he.Fragment,{children:[(0,he.jsx)(B,{xs:8,children:(0,he.jsx)(Ue,{type:"text",placeholder:"Find core by key",onChange:function(e){n(e.target.value)},value:t})}),(0,he.jsx)("br",{}),(0,he.jsx)("br",{}),(0,he.jsx)(B,{xs:8,children:(0,he.jsx)(Ue,{type:"password",placeholder:"Encryption key (optional)",onChange:function(e){i(e.target.value)},value:r})})]})},pt=function(){var e=ae().core,t=pe().lookup;return ft(t?e:null,[t]),(0,he.jsxs)(B,{xs:8,style:{marginTop:"10px"},children:[(0,he.jsx)(ge,{}),(0,he.jsx)(Je,{})]})};function gt(){var e=pe(),t=e.lookup,n=e.encryptionKey;return(0,he.jsx)("div",{className:"custom-body body-dark",children:(0,he.jsx)(U,{children:(0,he.jsxs)(j,{className:"custom-row",style:{justifyContent:"center"},children:[(0,he.jsx)(B,{xs:12,style:{display:"flex",justifyContent:"center"},children:(0,he.jsx)("img",{src:i,alt:"Hypercore Explorer Logo",width:70})}),(0,he.jsx)(B,{xs:12,style:{display:"flex",justifyContent:"center"},children:(0,he.jsx)("h1",{style:{fontSize:"2em,",marginBottom:"20px",marginTop:"20px"},children:"Hypercore Explorer"})}),(0,he.jsx)("br",{}),(0,he.jsx)("br",{}),(0,he.jsx)(dt,{}),(0,he.jsx)("br",{}),(0,he.jsx)("br",{}),(0,he.jsx)("br",{}),t&&(0,he.jsx)(oe,{storage:a(),publicKey:t,encryptionKey:n,children:(0,he.jsx)(pt,{})})]})})})}var yt=function(){return(0,he.jsxs)(at,{children:[" ",(0,he.jsx)(ht,{children:(0,he.jsx)(de,{children:(0,he.jsx)(gt,{})})})]})},At=function(e){e&&e instanceof Function&&n.e(787).then(n.bind(n,787)).then((function(t){var n=t.getCLS,r=t.getFID,i=t.getFCP,o=t.getLCP,a=t.getTTFB;n(e),r(e),i(e),o(e),a(e)}))};r.createRoot(document.getElementById("root")).render((0,he.jsx)(t.StrictMode,{children:(0,he.jsx)(yt,{})})),At()}()}();
//# sourceMappingURL=main.947c15c8.js.map